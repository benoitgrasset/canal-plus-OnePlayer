(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const m of a)if(m.type==="childList")for(const E of m.addedNodes)E.tagName==="LINK"&&E.rel==="modulepreload"&&i(E)}).observe(document,{childList:!0,subtree:!0});function n(a){const m={};return a.integrity&&(m.integrity=a.integrity),a.referrerpolicy&&(m.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?m.credentials="include":a.crossorigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function i(a){if(a.ep)return;a.ep=!0;const m=n(a);fetch(a.href,m)}})();function Nv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vs={},Ng={get exports(){return vs},set exports(e){vs=e}},Yo={},tr={},Zg={get exports(){return tr},set exports(e){tr=e}},Vn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Os=Symbol.for("react.element"),Bg=Symbol.for("react.portal"),Ug=Symbol.for("react.fragment"),Fg=Symbol.for("react.strict_mode"),zg=Symbol.for("react.profiler"),Kg=Symbol.for("react.provider"),Wg=Symbol.for("react.context"),Vg=Symbol.for("react.forward_ref"),Hg=Symbol.for("react.suspense"),Gg=Symbol.for("react.memo"),$g=Symbol.for("react.lazy"),pc=Symbol.iterator;function jg(e){return e===null||typeof e!="object"?null:(e=pc&&e[pc]||e["@@iterator"],typeof e=="function"?e:null)}var Zv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bv=Object.assign,Uv={};function Du(e,t,n){this.props=e,this.context=t,this.refs=Uv,this.updater=n||Zv}Du.prototype.isReactComponent={};Du.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Du.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Fv(){}Fv.prototype=Du.prototype;function $d(e,t,n){this.props=e,this.context=t,this.refs=Uv,this.updater=n||Zv}var jd=$d.prototype=new Fv;jd.constructor=$d;Bv(jd,Du.prototype);jd.isPureReactComponent=!0;var mc=Array.isArray,zv=Object.prototype.hasOwnProperty,Qd={current:null},Kv={key:!0,ref:!0,__self:!0,__source:!0};function Wv(e,t,n){var i,a={},m=null,E=null;if(t!=null)for(i in t.ref!==void 0&&(E=t.ref),t.key!==void 0&&(m=""+t.key),t)zv.call(t,i)&&!Kv.hasOwnProperty(i)&&(a[i]=t[i]);var _=arguments.length-2;if(_===1)a.children=n;else if(1<_){for(var r=Array(_),p=0;p<_;p++)r[p]=arguments[p+2];a.children=r}if(e&&e.defaultProps)for(i in _=e.defaultProps,_)a[i]===void 0&&(a[i]=_[i]);return{$$typeof:Os,type:e,key:m,ref:E,props:a,_owner:Qd.current}}function Qg(e,t){return{$$typeof:Os,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Yd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Os}function Yg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var gc=/\/+/g;function gl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Yg(""+e.key):t.toString(36)}function lo(e,t,n,i,a){var m=typeof e;(m==="undefined"||m==="boolean")&&(e=null);var E=!1;if(e===null)E=!0;else switch(m){case"string":case"number":E=!0;break;case"object":switch(e.$$typeof){case Os:case Bg:E=!0}}if(E)return E=e,a=a(E),e=i===""?"."+gl(E,0):i,mc(a)?(n="",e!=null&&(n=e.replace(gc,"$&/")+"/"),lo(a,t,n,"",function(p){return p})):a!=null&&(Yd(a)&&(a=Qg(a,n+(!a.key||E&&E.key===a.key?"":(""+a.key).replace(gc,"$&/")+"/")+e)),t.push(a)),1;if(E=0,i=i===""?".":i+":",mc(e))for(var _=0;_<e.length;_++){m=e[_];var r=i+gl(m,_);E+=lo(m,t,n,r,a)}else if(r=jg(e),typeof r=="function")for(e=r.call(e),_=0;!(m=e.next()).done;)m=m.value,r=i+gl(m,_++),E+=lo(m,t,n,r,a);else if(m==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return E}function Gs(e,t,n){if(e==null)return e;var i=[],a=0;return lo(e,i,"","",function(m){return t.call(n,m,a++)}),i}function Xg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ti={current:null},fo={transition:null},Jg={ReactCurrentDispatcher:ti,ReactCurrentBatchConfig:fo,ReactCurrentOwner:Qd};Vn.Children={map:Gs,forEach:function(e,t,n){Gs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Gs(e,function(){t++}),t},toArray:function(e){return Gs(e,function(t){return t})||[]},only:function(e){if(!Yd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Vn.Component=Du;Vn.Fragment=Ug;Vn.Profiler=zg;Vn.PureComponent=$d;Vn.StrictMode=Fg;Vn.Suspense=Hg;Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jg;Vn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=Bv({},e.props),a=e.key,m=e.ref,E=e._owner;if(t!=null){if(t.ref!==void 0&&(m=t.ref,E=Qd.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var _=e.type.defaultProps;for(r in t)zv.call(t,r)&&!Kv.hasOwnProperty(r)&&(i[r]=t[r]===void 0&&_!==void 0?_[r]:t[r])}var r=arguments.length-2;if(r===1)i.children=n;else if(1<r){_=Array(r);for(var p=0;p<r;p++)_[p]=arguments[p+2];i.children=_}return{$$typeof:Os,type:e.type,key:a,ref:m,props:i,_owner:E}};Vn.createContext=function(e){return e={$$typeof:Wg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Kg,_context:e},e.Consumer=e};Vn.createElement=Wv;Vn.createFactory=function(e){var t=Wv.bind(null,e);return t.type=e,t};Vn.createRef=function(){return{current:null}};Vn.forwardRef=function(e){return{$$typeof:Vg,render:e}};Vn.isValidElement=Yd;Vn.lazy=function(e){return{$$typeof:$g,_payload:{_status:-1,_result:e},_init:Xg}};Vn.memo=function(e,t){return{$$typeof:Gg,type:e,compare:t===void 0?null:t}};Vn.startTransition=function(e){var t=fo.transition;fo.transition={};try{e()}finally{fo.transition=t}};Vn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Vn.useCallback=function(e,t){return ti.current.useCallback(e,t)};Vn.useContext=function(e){return ti.current.useContext(e)};Vn.useDebugValue=function(){};Vn.useDeferredValue=function(e){return ti.current.useDeferredValue(e)};Vn.useEffect=function(e,t){return ti.current.useEffect(e,t)};Vn.useId=function(){return ti.current.useId()};Vn.useImperativeHandle=function(e,t,n){return ti.current.useImperativeHandle(e,t,n)};Vn.useInsertionEffect=function(e,t){return ti.current.useInsertionEffect(e,t)};Vn.useLayoutEffect=function(e,t){return ti.current.useLayoutEffect(e,t)};Vn.useMemo=function(e,t){return ti.current.useMemo(e,t)};Vn.useReducer=function(e,t,n){return ti.current.useReducer(e,t,n)};Vn.useRef=function(e){return ti.current.useRef(e)};Vn.useState=function(e){return ti.current.useState(e)};Vn.useSyncExternalStore=function(e,t,n){return ti.current.useSyncExternalStore(e,t,n)};Vn.useTransition=function(){return ti.current.useTransition()};Vn.version="18.2.0";(function(e){e.exports=Vn})(Zg);const qg=Nv(tr);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0=tr,t0=Symbol.for("react.element"),n0=Symbol.for("react.fragment"),r0=Object.prototype.hasOwnProperty,i0=e0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a0={key:!0,ref:!0,__self:!0,__source:!0};function Vv(e,t,n){var i,a={},m=null,E=null;n!==void 0&&(m=""+n),t.key!==void 0&&(m=""+t.key),t.ref!==void 0&&(E=t.ref);for(i in t)r0.call(t,i)&&!a0.hasOwnProperty(i)&&(a[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)a[i]===void 0&&(a[i]=t[i]);return{$$typeof:t0,type:e,key:m,ref:E,props:a,_owner:i0.current}}Yo.Fragment=n0;Yo.jsx=Vv;Yo.jsxs=Vv;(function(e){e.exports=Yo})(Ng);const u0=vs.Fragment,Rr=vs.jsx,uu=vs.jsxs;class Ds{constructor(){this.listeners=[],this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.push(t),this.onSubscribe(),()=>{this.listeners=this.listeners.filter(n=>n!==t),this.onUnsubscribe()}}hasListeners(){return this.listeners.length>0}onSubscribe(){}onUnsubscribe(){}}const hs=typeof window>"u"||"Deno"in window;function bi(){}function s0(e,t){return typeof e=="function"?e(t):e}function Gl(e){return typeof e=="number"&&e>=0&&e!==1/0}function Hv(e,t){return Math.max(e+(t||0)-Date.now(),0)}function qu(e,t,n){return Xo(e)?typeof t=="function"?{...n,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function Ea(e,t,n){return Xo(e)?[{...t,queryKey:e},n]:[e||{},t]}function yc(e,t){const{type:n="all",exact:i,fetchStatus:a,predicate:m,queryKey:E,stale:_}=e;if(Xo(E)){if(i){if(t.queryHash!==Xd(E,t.options))return!1}else if(!Ao(t.queryKey,E))return!1}if(n!=="all"){const r=t.isActive();if(n==="active"&&!r||n==="inactive"&&r)return!1}return!(typeof _=="boolean"&&t.isStale()!==_||typeof a<"u"&&a!==t.state.fetchStatus||m&&!m(t))}function _c(e,t){const{exact:n,fetching:i,predicate:a,mutationKey:m}=e;if(Xo(m)){if(!t.options.mutationKey)return!1;if(n){if(Va(t.options.mutationKey)!==Va(m))return!1}else if(!Ao(t.options.mutationKey,m))return!1}return!(typeof i=="boolean"&&t.state.status==="loading"!==i||a&&!a(t))}function Xd(e,t){return((t==null?void 0:t.queryKeyHashFn)||Va)(e)}function Va(e){return JSON.stringify(e,(t,n)=>$l(n)?Object.keys(n).sort().reduce((i,a)=>(i[a]=n[a],i),{}):n)}function Ao(e,t){return Gv(e,t)}function Gv(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Gv(e[n],t[n])):!1}function $v(e,t){if(e===t)return e;const n=Tc(e)&&Tc(t);if(n||$l(e)&&$l(t)){const i=n?e.length:Object.keys(e).length,a=n?t:Object.keys(t),m=a.length,E=n?[]:{};let _=0;for(let r=0;r<m;r++){const p=n?r:a[r];E[p]=$v(e[p],t[p]),E[p]===e[p]&&_++}return i===m&&_===i?e:E}return t}function Ec(e,t){if(e&&!t||t&&!e)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Tc(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function $l(e){if(!Sc(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!Sc(n)||!n.hasOwnProperty("isPrototypeOf"))}function Sc(e){return Object.prototype.toString.call(e)==="[object Object]"}function Xo(e){return Array.isArray(e)}function jv(e){return new Promise(t=>{setTimeout(t,e)})}function Ac(e){jv(0).then(e)}function o0(){if(typeof AbortController=="function")return new AbortController}function jl(e,t,n){return n.isDataEqual!=null&&n.isDataEqual(e,t)?e:typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?$v(e,t):t}class l0 extends Ds{constructor(){super(),this.setup=t=>{if(!hs&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var n;this.setup=t,(n=this.cleanup)==null||n.call(this),this.cleanup=t(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()})}setFocused(t){this.focused=t,t&&this.onFocus()}onFocus(){this.listeners.forEach(t=>{t()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const wo=new l0;class d0 extends Ds{constructor(){super(),this.setup=t=>{if(!hs&&window.addEventListener){const n=()=>t();return window.addEventListener("online",n,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var n;this.setup=t,(n=this.cleanup)==null||n.call(this),this.cleanup=t(i=>{typeof i=="boolean"?this.setOnline(i):this.onOnline()})}setOnline(t){this.online=t,t&&this.onOnline()}onOnline(){this.listeners.forEach(t=>{t()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const bo=new d0;function f0(e){return Math.min(1e3*2**e,3e4)}function Jo(e){return(e??"online")==="online"?bo.isOnline():!0}class Qv{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}}function co(e){return e instanceof Qv}function Yv(e){let t=!1,n=0,i=!1,a,m,E;const _=new Promise((k,c)=>{m=k,E=c}),r=k=>{i||(b(new Qv(k)),e.abort==null||e.abort())},p=()=>{t=!0},g=()=>{t=!1},S=()=>!wo.isFocused()||e.networkMode!=="always"&&!bo.isOnline(),h=k=>{i||(i=!0,e.onSuccess==null||e.onSuccess(k),a==null||a(),m(k))},b=k=>{i||(i=!0,e.onError==null||e.onError(k),a==null||a(),E(k))},y=()=>new Promise(k=>{a=c=>{if(i||!S())return k(c)},e.onPause==null||e.onPause()}).then(()=>{a=void 0,i||e.onContinue==null||e.onContinue()}),A=()=>{if(i)return;let k;try{k=e.fn()}catch(c){k=Promise.reject(c)}Promise.resolve(k).then(h).catch(c=>{var f,l;if(i)return;const I=(f=e.retry)!=null?f:3,M=(l=e.retryDelay)!=null?l:f0,C=typeof M=="function"?M(n,c):M,O=I===!0||typeof I=="number"&&n<I||typeof I=="function"&&I(n,c);if(t||!O){b(c);return}n++,e.onFail==null||e.onFail(n,c),jv(C).then(()=>{if(S())return y()}).then(()=>{t?b(c):A()})})};return Jo(e.networkMode)?A():y().then(A),{promise:_,cancel:r,continue:()=>{a==null||a()},cancelRetry:p,continueRetry:g}}const Jd=console;function c0(){let e=[],t=0,n=g=>{g()},i=g=>{g()};const a=g=>{let S;t++;try{S=g()}finally{t--,t||_()}return S},m=g=>{t?e.push(g):Ac(()=>{n(g)})},E=g=>(...S)=>{m(()=>{g(...S)})},_=()=>{const g=e;e=[],g.length&&Ac(()=>{i(()=>{g.forEach(S=>{n(S)})})})};return{batch:a,batchCalls:E,schedule:m,setNotifyFunction:g=>{n=g},setBatchNotifyFunction:g=>{i=g}}}const _r=c0();class Xv{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Gl(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(t){this.cacheTime=Math.max(this.cacheTime||0,t??(hs?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class v0 extends Xv{constructor(t){super(),this.abortSignalConsumed=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.logger=t.logger||Jd,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||h0(this.options),this.state=this.initialState}get meta(){return this.options.meta}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(t,n){const i=jl(this.state.data,t,this.options);return this.dispatch({data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(t,n){this.dispatch({type:"setState",state:t,setStateOptions:n})}cancel(t){var n;const i=this.promise;return(n=this.retryer)==null||n.cancel(t),i?i.then(bi).catch(bi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(t=>t.getCurrentResult().isStale)}isStaleByTime(t=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!Hv(this.state.dataUpdatedAt,t)}onFocus(){var t;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}onOnline(){var t;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}addObserver(t){this.observers.indexOf(t)===-1&&(this.observers.push(t),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.indexOf(t)!==-1&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(t,n){var i,a;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var m;return(m=this.retryer)==null||m.continueRetry(),this.promise}}if(t&&this.setOptions(t),!this.options.queryFn){const b=this.observers.find(y=>y.options.queryFn);b&&this.setOptions(b.options)}Array.isArray(this.options.queryKey);const E=o0(),_={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},r=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>{if(E)return this.abortSignalConsumed=!0,E.signal}})};r(_);const p=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(_)):Promise.reject("Missing queryFn"),g={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:p};if(r(g),(i=this.options.behavior)==null||i.onFetch(g),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((a=g.fetchOptions)==null?void 0:a.meta)){var S;this.dispatch({type:"fetch",meta:(S=g.fetchOptions)==null?void 0:S.meta})}const h=b=>{if(co(b)&&b.silent||this.dispatch({type:"error",error:b}),!co(b)){var y,A;(y=(A=this.cache.config).onError)==null||y.call(A,b,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=Yv({fn:g.fetchFn,abort:E==null?void 0:E.abort.bind(E),onSuccess:b=>{var y,A;if(typeof b>"u"){h(new Error("undefined"));return}this.setData(b),(y=(A=this.cache.config).onSuccess)==null||y.call(A,b,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:h,onFail:(b,y)=>{this.dispatch({type:"failed",failureCount:b,error:y})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:g.options.retry,retryDelay:g.options.retryDelay,networkMode:g.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(t){const n=i=>{var a,m;switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(a=t.meta)!=null?a:null,fetchStatus:Jo(this.options.networkMode)?"fetching":"paused",...!i.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...i,data:t.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:(m=t.dataUpdatedAt)!=null?m:Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const E=t.error;return co(E)&&E.revert&&this.revertState?{...this.revertState}:{...i,error:E,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:E,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=n(this.state),_r.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate(t)}),this.cache.notify({query:this,type:"updated",action:t})})}}function h0(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=typeof t<"u",i=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class p0 extends Ds{constructor(t){super(),this.config=t||{},this.queries=[],this.queriesMap={}}build(t,n,i){var a;const m=n.queryKey,E=(a=n.queryHash)!=null?a:Xd(m,n);let _=this.get(E);return _||(_=new v0({cache:this,logger:t.getLogger(),queryKey:m,queryHash:E,options:t.defaultQueryOptions(n),state:i,defaultOptions:t.getQueryDefaults(m)}),this.add(_)),_}add(t){this.queriesMap[t.queryHash]||(this.queriesMap[t.queryHash]=t,this.queries.push(t),this.notify({type:"added",query:t}))}remove(t){const n=this.queriesMap[t.queryHash];n&&(t.destroy(),this.queries=this.queries.filter(i=>i!==t),n===t&&delete this.queriesMap[t.queryHash],this.notify({type:"removed",query:t}))}clear(){_r.batch(()=>{this.queries.forEach(t=>{this.remove(t)})})}get(t){return this.queriesMap[t]}getAll(){return this.queries}find(t,n){const[i]=Ea(t,n);return typeof i.exact>"u"&&(i.exact=!0),this.queries.find(a=>yc(i,a))}findAll(t,n){const[i]=Ea(t,n);return Object.keys(i).length>0?this.queries.filter(a=>yc(i,a)):this.queries}notify(t){_r.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){_r.batch(()=>{this.queries.forEach(t=>{t.onFocus()})})}onOnline(){_r.batch(()=>{this.queries.forEach(t=>{t.onOnline()})})}}class m0 extends Xv{constructor(t){super(),this.options={...t.defaultOptions,...t.options},this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.logger=t.logger||Jd,this.observers=[],this.state=t.state||g0(),this.updateCacheTime(this.options.cacheTime),this.scheduleGc()}get meta(){return this.options.meta}setState(t){this.dispatch({type:"setState",state:t})}addObserver(t){this.observers.indexOf(t)===-1&&(this.observers.push(t),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.observers=this.observers.filter(n=>n!==t),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()}async execute(){const t=()=>{var l;return this.retryer=Yv({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(I,M)=>{this.dispatch({type:"failed",failureCount:I,error:M})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(l=this.options.retry)!=null?l:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var i,a,m,E,_,r;if(!n){var p,g,S,h;this.dispatch({type:"loading",variables:this.options.variables}),await((p=(g=this.mutationCache.config).onMutate)==null?void 0:p.call(g,this.state.variables,this));const I=await((S=(h=this.options).onMutate)==null?void 0:S.call(h,this.state.variables));I!==this.state.context&&this.dispatch({type:"loading",context:I,variables:this.state.variables})}const l=await t();return await((i=(a=this.mutationCache.config).onSuccess)==null?void 0:i.call(a,l,this.state.variables,this.state.context,this)),await((m=(E=this.options).onSuccess)==null?void 0:m.call(E,l,this.state.variables,this.state.context)),await((_=(r=this.options).onSettled)==null?void 0:_.call(r,l,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:l}),l}catch(l){try{var b,y,A,k,c,f;throw await((b=(y=this.mutationCache.config).onError)==null?void 0:b.call(y,l,this.state.variables,this.state.context,this)),await((A=(k=this.options).onError)==null?void 0:A.call(k,l,this.state.variables,this.state.context)),await((c=(f=this.options).onSettled)==null?void 0:c.call(f,void 0,l,this.state.variables,this.state.context)),l}finally{this.dispatch({type:"error",error:l})}}}dispatch(t){const n=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"loading":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Jo(this.options.networkMode),status:"loading",variables:t.variables};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"};case"setState":return{...i,...t.state}}};this.state=n(this.state),_r.batch(()=>{this.observers.forEach(i=>{i.onMutationUpdate(t)}),this.mutationCache.notify({mutation:this,type:"updated",action:t})})}}function g0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class y0 extends Ds{constructor(t){super(),this.config=t||{},this.mutations=[],this.mutationId=0}build(t,n,i){const a=new m0({mutationCache:this,logger:t.getLogger(),mutationId:++this.mutationId,options:t.defaultMutationOptions(n),state:i,defaultOptions:n.mutationKey?t.getMutationDefaults(n.mutationKey):void 0});return this.add(a),a}add(t){this.mutations.push(t),this.notify({type:"added",mutation:t})}remove(t){this.mutations=this.mutations.filter(n=>n!==t),this.notify({type:"removed",mutation:t})}clear(){_r.batch(()=>{this.mutations.forEach(t=>{this.remove(t)})})}getAll(){return this.mutations}find(t){return typeof t.exact>"u"&&(t.exact=!0),this.mutations.find(n=>_c(t,n))}findAll(t){return this.mutations.filter(n=>_c(t,n))}notify(t){_r.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.mutations.filter(n=>n.state.isPaused);return _r.batch(()=>t.reduce((n,i)=>n.then(()=>i.continue().catch(bi)),Promise.resolve()))}}function _0(){return{onFetch:e=>{e.fetchFn=()=>{var t,n,i,a,m,E;const _=(t=e.fetchOptions)==null||(n=t.meta)==null?void 0:n.refetchPage,r=(i=e.fetchOptions)==null||(a=i.meta)==null?void 0:a.fetchMore,p=r==null?void 0:r.pageParam,g=(r==null?void 0:r.direction)==="forward",S=(r==null?void 0:r.direction)==="backward",h=((m=e.state.data)==null?void 0:m.pages)||[],b=((E=e.state.data)==null?void 0:E.pageParams)||[];let y=b,A=!1;const k=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>{var O;if((O=e.signal)!=null&&O.aborted)A=!0;else{var P;(P=e.signal)==null||P.addEventListener("abort",()=>{A=!0})}return e.signal}})},c=e.options.queryFn||(()=>Promise.reject("Missing queryFn")),f=(C,O,P,$)=>(y=$?[O,...y]:[...y,O],$?[P,...C]:[...C,P]),l=(C,O,P,$)=>{if(A)return Promise.reject("Cancelled");if(typeof P>"u"&&!O&&C.length)return Promise.resolve(C);const w={queryKey:e.queryKey,pageParam:P,meta:e.options.meta};k(w);const U=c(w);return Promise.resolve(U).then(L=>f(C,P,L,$))};let I;if(!h.length)I=l([]);else if(g){const C=typeof p<"u",O=C?p:wc(e.options,h);I=l(h,C,O)}else if(S){const C=typeof p<"u",O=C?p:E0(e.options,h);I=l(h,C,O,!0)}else{y=[];const C=typeof e.options.getNextPageParam>"u";I=(_&&h[0]?_(h[0],0,h):!0)?l([],C,b[0]):Promise.resolve(f([],b[0],h[0]));for(let P=1;P<h.length;P++)I=I.then($=>{if(_&&h[P]?_(h[P],P,h):!0){const U=C?b[P]:wc(e.options,$);return l($,C,U)}return Promise.resolve(f($,b[P],h[P]))})}return I.then(C=>({pages:C,pageParams:y}))}}}}function wc(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function E0(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}class T0{constructor(t={}){this.queryCache=t.queryCache||new p0,this.mutationCache=t.mutationCache||new y0,this.logger=t.logger||Jd,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=wo.subscribe(()=>{wo.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=bo.subscribe(()=>{bo.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var t,n;this.mountCount--,this.mountCount===0&&((t=this.unsubscribeFocus)==null||t.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(t,n){const[i]=Ea(t,n);return i.fetchStatus="fetching",this.queryCache.findAll(i).length}isMutating(t){return this.mutationCache.findAll({...t,fetching:!0}).length}getQueryData(t,n){var i;return(i=this.queryCache.find(t,n))==null?void 0:i.state.data}ensureQueryData(t,n,i){const a=qu(t,n,i),m=this.getQueryData(a.queryKey);return m?Promise.resolve(m):this.fetchQuery(a)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:n,state:i})=>{const a=i.data;return[n,a]})}setQueryData(t,n,i){const a=this.queryCache.find(t),m=a==null?void 0:a.state.data,E=s0(n,m);if(typeof E>"u")return;const _=qu(t),r=this.defaultQueryOptions(_);return this.queryCache.build(this,r).setData(E,{...i,manual:!0})}setQueriesData(t,n,i){return _r.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:a})=>[a,this.setQueryData(a,n,i)]))}getQueryState(t,n){var i;return(i=this.queryCache.find(t,n))==null?void 0:i.state}removeQueries(t,n){const[i]=Ea(t,n),a=this.queryCache;_r.batch(()=>{a.findAll(i).forEach(m=>{a.remove(m)})})}resetQueries(t,n,i){const[a,m]=Ea(t,n,i),E=this.queryCache,_={type:"active",...a};return _r.batch(()=>(E.findAll(a).forEach(r=>{r.reset()}),this.refetchQueries(_,m)))}cancelQueries(t,n,i){const[a,m={}]=Ea(t,n,i);typeof m.revert>"u"&&(m.revert=!0);const E=_r.batch(()=>this.queryCache.findAll(a).map(_=>_.cancel(m)));return Promise.all(E).then(bi).catch(bi)}invalidateQueries(t,n,i){const[a,m]=Ea(t,n,i);return _r.batch(()=>{var E,_;if(this.queryCache.findAll(a).forEach(p=>{p.invalidate()}),a.refetchType==="none")return Promise.resolve();const r={...a,type:(E=(_=a.refetchType)!=null?_:a.type)!=null?E:"active"};return this.refetchQueries(r,m)})}refetchQueries(t,n,i){const[a,m]=Ea(t,n,i),E=_r.batch(()=>this.queryCache.findAll(a).filter(r=>!r.isDisabled()).map(r=>{var p;return r.fetch(void 0,{...m,cancelRefetch:(p=m==null?void 0:m.cancelRefetch)!=null?p:!0,meta:{refetchPage:a.refetchPage}})}));let _=Promise.all(E).then(bi);return m!=null&&m.throwOnError||(_=_.catch(bi)),_}fetchQuery(t,n,i){const a=qu(t,n,i),m=this.defaultQueryOptions(a);typeof m.retry>"u"&&(m.retry=!1);const E=this.queryCache.build(this,m);return E.isStaleByTime(m.staleTime)?E.fetch(m):Promise.resolve(E.state.data)}prefetchQuery(t,n,i){return this.fetchQuery(t,n,i).then(bi).catch(bi)}fetchInfiniteQuery(t,n,i){const a=qu(t,n,i);return a.behavior=_0(),this.fetchQuery(a)}prefetchInfiniteQuery(t,n,i){return this.fetchInfiniteQuery(t,n,i).then(bi).catch(bi)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(t){this.defaultOptions=t}setQueryDefaults(t,n){const i=this.queryDefaults.find(a=>Va(t)===Va(a.queryKey));i?i.defaultOptions=n:this.queryDefaults.push({queryKey:t,defaultOptions:n})}getQueryDefaults(t){if(!t)return;const n=this.queryDefaults.find(i=>Ao(t,i.queryKey));return n==null?void 0:n.defaultOptions}setMutationDefaults(t,n){const i=this.mutationDefaults.find(a=>Va(t)===Va(a.mutationKey));i?i.defaultOptions=n:this.mutationDefaults.push({mutationKey:t,defaultOptions:n})}getMutationDefaults(t){if(!t)return;const n=this.mutationDefaults.find(i=>Ao(t,i.mutationKey));return n==null?void 0:n.defaultOptions}defaultQueryOptions(t){if(t!=null&&t._defaulted)return t;const n={...this.defaultOptions.queries,...this.getQueryDefaults(t==null?void 0:t.queryKey),...t,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=Xd(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...this.defaultOptions.mutations,...this.getMutationDefaults(t==null?void 0:t.mutationKey),...t,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class S0 extends Ds{constructor(t,n){super(),this.client=t,this.options=n,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(n)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.length===1&&(this.currentQuery.addObserver(this),bc(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return Ql(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ql(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=[],this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(t,n){const i=this.options,a=this.currentQuery;if(this.options=this.client.defaultQueryOptions(t),Ec(i,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=i.queryKey),this.updateQuery();const m=this.hasListeners();m&&Mc(this.currentQuery,a,this.options,i)&&this.executeFetch(),this.updateResult(n),m&&(this.currentQuery!==a||this.options.enabled!==i.enabled||this.options.staleTime!==i.staleTime)&&this.updateStaleTimeout();const E=this.computeRefetchInterval();m&&(this.currentQuery!==a||this.options.enabled!==i.enabled||E!==this.currentRefetchInterval)&&this.updateRefetchInterval(E)}getOptimisticResult(t){const n=this.client.getQueryCache().build(this.client,t);return this.createResult(n,t)}getCurrentResult(){return this.currentResult}trackResult(t){const n={};return Object.keys(t).forEach(i=>{Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(i),t[i])})}),n}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:t,...n}={}){return this.fetch({...n,meta:{refetchPage:t}})}fetchOptimistic(t){const n=this.client.defaultQueryOptions(t),i=this.client.getQueryCache().build(this.client,n);return i.isFetchingOptimistic=!0,i.fetch().then(()=>this.createResult(i,n))}fetch(t){var n;return this.executeFetch({...t,cancelRefetch:(n=t.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(t){this.updateQuery();let n=this.currentQuery.fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(bi)),n}updateStaleTimeout(){if(this.clearStaleTimeout(),hs||this.currentResult.isStale||!Gl(this.options.staleTime))return;const n=Hv(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},n)}computeRefetchInterval(){var t;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(t=this.options.refetchInterval)!=null?t:!1}updateRefetchInterval(t){this.clearRefetchInterval(),this.currentRefetchInterval=t,!(hs||this.options.enabled===!1||!Gl(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||wo.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(t,n){const i=this.currentQuery,a=this.options,m=this.currentResult,E=this.currentResultState,_=this.currentResultOptions,r=t!==i,p=r?t.state:this.currentQueryInitialState,g=r?this.currentResult:this.previousQueryResult,{state:S}=t;let{dataUpdatedAt:h,error:b,errorUpdatedAt:y,fetchStatus:A,status:k}=S,c=!1,f=!1,l;if(n._optimisticResults){const P=this.hasListeners(),$=!P&&bc(t,n),w=P&&Mc(t,i,n,a);($||w)&&(A=Jo(t.options.networkMode)?"fetching":"paused",h||(k="loading")),n._optimisticResults==="isRestoring"&&(A="idle")}if(n.keepPreviousData&&!S.dataUpdatedAt&&g!=null&&g.isSuccess&&k!=="error")l=g.data,h=g.dataUpdatedAt,k=g.status,c=!0;else if(n.select&&typeof S.data<"u")if(m&&S.data===(E==null?void 0:E.data)&&n.select===this.selectFn)l=this.selectResult;else try{this.selectFn=n.select,l=n.select(S.data),l=jl(m==null?void 0:m.data,l,n),this.selectResult=l,this.selectError=null}catch(P){this.selectError=P}else l=S.data;if(typeof n.placeholderData<"u"&&typeof l>"u"&&k==="loading"){let P;if(m!=null&&m.isPlaceholderData&&n.placeholderData===(_==null?void 0:_.placeholderData))P=m.data;else if(P=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof P<"u")try{P=n.select(P),this.selectError=null}catch($){this.selectError=$}typeof P<"u"&&(k="success",l=jl(m==null?void 0:m.data,P,n),f=!0)}this.selectError&&(b=this.selectError,l=this.selectResult,y=Date.now(),k="error");const I=A==="fetching",M=k==="loading",C=k==="error";return{status:k,fetchStatus:A,isLoading:M,isSuccess:k==="success",isError:C,isInitialLoading:M&&I,data:l,dataUpdatedAt:h,error:b,errorUpdatedAt:y,failureCount:S.fetchFailureCount,failureReason:S.fetchFailureReason,errorUpdateCount:S.errorUpdateCount,isFetched:S.dataUpdateCount>0||S.errorUpdateCount>0,isFetchedAfterMount:S.dataUpdateCount>p.dataUpdateCount||S.errorUpdateCount>p.errorUpdateCount,isFetching:I,isRefetching:I&&!M,isLoadingError:C&&S.dataUpdatedAt===0,isPaused:A==="paused",isPlaceholderData:f,isPreviousData:c,isRefetchError:C&&S.dataUpdatedAt!==0,isStale:qd(t,n),refetch:this.refetch,remove:this.remove}}updateResult(t){const n=this.currentResult,i=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,Ec(i,n))return;this.currentResult=i;const a={cache:!0},m=()=>{if(!n)return!0;const{notifyOnChangeProps:E}=this.options;if(E==="all"||!E&&!this.trackedProps.size)return!0;const _=new Set(E??this.trackedProps);return this.options.useErrorBoundary&&_.add("error"),Object.keys(this.currentResult).some(r=>{const p=r;return this.currentResult[p]!==n[p]&&_.has(p)})};(t==null?void 0:t.listeners)!==!1&&m()&&(a.listeners=!0),this.notify({...a,...t})}updateQuery(){const t=this.client.getQueryCache().build(this.client,this.options);if(t===this.currentQuery)return;const n=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))}onQueryUpdate(t){const n={};t.type==="success"?n.onSuccess=!t.manual:t.type==="error"&&!co(t.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()}notify(t){_r.batch(()=>{if(t.onSuccess){var n,i,a,m;(n=(i=this.options).onSuccess)==null||n.call(i,this.currentResult.data),(a=(m=this.options).onSettled)==null||a.call(m,this.currentResult.data,null)}else if(t.onError){var E,_,r,p;(E=(_=this.options).onError)==null||E.call(_,this.currentResult.error),(r=(p=this.options).onSettled)==null||r.call(p,void 0,this.currentResult.error)}t.listeners&&this.listeners.forEach(g=>{g(this.currentResult)}),t.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function A0(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function bc(e,t){return A0(e,t)||e.state.dataUpdatedAt>0&&Ql(e,t,t.refetchOnMount)}function Ql(e,t,n){if(t.enabled!==!1){const i=typeof n=="function"?n(e):n;return i==="always"||i!==!1&&qd(e,t)}return!1}function Mc(e,t,n,i){return n.enabled!==!1&&(e!==t||i.enabled===!1)&&(!n.suspense||e.state.status!=="error")&&qd(e,n)}function qd(e,t){return e.isStaleByTime(t.staleTime)}var Yl={},w0={get exports(){return Yl},set exports(e){Yl=e}},yi={},Xl={},b0={get exports(){return Xl},set exports(e){Xl=e}},Jv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,ee){var ue=j.length;j.push(ee);e:for(;0<ue;){var ae=ue-1>>>1,D=j[ae];if(0<a(D,ee))j[ae]=ee,j[ue]=D,ue=ae;else break e}}function n(j){return j.length===0?null:j[0]}function i(j){if(j.length===0)return null;var ee=j[0],ue=j.pop();if(ue!==ee){j[0]=ue;e:for(var ae=0,D=j.length,H=D>>>1;ae<H;){var W=2*(ae+1)-1,Y=j[W],X=W+1,ie=j[X];if(0>a(Y,ue))X<D&&0>a(ie,Y)?(j[ae]=ie,j[X]=ue,ae=X):(j[ae]=Y,j[W]=ue,ae=W);else if(X<D&&0>a(ie,ue))j[ae]=ie,j[X]=ue,ae=X;else break e}}return ee}function a(j,ee){var ue=j.sortIndex-ee.sortIndex;return ue!==0?ue:j.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var m=performance;e.unstable_now=function(){return m.now()}}else{var E=Date,_=E.now();e.unstable_now=function(){return E.now()-_}}var r=[],p=[],g=1,S=null,h=3,b=!1,y=!1,A=!1,k=typeof setTimeout=="function"?setTimeout:null,c=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function l(j){for(var ee=n(p);ee!==null;){if(ee.callback===null)i(p);else if(ee.startTime<=j)i(p),ee.sortIndex=ee.expirationTime,t(r,ee);else break;ee=n(p)}}function I(j){if(A=!1,l(j),!y)if(n(r)!==null)y=!0,Q(M);else{var ee=n(p);ee!==null&&re(I,ee.startTime-j)}}function M(j,ee){y=!1,A&&(A=!1,c(P),P=-1),b=!0;var ue=h;try{for(l(ee),S=n(r);S!==null&&(!(S.expirationTime>ee)||j&&!U());){var ae=S.callback;if(typeof ae=="function"){S.callback=null,h=S.priorityLevel;var D=ae(S.expirationTime<=ee);ee=e.unstable_now(),typeof D=="function"?S.callback=D:S===n(r)&&i(r),l(ee)}else i(r);S=n(r)}if(S!==null)var H=!0;else{var W=n(p);W!==null&&re(I,W.startTime-ee),H=!1}return H}finally{S=null,h=ue,b=!1}}var C=!1,O=null,P=-1,$=5,w=-1;function U(){return!(e.unstable_now()-w<$)}function z(){if(O!==null){var j=e.unstable_now();w=j;var ee=!0;try{ee=O(!0,j)}finally{ee?L():(C=!1,O=null)}}else C=!1}var L;if(typeof f=="function")L=function(){f(z)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Z=x.port2;x.port1.onmessage=z,L=function(){Z.postMessage(null)}}else L=function(){k(z,0)};function Q(j){O=j,C||(C=!0,L())}function re(j,ee){P=k(function(){j(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){y||b||(y=!0,Q(M))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(r)},e.unstable_next=function(j){switch(h){case 1:case 2:case 3:var ee=3;break;default:ee=h}var ue=h;h=ee;try{return j()}finally{h=ue}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,ee){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ue=h;h=j;try{return ee()}finally{h=ue}},e.unstable_scheduleCallback=function(j,ee,ue){var ae=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?ae+ue:ae):ue=ae,j){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ue+D,j={id:g++,callback:ee,priorityLevel:j,startTime:ue,expirationTime:D,sortIndex:-1},ue>ae?(j.sortIndex=ue,t(p,j),n(r)===null&&j===n(p)&&(A?(c(P),P=-1):A=!0,re(I,ue-ae))):(j.sortIndex=D,t(r,j),y||b||(y=!0,Q(M))),j},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(j){var ee=h;return function(){var ue=h;h=ee;try{return j.apply(this,arguments)}finally{h=ue}}}})(Jv);(function(e){e.exports=Jv})(b0);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv=tr,gi=Xl;function Ct(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eh=new Set,ps={};function tu(e,t){bu(e,t),bu(e+"Capture",t)}function bu(e,t){for(ps[e]=t,e=0;e<t.length;e++)eh.add(t[e])}var ca=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jl=Object.prototype.hasOwnProperty,M0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Rc={},Ic={};function R0(e){return Jl.call(Ic,e)?!0:Jl.call(Rc,e)?!1:M0.test(e)?Ic[e]=!0:(Rc[e]=!0,!1)}function I0(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function C0(e,t,n,i){if(t===null||typeof t>"u"||I0(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ni(e,t,n,i,a,m,E){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=m,this.removeEmptyString=E}var Br={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Br[e]=new ni(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Br[t]=new ni(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Br[e]=new ni(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Br[e]=new ni(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Br[e]=new ni(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Br[e]=new ni(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Br[e]=new ni(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Br[e]=new ni(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Br[e]=new ni(e,5,!1,e.toLowerCase(),null,!1,!1)});var ef=/[\-:]([a-z])/g;function tf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ef,tf);Br[t]=new ni(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ef,tf);Br[t]=new ni(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ef,tf);Br[t]=new ni(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Br[e]=new ni(e,1,!1,e.toLowerCase(),null,!1,!1)});Br.xlinkHref=new ni("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Br[e]=new ni(e,1,!1,e.toLowerCase(),null,!0,!0)});function nf(e,t,n,i){var a=Br.hasOwnProperty(t)?Br[t]:null;(a!==null?a.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(C0(t,n,a,i)&&(n=null),i||a===null?R0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,i=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var ma=qv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$s=Symbol.for("react.element"),su=Symbol.for("react.portal"),ou=Symbol.for("react.fragment"),rf=Symbol.for("react.strict_mode"),ql=Symbol.for("react.profiler"),th=Symbol.for("react.provider"),nh=Symbol.for("react.context"),af=Symbol.for("react.forward_ref"),ed=Symbol.for("react.suspense"),td=Symbol.for("react.suspense_list"),uf=Symbol.for("react.memo"),Ta=Symbol.for("react.lazy"),rh=Symbol.for("react.offscreen"),Cc=Symbol.iterator;function Hu(e){return e===null||typeof e!="object"?null:(e=Cc&&e[Cc]||e["@@iterator"],typeof e=="function"?e:null)}var pr=Object.assign,yl;function es(e){if(yl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);yl=t&&t[1]||""}return`
`+yl+e}var _l=!1;function El(e,t){if(!e||_l)return"";_l=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var i=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){i=p}e.call(t.prototype)}else{try{throw Error()}catch(p){i=p}e()}}catch(p){if(p&&i&&typeof p.stack=="string"){for(var a=p.stack.split(`
`),m=i.stack.split(`
`),E=a.length-1,_=m.length-1;1<=E&&0<=_&&a[E]!==m[_];)_--;for(;1<=E&&0<=_;E--,_--)if(a[E]!==m[_]){if(E!==1||_!==1)do if(E--,_--,0>_||a[E]!==m[_]){var r=`
`+a[E].replace(" at new "," at ");return e.displayName&&r.includes("<anonymous>")&&(r=r.replace("<anonymous>",e.displayName)),r}while(1<=E&&0<=_);break}}}finally{_l=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?es(e):""}function k0(e){switch(e.tag){case 5:return es(e.type);case 16:return es("Lazy");case 13:return es("Suspense");case 19:return es("SuspenseList");case 0:case 2:case 15:return e=El(e.type,!1),e;case 11:return e=El(e.type.render,!1),e;case 1:return e=El(e.type,!0),e;default:return""}}function nd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ou:return"Fragment";case su:return"Portal";case ql:return"Profiler";case rf:return"StrictMode";case ed:return"Suspense";case td:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nh:return(e.displayName||"Context")+".Consumer";case th:return(e._context.displayName||"Context")+".Provider";case af:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case uf:return t=e.displayName||null,t!==null?t:nd(e.type)||"Memo";case Ta:t=e._payload,e=e._init;try{return nd(e(t))}catch{}}return null}function P0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nd(t);case 8:return t===rf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function La(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ih(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function O0(e){var t=ih(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,m=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(E){i=""+E,m.call(this,E)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(E){i=""+E},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function js(e){e._valueTracker||(e._valueTracker=O0(e))}function ah(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=ih(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Mo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function rd(e,t){var n=t.checked;return pr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function kc(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=La(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function uh(e,t){t=t.checked,t!=null&&nf(e,"checked",t,!1)}function id(e,t){uh(e,t);var n=La(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ad(e,t.type,n):t.hasOwnProperty("defaultValue")&&ad(e,t.type,La(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Pc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ad(e,t,n){(t!=="number"||Mo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ts=Array.isArray;function _u(e,t,n,i){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&i&&(e[n].defaultSelected=!0)}else{for(n=""+La(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,i&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function ud(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ct(91));return pr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Oc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ct(92));if(ts(n)){if(1<n.length)throw Error(Ct(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:La(n)}}function sh(e,t){var n=La(t.value),i=La(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function Dc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function oh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?oh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qs,lh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qs=Qs||document.createElement("div"),Qs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ms(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var is={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},D0=["Webkit","ms","Moz","O"];Object.keys(is).forEach(function(e){D0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),is[t]=is[e]})});function dh(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||is.hasOwnProperty(e)&&is[e]?(""+t).trim():t+"px"}function fh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,a=dh(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,a):e[n]=a}}var x0=pr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function od(e,t){if(t){if(x0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ct(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ct(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ct(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ct(62))}}function ld(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dd=null;function sf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fd=null,Eu=null,Tu=null;function xc(e){if(e=Ns(e)){if(typeof fd!="function")throw Error(Ct(280));var t=e.stateNode;t&&(t=rl(t),fd(e.stateNode,e.type,t))}}function ch(e){Eu?Tu?Tu.push(e):Tu=[e]:Eu=e}function vh(){if(Eu){var e=Eu,t=Tu;if(Tu=Eu=null,xc(e),t)for(e=0;e<t.length;e++)xc(t[e])}}function hh(e,t){return e(t)}function ph(){}var Tl=!1;function mh(e,t,n){if(Tl)return e(t,n);Tl=!0;try{return hh(e,t,n)}finally{Tl=!1,(Eu!==null||Tu!==null)&&(ph(),vh())}}function gs(e,t){var n=e.stateNode;if(n===null)return null;var i=rl(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ct(231,t,typeof n));return n}var cd=!1;if(ca)try{var Gu={};Object.defineProperty(Gu,"passive",{get:function(){cd=!0}}),window.addEventListener("test",Gu,Gu),window.removeEventListener("test",Gu,Gu)}catch{cd=!1}function L0(e,t,n,i,a,m,E,_,r){var p=Array.prototype.slice.call(arguments,3);try{t.apply(n,p)}catch(g){this.onError(g)}}var as=!1,Ro=null,Io=!1,vd=null,N0={onError:function(e){as=!0,Ro=e}};function Z0(e,t,n,i,a,m,E,_,r){as=!1,Ro=null,L0.apply(N0,arguments)}function B0(e,t,n,i,a,m,E,_,r){if(Z0.apply(this,arguments),as){if(as){var p=Ro;as=!1,Ro=null}else throw Error(Ct(198));Io||(Io=!0,vd=p)}}function nu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function gh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Lc(e){if(nu(e)!==e)throw Error(Ct(188))}function U0(e){var t=e.alternate;if(!t){if(t=nu(e),t===null)throw Error(Ct(188));return t!==e?null:e}for(var n=e,i=t;;){var a=n.return;if(a===null)break;var m=a.alternate;if(m===null){if(i=a.return,i!==null){n=i;continue}break}if(a.child===m.child){for(m=a.child;m;){if(m===n)return Lc(a),e;if(m===i)return Lc(a),t;m=m.sibling}throw Error(Ct(188))}if(n.return!==i.return)n=a,i=m;else{for(var E=!1,_=a.child;_;){if(_===n){E=!0,n=a,i=m;break}if(_===i){E=!0,i=a,n=m;break}_=_.sibling}if(!E){for(_=m.child;_;){if(_===n){E=!0,n=m,i=a;break}if(_===i){E=!0,i=m,n=a;break}_=_.sibling}if(!E)throw Error(Ct(189))}}if(n.alternate!==i)throw Error(Ct(190))}if(n.tag!==3)throw Error(Ct(188));return n.stateNode.current===n?e:t}function yh(e){return e=U0(e),e!==null?_h(e):null}function _h(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_h(e);if(t!==null)return t;e=e.sibling}return null}var Eh=gi.unstable_scheduleCallback,Nc=gi.unstable_cancelCallback,F0=gi.unstable_shouldYield,z0=gi.unstable_requestPaint,yr=gi.unstable_now,K0=gi.unstable_getCurrentPriorityLevel,of=gi.unstable_ImmediatePriority,Th=gi.unstable_UserBlockingPriority,Co=gi.unstable_NormalPriority,W0=gi.unstable_LowPriority,Sh=gi.unstable_IdlePriority,qo=null,ea=null;function V0(e){if(ea&&typeof ea.onCommitFiberRoot=="function")try{ea.onCommitFiberRoot(qo,e,void 0,(e.current.flags&128)===128)}catch{}}var zi=Math.clz32?Math.clz32:$0,H0=Math.log,G0=Math.LN2;function $0(e){return e>>>=0,e===0?32:31-(H0(e)/G0|0)|0}var Ys=64,Xs=4194304;function ns(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ko(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,a=e.suspendedLanes,m=e.pingedLanes,E=n&268435455;if(E!==0){var _=E&~a;_!==0?i=ns(_):(m&=E,m!==0&&(i=ns(m)))}else E=n&~a,E!==0?i=ns(E):m!==0&&(i=ns(m));if(i===0)return 0;if(t!==0&&t!==i&&!(t&a)&&(a=i&-i,m=t&-t,a>=m||a===16&&(m&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-zi(t),a=1<<n,i|=e[n],t&=~a;return i}function j0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Q0(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,m=e.pendingLanes;0<m;){var E=31-zi(m),_=1<<E,r=a[E];r===-1?(!(_&n)||_&i)&&(a[E]=j0(_,t)):r<=t&&(e.expiredLanes|=_),m&=~_}}function hd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ah(){var e=Ys;return Ys<<=1,!(Ys&4194240)&&(Ys=64),e}function Sl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zi(t),e[t]=n}function Y0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-zi(n),m=1<<a;t[a]=0,i[a]=-1,e[a]=-1,n&=~m}}function lf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-zi(n),a=1<<i;a&t|e[i]&t&&(e[i]|=t),n&=~a}}var Jn=0;function wh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bh,df,Mh,Rh,Ih,pd=!1,Js=[],Ra=null,Ia=null,Ca=null,ys=new Map,_s=new Map,Aa=[],X0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zc(e,t){switch(e){case"focusin":case"focusout":Ra=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":Ca=null;break;case"pointerover":case"pointerout":ys.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_s.delete(t.pointerId)}}function $u(e,t,n,i,a,m){return e===null||e.nativeEvent!==m?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:m,targetContainers:[a]},t!==null&&(t=Ns(t),t!==null&&df(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function J0(e,t,n,i,a){switch(t){case"focusin":return Ra=$u(Ra,e,t,n,i,a),!0;case"dragenter":return Ia=$u(Ia,e,t,n,i,a),!0;case"mouseover":return Ca=$u(Ca,e,t,n,i,a),!0;case"pointerover":var m=a.pointerId;return ys.set(m,$u(ys.get(m)||null,e,t,n,i,a)),!0;case"gotpointercapture":return m=a.pointerId,_s.set(m,$u(_s.get(m)||null,e,t,n,i,a)),!0}return!1}function Ch(e){var t=Ha(e.target);if(t!==null){var n=nu(t);if(n!==null){if(t=n.tag,t===13){if(t=gh(n),t!==null){e.blockedOn=t,Ih(e.priority,function(){Mh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=md(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);dd=i,n.target.dispatchEvent(i),dd=null}else return t=Ns(n),t!==null&&df(t),e.blockedOn=n,!1;t.shift()}return!0}function Bc(e,t,n){vo(e)&&n.delete(t)}function q0(){pd=!1,Ra!==null&&vo(Ra)&&(Ra=null),Ia!==null&&vo(Ia)&&(Ia=null),Ca!==null&&vo(Ca)&&(Ca=null),ys.forEach(Bc),_s.forEach(Bc)}function ju(e,t){e.blockedOn===t&&(e.blockedOn=null,pd||(pd=!0,gi.unstable_scheduleCallback(gi.unstable_NormalPriority,q0)))}function Es(e){function t(a){return ju(a,e)}if(0<Js.length){ju(Js[0],e);for(var n=1;n<Js.length;n++){var i=Js[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Ra!==null&&ju(Ra,e),Ia!==null&&ju(Ia,e),Ca!==null&&ju(Ca,e),ys.forEach(t),_s.forEach(t),n=0;n<Aa.length;n++)i=Aa[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Aa.length&&(n=Aa[0],n.blockedOn===null);)Ch(n),n.blockedOn===null&&Aa.shift()}var Su=ma.ReactCurrentBatchConfig,Po=!0;function ey(e,t,n,i){var a=Jn,m=Su.transition;Su.transition=null;try{Jn=1,ff(e,t,n,i)}finally{Jn=a,Su.transition=m}}function ty(e,t,n,i){var a=Jn,m=Su.transition;Su.transition=null;try{Jn=4,ff(e,t,n,i)}finally{Jn=a,Su.transition=m}}function ff(e,t,n,i){if(Po){var a=md(e,t,n,i);if(a===null)Ol(e,t,i,Oo,n),Zc(e,i);else if(J0(a,e,t,n,i))i.stopPropagation();else if(Zc(e,i),t&4&&-1<X0.indexOf(e)){for(;a!==null;){var m=Ns(a);if(m!==null&&bh(m),m=md(e,t,n,i),m===null&&Ol(e,t,i,Oo,n),m===a)break;a=m}a!==null&&i.stopPropagation()}else Ol(e,t,i,null,n)}}var Oo=null;function md(e,t,n,i){if(Oo=null,e=sf(i),e=Ha(e),e!==null)if(t=nu(e),t===null)e=null;else if(n=t.tag,n===13){if(e=gh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Oo=e,null}function kh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(K0()){case of:return 1;case Th:return 4;case Co:case W0:return 16;case Sh:return 536870912;default:return 16}default:return 16}}var ba=null,cf=null,ho=null;function Ph(){if(ho)return ho;var e,t=cf,n=t.length,i,a="value"in ba?ba.value:ba.textContent,m=a.length;for(e=0;e<n&&t[e]===a[e];e++);var E=n-e;for(i=1;i<=E&&t[n-i]===a[m-i];i++);return ho=a.slice(e,1<i?1-i:void 0)}function po(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qs(){return!0}function Uc(){return!1}function _i(e){function t(n,i,a,m,E){this._reactName=n,this._targetInst=a,this.type=i,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(n=e[_],this[_]=n?n(m):m[_]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?qs:Uc,this.isPropagationStopped=Uc,this}return pr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qs)},persist:function(){},isPersistent:qs}),t}var xu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vf=_i(xu),Ls=pr({},xu,{view:0,detail:0}),ny=_i(Ls),Al,wl,Qu,el=pr({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qu&&(Qu&&e.type==="mousemove"?(Al=e.screenX-Qu.screenX,wl=e.screenY-Qu.screenY):wl=Al=0,Qu=e),Al)},movementY:function(e){return"movementY"in e?e.movementY:wl}}),Fc=_i(el),ry=pr({},el,{dataTransfer:0}),iy=_i(ry),ay=pr({},Ls,{relatedTarget:0}),bl=_i(ay),uy=pr({},xu,{animationName:0,elapsedTime:0,pseudoElement:0}),sy=_i(uy),oy=pr({},xu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ly=_i(oy),dy=pr({},xu,{data:0}),zc=_i(dy),fy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vy[e])?!!t[e]:!1}function hf(){return hy}var py=pr({},Ls,{key:function(e){if(e.key){var t=fy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=po(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hf,charCode:function(e){return e.type==="keypress"?po(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?po(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),my=_i(py),gy=pr({},el,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kc=_i(gy),yy=pr({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hf}),_y=_i(yy),Ey=pr({},xu,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ty=_i(Ey),Sy=pr({},el,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ay=_i(Sy),wy=[9,13,27,32],pf=ca&&"CompositionEvent"in window,us=null;ca&&"documentMode"in document&&(us=document.documentMode);var by=ca&&"TextEvent"in window&&!us,Oh=ca&&(!pf||us&&8<us&&11>=us),Wc=String.fromCharCode(32),Vc=!1;function Dh(e,t){switch(e){case"keyup":return wy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var lu=!1;function My(e,t){switch(e){case"compositionend":return xh(t);case"keypress":return t.which!==32?null:(Vc=!0,Wc);case"textInput":return e=t.data,e===Wc&&Vc?null:e;default:return null}}function Ry(e,t){if(lu)return e==="compositionend"||!pf&&Dh(e,t)?(e=Ph(),ho=cf=ba=null,lu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Oh&&t.locale!=="ko"?null:t.data;default:return null}}var Iy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Iy[e.type]:t==="textarea"}function Lh(e,t,n,i){ch(i),t=Do(t,"onChange"),0<t.length&&(n=new vf("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var ss=null,Ts=null;function Cy(e){Gh(e,0)}function tl(e){var t=cu(e);if(ah(t))return e}function ky(e,t){if(e==="change")return t}var Nh=!1;if(ca){var Ml;if(ca){var Rl="oninput"in document;if(!Rl){var Gc=document.createElement("div");Gc.setAttribute("oninput","return;"),Rl=typeof Gc.oninput=="function"}Ml=Rl}else Ml=!1;Nh=Ml&&(!document.documentMode||9<document.documentMode)}function $c(){ss&&(ss.detachEvent("onpropertychange",Zh),Ts=ss=null)}function Zh(e){if(e.propertyName==="value"&&tl(Ts)){var t=[];Lh(t,Ts,e,sf(e)),mh(Cy,t)}}function Py(e,t,n){e==="focusin"?($c(),ss=t,Ts=n,ss.attachEvent("onpropertychange",Zh)):e==="focusout"&&$c()}function Oy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tl(Ts)}function Dy(e,t){if(e==="click")return tl(t)}function xy(e,t){if(e==="input"||e==="change")return tl(t)}function Ly(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wi=typeof Object.is=="function"?Object.is:Ly;function Ss(e,t){if(Wi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var a=n[i];if(!Jl.call(t,a)||!Wi(e[a],t[a]))return!1}return!0}function jc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qc(e,t){var n=jc(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jc(n)}}function Bh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Bh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Uh(){for(var e=window,t=Mo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Mo(e.document)}return t}function mf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ny(e){var t=Uh(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Bh(n.ownerDocument.documentElement,n)){if(i!==null&&mf(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,m=Math.min(i.start,a);i=i.end===void 0?m:Math.min(i.end,a),!e.extend&&m>i&&(a=i,i=m,m=a),a=Qc(n,m);var E=Qc(n,i);a&&E&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==E.node||e.focusOffset!==E.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),m>i?(e.addRange(t),e.extend(E.node,E.offset)):(t.setEnd(E.node,E.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Zy=ca&&"documentMode"in document&&11>=document.documentMode,du=null,gd=null,os=null,yd=!1;function Yc(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yd||du==null||du!==Mo(i)||(i=du,"selectionStart"in i&&mf(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),os&&Ss(os,i)||(os=i,i=Do(gd,"onSelect"),0<i.length&&(t=new vf("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=du)))}function eo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fu={animationend:eo("Animation","AnimationEnd"),animationiteration:eo("Animation","AnimationIteration"),animationstart:eo("Animation","AnimationStart"),transitionend:eo("Transition","TransitionEnd")},Il={},Fh={};ca&&(Fh=document.createElement("div").style,"AnimationEvent"in window||(delete fu.animationend.animation,delete fu.animationiteration.animation,delete fu.animationstart.animation),"TransitionEvent"in window||delete fu.transitionend.transition);function nl(e){if(Il[e])return Il[e];if(!fu[e])return e;var t=fu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Fh)return Il[e]=t[n];return e}var zh=nl("animationend"),Kh=nl("animationiteration"),Wh=nl("animationstart"),Vh=nl("transitionend"),Hh=new Map,Xc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Za(e,t){Hh.set(e,t),tu(t,[e])}for(var Cl=0;Cl<Xc.length;Cl++){var kl=Xc[Cl],By=kl.toLowerCase(),Uy=kl[0].toUpperCase()+kl.slice(1);Za(By,"on"+Uy)}Za(zh,"onAnimationEnd");Za(Kh,"onAnimationIteration");Za(Wh,"onAnimationStart");Za("dblclick","onDoubleClick");Za("focusin","onFocus");Za("focusout","onBlur");Za(Vh,"onTransitionEnd");bu("onMouseEnter",["mouseout","mouseover"]);bu("onMouseLeave",["mouseout","mouseover"]);bu("onPointerEnter",["pointerout","pointerover"]);bu("onPointerLeave",["pointerout","pointerover"]);tu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tu("onBeforeInput",["compositionend","keypress","textInput","paste"]);tu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fy=new Set("cancel close invalid load scroll toggle".split(" ").concat(rs));function Jc(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,B0(i,t,void 0,e),e.currentTarget=null}function Gh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],a=i.event;i=i.listeners;e:{var m=void 0;if(t)for(var E=i.length-1;0<=E;E--){var _=i[E],r=_.instance,p=_.currentTarget;if(_=_.listener,r!==m&&a.isPropagationStopped())break e;Jc(a,_,p),m=r}else for(E=0;E<i.length;E++){if(_=i[E],r=_.instance,p=_.currentTarget,_=_.listener,r!==m&&a.isPropagationStopped())break e;Jc(a,_,p),m=r}}}if(Io)throw e=vd,Io=!1,vd=null,e}function ar(e,t){var n=t[Ad];n===void 0&&(n=t[Ad]=new Set);var i=e+"__bubble";n.has(i)||($h(t,e,2,!1),n.add(i))}function Pl(e,t,n){var i=0;t&&(i|=4),$h(n,e,i,t)}var to="_reactListening"+Math.random().toString(36).slice(2);function As(e){if(!e[to]){e[to]=!0,eh.forEach(function(n){n!=="selectionchange"&&(Fy.has(n)||Pl(n,!1,e),Pl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[to]||(t[to]=!0,Pl("selectionchange",!1,t))}}function $h(e,t,n,i){switch(kh(t)){case 1:var a=ey;break;case 4:a=ty;break;default:a=ff}n=a.bind(null,t,n,e),a=void 0,!cd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),i?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Ol(e,t,n,i,a){var m=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var E=i.tag;if(E===3||E===4){var _=i.stateNode.containerInfo;if(_===a||_.nodeType===8&&_.parentNode===a)break;if(E===4)for(E=i.return;E!==null;){var r=E.tag;if((r===3||r===4)&&(r=E.stateNode.containerInfo,r===a||r.nodeType===8&&r.parentNode===a))return;E=E.return}for(;_!==null;){if(E=Ha(_),E===null)return;if(r=E.tag,r===5||r===6){i=m=E;continue e}_=_.parentNode}}i=i.return}mh(function(){var p=m,g=sf(n),S=[];e:{var h=Hh.get(e);if(h!==void 0){var b=vf,y=e;switch(e){case"keypress":if(po(n)===0)break e;case"keydown":case"keyup":b=my;break;case"focusin":y="focus",b=bl;break;case"focusout":y="blur",b=bl;break;case"beforeblur":case"afterblur":b=bl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=Fc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=iy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=_y;break;case zh:case Kh:case Wh:b=sy;break;case Vh:b=Ty;break;case"scroll":b=ny;break;case"wheel":b=Ay;break;case"copy":case"cut":case"paste":b=ly;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=Kc}var A=(t&4)!==0,k=!A&&e==="scroll",c=A?h!==null?h+"Capture":null:h;A=[];for(var f=p,l;f!==null;){l=f;var I=l.stateNode;if(l.tag===5&&I!==null&&(l=I,c!==null&&(I=gs(f,c),I!=null&&A.push(ws(f,I,l)))),k)break;f=f.return}0<A.length&&(h=new b(h,y,null,n,g),S.push({event:h,listeners:A}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",h&&n!==dd&&(y=n.relatedTarget||n.fromElement)&&(Ha(y)||y[va]))break e;if((b||h)&&(h=g.window===g?g:(h=g.ownerDocument)?h.defaultView||h.parentWindow:window,b?(y=n.relatedTarget||n.toElement,b=p,y=y?Ha(y):null,y!==null&&(k=nu(y),y!==k||y.tag!==5&&y.tag!==6)&&(y=null)):(b=null,y=p),b!==y)){if(A=Fc,I="onMouseLeave",c="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(A=Kc,I="onPointerLeave",c="onPointerEnter",f="pointer"),k=b==null?h:cu(b),l=y==null?h:cu(y),h=new A(I,f+"leave",b,n,g),h.target=k,h.relatedTarget=l,I=null,Ha(g)===p&&(A=new A(c,f+"enter",y,n,g),A.target=l,A.relatedTarget=k,I=A),k=I,b&&y)t:{for(A=b,c=y,f=0,l=A;l;l=au(l))f++;for(l=0,I=c;I;I=au(I))l++;for(;0<f-l;)A=au(A),f--;for(;0<l-f;)c=au(c),l--;for(;f--;){if(A===c||c!==null&&A===c.alternate)break t;A=au(A),c=au(c)}A=null}else A=null;b!==null&&qc(S,h,b,A,!1),y!==null&&k!==null&&qc(S,k,y,A,!0)}}e:{if(h=p?cu(p):window,b=h.nodeName&&h.nodeName.toLowerCase(),b==="select"||b==="input"&&h.type==="file")var M=ky;else if(Hc(h))if(Nh)M=xy;else{M=Oy;var C=Py}else(b=h.nodeName)&&b.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(M=Dy);if(M&&(M=M(e,p))){Lh(S,M,n,g);break e}C&&C(e,h,p),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&ad(h,"number",h.value)}switch(C=p?cu(p):window,e){case"focusin":(Hc(C)||C.contentEditable==="true")&&(du=C,gd=p,os=null);break;case"focusout":os=gd=du=null;break;case"mousedown":yd=!0;break;case"contextmenu":case"mouseup":case"dragend":yd=!1,Yc(S,n,g);break;case"selectionchange":if(Zy)break;case"keydown":case"keyup":Yc(S,n,g)}var O;if(pf)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else lu?Dh(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Oh&&n.locale!=="ko"&&(lu||P!=="onCompositionStart"?P==="onCompositionEnd"&&lu&&(O=Ph()):(ba=g,cf="value"in ba?ba.value:ba.textContent,lu=!0)),C=Do(p,P),0<C.length&&(P=new zc(P,e,null,n,g),S.push({event:P,listeners:C}),O?P.data=O:(O=xh(n),O!==null&&(P.data=O)))),(O=by?My(e,n):Ry(e,n))&&(p=Do(p,"onBeforeInput"),0<p.length&&(g=new zc("onBeforeInput","beforeinput",null,n,g),S.push({event:g,listeners:p}),g.data=O))}Gh(S,t)})}function ws(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Do(e,t){for(var n=t+"Capture",i=[];e!==null;){var a=e,m=a.stateNode;a.tag===5&&m!==null&&(a=m,m=gs(e,n),m!=null&&i.unshift(ws(e,m,a)),m=gs(e,t),m!=null&&i.push(ws(e,m,a))),e=e.return}return i}function au(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qc(e,t,n,i,a){for(var m=t._reactName,E=[];n!==null&&n!==i;){var _=n,r=_.alternate,p=_.stateNode;if(r!==null&&r===i)break;_.tag===5&&p!==null&&(_=p,a?(r=gs(n,m),r!=null&&E.unshift(ws(n,r,_))):a||(r=gs(n,m),r!=null&&E.push(ws(n,r,_)))),n=n.return}E.length!==0&&e.push({event:t,listeners:E})}var zy=/\r\n?/g,Ky=/\u0000|\uFFFD/g;function ev(e){return(typeof e=="string"?e:""+e).replace(zy,`
`).replace(Ky,"")}function no(e,t,n){if(t=ev(t),ev(e)!==t&&n)throw Error(Ct(425))}function xo(){}var _d=null,Ed=null;function Td(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Sd=typeof setTimeout=="function"?setTimeout:void 0,Wy=typeof clearTimeout=="function"?clearTimeout:void 0,tv=typeof Promise=="function"?Promise:void 0,Vy=typeof queueMicrotask=="function"?queueMicrotask:typeof tv<"u"?function(e){return tv.resolve(null).then(e).catch(Hy)}:Sd;function Hy(e){setTimeout(function(){throw e})}function Dl(e,t){var n=t,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(i===0){e.removeChild(a),Es(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=a}while(n);Es(t)}function ka(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function nv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Lu=Math.random().toString(36).slice(2),qi="__reactFiber$"+Lu,bs="__reactProps$"+Lu,va="__reactContainer$"+Lu,Ad="__reactEvents$"+Lu,Gy="__reactListeners$"+Lu,$y="__reactHandles$"+Lu;function Ha(e){var t=e[qi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[va]||n[qi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=nv(e);e!==null;){if(n=e[qi])return n;e=nv(e)}return t}e=n,n=e.parentNode}return null}function Ns(e){return e=e[qi]||e[va],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function cu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ct(33))}function rl(e){return e[bs]||null}var wd=[],vu=-1;function Ba(e){return{current:e}}function ur(e){0>vu||(e.current=wd[vu],wd[vu]=null,vu--)}function rr(e,t){vu++,wd[vu]=e.current,e.current=t}var Na={},Qr=Ba(Na),ui=Ba(!1),Ya=Na;function Mu(e,t){var n=e.type.contextTypes;if(!n)return Na;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var a={},m;for(m in n)a[m]=t[m];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function si(e){return e=e.childContextTypes,e!=null}function Lo(){ur(ui),ur(Qr)}function rv(e,t,n){if(Qr.current!==Na)throw Error(Ct(168));rr(Qr,t),rr(ui,n)}function jh(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var a in i)if(!(a in t))throw Error(Ct(108,P0(e)||"Unknown",a));return pr({},n,i)}function No(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Na,Ya=Qr.current,rr(Qr,e),rr(ui,ui.current),!0}function iv(e,t,n){var i=e.stateNode;if(!i)throw Error(Ct(169));n?(e=jh(e,t,Ya),i.__reactInternalMemoizedMergedChildContext=e,ur(ui),ur(Qr),rr(Qr,e)):ur(ui),rr(ui,n)}var oa=null,il=!1,xl=!1;function Qh(e){oa===null?oa=[e]:oa.push(e)}function jy(e){il=!0,Qh(e)}function Ua(){if(!xl&&oa!==null){xl=!0;var e=0,t=Jn;try{var n=oa;for(Jn=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}oa=null,il=!1}catch(a){throw oa!==null&&(oa=oa.slice(e+1)),Eh(of,Ua),a}finally{Jn=t,xl=!1}}return null}var hu=[],pu=0,Zo=null,Bo=0,Mi=[],Ri=0,Xa=null,la=1,da="";function Ka(e,t){hu[pu++]=Bo,hu[pu++]=Zo,Zo=e,Bo=t}function Yh(e,t,n){Mi[Ri++]=la,Mi[Ri++]=da,Mi[Ri++]=Xa,Xa=e;var i=la;e=da;var a=32-zi(i)-1;i&=~(1<<a),n+=1;var m=32-zi(t)+a;if(30<m){var E=a-a%5;m=(i&(1<<E)-1).toString(32),i>>=E,a-=E,la=1<<32-zi(t)+a|n<<a|i,da=m+e}else la=1<<m|n<<a|i,da=e}function gf(e){e.return!==null&&(Ka(e,1),Yh(e,1,0))}function yf(e){for(;e===Zo;)Zo=hu[--pu],hu[pu]=null,Bo=hu[--pu],hu[pu]=null;for(;e===Xa;)Xa=Mi[--Ri],Mi[Ri]=null,da=Mi[--Ri],Mi[Ri]=null,la=Mi[--Ri],Mi[Ri]=null}var mi=null,pi=null,lr=!1,Fi=null;function Xh(e,t){var n=Ii(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function av(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mi=e,pi=ka(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mi=e,pi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Xa!==null?{id:la,overflow:da}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ii(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,mi=e,pi=null,!0):!1;default:return!1}}function bd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Md(e){if(lr){var t=pi;if(t){var n=t;if(!av(e,t)){if(bd(e))throw Error(Ct(418));t=ka(n.nextSibling);var i=mi;t&&av(e,t)?Xh(i,n):(e.flags=e.flags&-4097|2,lr=!1,mi=e)}}else{if(bd(e))throw Error(Ct(418));e.flags=e.flags&-4097|2,lr=!1,mi=e}}}function uv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mi=e}function ro(e){if(e!==mi)return!1;if(!lr)return uv(e),lr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Td(e.type,e.memoizedProps)),t&&(t=pi)){if(bd(e))throw Jh(),Error(Ct(418));for(;t;)Xh(e,t),t=ka(t.nextSibling)}if(uv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ct(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){pi=ka(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}pi=null}}else pi=mi?ka(e.stateNode.nextSibling):null;return!0}function Jh(){for(var e=pi;e;)e=ka(e.nextSibling)}function Ru(){pi=mi=null,lr=!1}function _f(e){Fi===null?Fi=[e]:Fi.push(e)}var Qy=ma.ReactCurrentBatchConfig;function Bi(e,t){if(e&&e.defaultProps){t=pr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Uo=Ba(null),Fo=null,mu=null,Ef=null;function Tf(){Ef=mu=Fo=null}function Sf(e){var t=Uo.current;ur(Uo),e._currentValue=t}function Rd(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Au(e,t){Fo=e,Ef=mu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ai=!0),e.firstContext=null)}function ki(e){var t=e._currentValue;if(Ef!==e)if(e={context:e,memoizedValue:t,next:null},mu===null){if(Fo===null)throw Error(Ct(308));mu=e,Fo.dependencies={lanes:0,firstContext:e}}else mu=mu.next=e;return t}var Ga=null;function Af(e){Ga===null?Ga=[e]:Ga.push(e)}function qh(e,t,n,i){var a=t.interleaved;return a===null?(n.next=n,Af(t)):(n.next=a.next,a.next=n),t.interleaved=n,ha(e,i)}function ha(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Sa=!1;function wf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ep(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,jn&2){var a=i.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),i.pending=t,ha(e,n)}return a=i.interleaved,a===null?(t.next=t,Af(i)):(t.next=a.next,a.next=t),i.interleaved=t,ha(e,n)}function mo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,lf(e,n)}}function sv(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var a=null,m=null;if(n=n.firstBaseUpdate,n!==null){do{var E={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};m===null?a=m=E:m=m.next=E,n=n.next}while(n!==null);m===null?a=m=t:m=m.next=t}else a=m=t;n={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:m,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zo(e,t,n,i){var a=e.updateQueue;Sa=!1;var m=a.firstBaseUpdate,E=a.lastBaseUpdate,_=a.shared.pending;if(_!==null){a.shared.pending=null;var r=_,p=r.next;r.next=null,E===null?m=p:E.next=p,E=r;var g=e.alternate;g!==null&&(g=g.updateQueue,_=g.lastBaseUpdate,_!==E&&(_===null?g.firstBaseUpdate=p:_.next=p,g.lastBaseUpdate=r))}if(m!==null){var S=a.baseState;E=0,g=p=r=null,_=m;do{var h=_.lane,b=_.eventTime;if((i&h)===h){g!==null&&(g=g.next={eventTime:b,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var y=e,A=_;switch(h=t,b=n,A.tag){case 1:if(y=A.payload,typeof y=="function"){S=y.call(b,S,h);break e}S=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=A.payload,h=typeof y=="function"?y.call(b,S,h):y,h==null)break e;S=pr({},S,h);break e;case 2:Sa=!0}}_.callback!==null&&_.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[_]:h.push(_))}else b={eventTime:b,lane:h,tag:_.tag,payload:_.payload,callback:_.callback,next:null},g===null?(p=g=b,r=S):g=g.next=b,E|=h;if(_=_.next,_===null){if(_=a.shared.pending,_===null)break;h=_,_=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(1);if(g===null&&(r=S),a.baseState=r,a.firstBaseUpdate=p,a.lastBaseUpdate=g,t=a.shared.interleaved,t!==null){a=t;do E|=a.lane,a=a.next;while(a!==t)}else m===null&&(a.shared.lanes=0);qa|=E,e.lanes=E,e.memoizedState=S}}function ov(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],a=i.callback;if(a!==null){if(i.callback=null,i=n,typeof a!="function")throw Error(Ct(191,a));a.call(i)}}}var tp=new qv.Component().refs;function Id(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:pr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var al={isMounted:function(e){return(e=e._reactInternals)?nu(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ei(),a=Da(e),m=fa(i,a);m.payload=t,n!=null&&(m.callback=n),t=Pa(e,m,a),t!==null&&(Ki(t,e,a,i),mo(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ei(),a=Da(e),m=fa(i,a);m.tag=1,m.payload=t,n!=null&&(m.callback=n),t=Pa(e,m,a),t!==null&&(Ki(t,e,a,i),mo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ei(),i=Da(e),a=fa(n,i);a.tag=2,t!=null&&(a.callback=t),t=Pa(e,a,i),t!==null&&(Ki(t,e,i,n),mo(t,e,i))}};function lv(e,t,n,i,a,m,E){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,m,E):t.prototype&&t.prototype.isPureReactComponent?!Ss(n,i)||!Ss(a,m):!0}function np(e,t,n){var i=!1,a=Na,m=t.contextType;return typeof m=="object"&&m!==null?m=ki(m):(a=si(t)?Ya:Qr.current,i=t.contextTypes,m=(i=i!=null)?Mu(e,a):Na),t=new t(n,m),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=al,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=m),t}function dv(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&al.enqueueReplaceState(t,t.state,null)}function Cd(e,t,n,i){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=tp,wf(e);var m=t.contextType;typeof m=="object"&&m!==null?a.context=ki(m):(m=si(t)?Ya:Qr.current,a.context=Mu(e,m)),a.state=e.memoizedState,m=t.getDerivedStateFromProps,typeof m=="function"&&(Id(e,t,m,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&al.enqueueReplaceState(a,a.state,null),zo(e,n,a,i),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Yu(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ct(309));var i=n.stateNode}if(!i)throw Error(Ct(147,e));var a=i,m=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===m?t.ref:(t=function(E){var _=a.refs;_===tp&&(_=a.refs={}),E===null?delete _[m]:_[m]=E},t._stringRef=m,t)}if(typeof e!="string")throw Error(Ct(284));if(!n._owner)throw Error(Ct(290,e))}return e}function io(e,t){throw e=Object.prototype.toString.call(t),Error(Ct(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fv(e){var t=e._init;return t(e._payload)}function rp(e){function t(c,f){if(e){var l=c.deletions;l===null?(c.deletions=[f],c.flags|=16):l.push(f)}}function n(c,f){if(!e)return null;for(;f!==null;)t(c,f),f=f.sibling;return null}function i(c,f){for(c=new Map;f!==null;)f.key!==null?c.set(f.key,f):c.set(f.index,f),f=f.sibling;return c}function a(c,f){return c=xa(c,f),c.index=0,c.sibling=null,c}function m(c,f,l){return c.index=l,e?(l=c.alternate,l!==null?(l=l.index,l<f?(c.flags|=2,f):l):(c.flags|=2,f)):(c.flags|=1048576,f)}function E(c){return e&&c.alternate===null&&(c.flags|=2),c}function _(c,f,l,I){return f===null||f.tag!==6?(f=zl(l,c.mode,I),f.return=c,f):(f=a(f,l),f.return=c,f)}function r(c,f,l,I){var M=l.type;return M===ou?g(c,f,l.props.children,I,l.key):f!==null&&(f.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ta&&fv(M)===f.type)?(I=a(f,l.props),I.ref=Yu(c,f,l),I.return=c,I):(I=So(l.type,l.key,l.props,null,c.mode,I),I.ref=Yu(c,f,l),I.return=c,I)}function p(c,f,l,I){return f===null||f.tag!==4||f.stateNode.containerInfo!==l.containerInfo||f.stateNode.implementation!==l.implementation?(f=Kl(l,c.mode,I),f.return=c,f):(f=a(f,l.children||[]),f.return=c,f)}function g(c,f,l,I,M){return f===null||f.tag!==7?(f=Qa(l,c.mode,I,M),f.return=c,f):(f=a(f,l),f.return=c,f)}function S(c,f,l){if(typeof f=="string"&&f!==""||typeof f=="number")return f=zl(""+f,c.mode,l),f.return=c,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case $s:return l=So(f.type,f.key,f.props,null,c.mode,l),l.ref=Yu(c,null,f),l.return=c,l;case su:return f=Kl(f,c.mode,l),f.return=c,f;case Ta:var I=f._init;return S(c,I(f._payload),l)}if(ts(f)||Hu(f))return f=Qa(f,c.mode,l,null),f.return=c,f;io(c,f)}return null}function h(c,f,l,I){var M=f!==null?f.key:null;if(typeof l=="string"&&l!==""||typeof l=="number")return M!==null?null:_(c,f,""+l,I);if(typeof l=="object"&&l!==null){switch(l.$$typeof){case $s:return l.key===M?r(c,f,l,I):null;case su:return l.key===M?p(c,f,l,I):null;case Ta:return M=l._init,h(c,f,M(l._payload),I)}if(ts(l)||Hu(l))return M!==null?null:g(c,f,l,I,null);io(c,l)}return null}function b(c,f,l,I,M){if(typeof I=="string"&&I!==""||typeof I=="number")return c=c.get(l)||null,_(f,c,""+I,M);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case $s:return c=c.get(I.key===null?l:I.key)||null,r(f,c,I,M);case su:return c=c.get(I.key===null?l:I.key)||null,p(f,c,I,M);case Ta:var C=I._init;return b(c,f,l,C(I._payload),M)}if(ts(I)||Hu(I))return c=c.get(l)||null,g(f,c,I,M,null);io(f,I)}return null}function y(c,f,l,I){for(var M=null,C=null,O=f,P=f=0,$=null;O!==null&&P<l.length;P++){O.index>P?($=O,O=null):$=O.sibling;var w=h(c,O,l[P],I);if(w===null){O===null&&(O=$);break}e&&O&&w.alternate===null&&t(c,O),f=m(w,f,P),C===null?M=w:C.sibling=w,C=w,O=$}if(P===l.length)return n(c,O),lr&&Ka(c,P),M;if(O===null){for(;P<l.length;P++)O=S(c,l[P],I),O!==null&&(f=m(O,f,P),C===null?M=O:C.sibling=O,C=O);return lr&&Ka(c,P),M}for(O=i(c,O);P<l.length;P++)$=b(O,c,P,l[P],I),$!==null&&(e&&$.alternate!==null&&O.delete($.key===null?P:$.key),f=m($,f,P),C===null?M=$:C.sibling=$,C=$);return e&&O.forEach(function(U){return t(c,U)}),lr&&Ka(c,P),M}function A(c,f,l,I){var M=Hu(l);if(typeof M!="function")throw Error(Ct(150));if(l=M.call(l),l==null)throw Error(Ct(151));for(var C=M=null,O=f,P=f=0,$=null,w=l.next();O!==null&&!w.done;P++,w=l.next()){O.index>P?($=O,O=null):$=O.sibling;var U=h(c,O,w.value,I);if(U===null){O===null&&(O=$);break}e&&O&&U.alternate===null&&t(c,O),f=m(U,f,P),C===null?M=U:C.sibling=U,C=U,O=$}if(w.done)return n(c,O),lr&&Ka(c,P),M;if(O===null){for(;!w.done;P++,w=l.next())w=S(c,w.value,I),w!==null&&(f=m(w,f,P),C===null?M=w:C.sibling=w,C=w);return lr&&Ka(c,P),M}for(O=i(c,O);!w.done;P++,w=l.next())w=b(O,c,P,w.value,I),w!==null&&(e&&w.alternate!==null&&O.delete(w.key===null?P:w.key),f=m(w,f,P),C===null?M=w:C.sibling=w,C=w);return e&&O.forEach(function(z){return t(c,z)}),lr&&Ka(c,P),M}function k(c,f,l,I){if(typeof l=="object"&&l!==null&&l.type===ou&&l.key===null&&(l=l.props.children),typeof l=="object"&&l!==null){switch(l.$$typeof){case $s:e:{for(var M=l.key,C=f;C!==null;){if(C.key===M){if(M=l.type,M===ou){if(C.tag===7){n(c,C.sibling),f=a(C,l.props.children),f.return=c,c=f;break e}}else if(C.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ta&&fv(M)===C.type){n(c,C.sibling),f=a(C,l.props),f.ref=Yu(c,C,l),f.return=c,c=f;break e}n(c,C);break}else t(c,C);C=C.sibling}l.type===ou?(f=Qa(l.props.children,c.mode,I,l.key),f.return=c,c=f):(I=So(l.type,l.key,l.props,null,c.mode,I),I.ref=Yu(c,f,l),I.return=c,c=I)}return E(c);case su:e:{for(C=l.key;f!==null;){if(f.key===C)if(f.tag===4&&f.stateNode.containerInfo===l.containerInfo&&f.stateNode.implementation===l.implementation){n(c,f.sibling),f=a(f,l.children||[]),f.return=c,c=f;break e}else{n(c,f);break}else t(c,f);f=f.sibling}f=Kl(l,c.mode,I),f.return=c,c=f}return E(c);case Ta:return C=l._init,k(c,f,C(l._payload),I)}if(ts(l))return y(c,f,l,I);if(Hu(l))return A(c,f,l,I);io(c,l)}return typeof l=="string"&&l!==""||typeof l=="number"?(l=""+l,f!==null&&f.tag===6?(n(c,f.sibling),f=a(f,l),f.return=c,c=f):(n(c,f),f=zl(l,c.mode,I),f.return=c,c=f),E(c)):n(c,f)}return k}var Iu=rp(!0),ip=rp(!1),Zs={},ta=Ba(Zs),Ms=Ba(Zs),Rs=Ba(Zs);function $a(e){if(e===Zs)throw Error(Ct(174));return e}function bf(e,t){switch(rr(Rs,t),rr(Ms,e),rr(ta,Zs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:sd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=sd(t,e)}ur(ta),rr(ta,t)}function Cu(){ur(ta),ur(Ms),ur(Rs)}function ap(e){$a(Rs.current);var t=$a(ta.current),n=sd(t,e.type);t!==n&&(rr(Ms,e),rr(ta,n))}function Mf(e){Ms.current===e&&(ur(ta),ur(Ms))}var vr=Ba(0);function Ko(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ll=[];function Rf(){for(var e=0;e<Ll.length;e++)Ll[e]._workInProgressVersionPrimary=null;Ll.length=0}var go=ma.ReactCurrentDispatcher,Nl=ma.ReactCurrentBatchConfig,Ja=0,hr=null,wr=null,Ir=null,Wo=!1,ls=!1,Is=0,Yy=0;function Gr(){throw Error(Ct(321))}function If(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wi(e[n],t[n]))return!1;return!0}function Cf(e,t,n,i,a,m){if(Ja=m,hr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,go.current=e===null||e.memoizedState===null?e_:t_,e=n(i,a),ls){m=0;do{if(ls=!1,Is=0,25<=m)throw Error(Ct(301));m+=1,Ir=wr=null,t.updateQueue=null,go.current=n_,e=n(i,a)}while(ls)}if(go.current=Vo,t=wr!==null&&wr.next!==null,Ja=0,Ir=wr=hr=null,Wo=!1,t)throw Error(Ct(300));return e}function kf(){var e=Is!==0;return Is=0,e}function Ji(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ir===null?hr.memoizedState=Ir=e:Ir=Ir.next=e,Ir}function Pi(){if(wr===null){var e=hr.alternate;e=e!==null?e.memoizedState:null}else e=wr.next;var t=Ir===null?hr.memoizedState:Ir.next;if(t!==null)Ir=t,wr=e;else{if(e===null)throw Error(Ct(310));wr=e,e={memoizedState:wr.memoizedState,baseState:wr.baseState,baseQueue:wr.baseQueue,queue:wr.queue,next:null},Ir===null?hr.memoizedState=Ir=e:Ir=Ir.next=e}return Ir}function Cs(e,t){return typeof t=="function"?t(e):t}function Zl(e){var t=Pi(),n=t.queue;if(n===null)throw Error(Ct(311));n.lastRenderedReducer=e;var i=wr,a=i.baseQueue,m=n.pending;if(m!==null){if(a!==null){var E=a.next;a.next=m.next,m.next=E}i.baseQueue=a=m,n.pending=null}if(a!==null){m=a.next,i=i.baseState;var _=E=null,r=null,p=m;do{var g=p.lane;if((Ja&g)===g)r!==null&&(r=r.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),i=p.hasEagerState?p.eagerState:e(i,p.action);else{var S={lane:g,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};r===null?(_=r=S,E=i):r=r.next=S,hr.lanes|=g,qa|=g}p=p.next}while(p!==null&&p!==m);r===null?E=i:r.next=_,Wi(i,t.memoizedState)||(ai=!0),t.memoizedState=i,t.baseState=E,t.baseQueue=r,n.lastRenderedState=i}if(e=n.interleaved,e!==null){a=e;do m=a.lane,hr.lanes|=m,qa|=m,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Bl(e){var t=Pi(),n=t.queue;if(n===null)throw Error(Ct(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,m=t.memoizedState;if(a!==null){n.pending=null;var E=a=a.next;do m=e(m,E.action),E=E.next;while(E!==a);Wi(m,t.memoizedState)||(ai=!0),t.memoizedState=m,t.baseQueue===null&&(t.baseState=m),n.lastRenderedState=m}return[m,i]}function up(){}function sp(e,t){var n=hr,i=Pi(),a=t(),m=!Wi(i.memoizedState,a);if(m&&(i.memoizedState=a,ai=!0),i=i.queue,Pf(dp.bind(null,n,i,e),[e]),i.getSnapshot!==t||m||Ir!==null&&Ir.memoizedState.tag&1){if(n.flags|=2048,ks(9,lp.bind(null,n,i,a,t),void 0,null),Cr===null)throw Error(Ct(349));Ja&30||op(n,t,a)}return a}function op(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=hr.updateQueue,t===null?(t={lastEffect:null,stores:null},hr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function lp(e,t,n,i){t.value=n,t.getSnapshot=i,fp(t)&&cp(e)}function dp(e,t,n){return n(function(){fp(t)&&cp(e)})}function fp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wi(e,n)}catch{return!0}}function cp(e){var t=ha(e,1);t!==null&&Ki(t,e,1,-1)}function cv(e){var t=Ji();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:e},t.queue=e,e=e.dispatch=qy.bind(null,hr,e),[t.memoizedState,e]}function ks(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=hr.updateQueue,t===null?(t={lastEffect:null,stores:null},hr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function vp(){return Pi().memoizedState}function yo(e,t,n,i){var a=Ji();hr.flags|=e,a.memoizedState=ks(1|t,n,void 0,i===void 0?null:i)}function ul(e,t,n,i){var a=Pi();i=i===void 0?null:i;var m=void 0;if(wr!==null){var E=wr.memoizedState;if(m=E.destroy,i!==null&&If(i,E.deps)){a.memoizedState=ks(t,n,m,i);return}}hr.flags|=e,a.memoizedState=ks(1|t,n,m,i)}function vv(e,t){return yo(8390656,8,e,t)}function Pf(e,t){return ul(2048,8,e,t)}function hp(e,t){return ul(4,2,e,t)}function pp(e,t){return ul(4,4,e,t)}function mp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gp(e,t,n){return n=n!=null?n.concat([e]):null,ul(4,4,mp.bind(null,t,e),n)}function Of(){}function yp(e,t){var n=Pi();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&If(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function _p(e,t){var n=Pi();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&If(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Ep(e,t,n){return Ja&21?(Wi(n,t)||(n=Ah(),hr.lanes|=n,qa|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ai=!0),e.memoizedState=n)}function Xy(e,t){var n=Jn;Jn=n!==0&&4>n?n:4,e(!0);var i=Nl.transition;Nl.transition={};try{e(!1),t()}finally{Jn=n,Nl.transition=i}}function Tp(){return Pi().memoizedState}function Jy(e,t,n){var i=Da(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Sp(e))Ap(t,n);else if(n=qh(e,t,n,i),n!==null){var a=ei();Ki(n,e,i,a),wp(n,t,i)}}function qy(e,t,n){var i=Da(e),a={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Sp(e))Ap(t,a);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=t.lastRenderedReducer,m!==null))try{var E=t.lastRenderedState,_=m(E,n);if(a.hasEagerState=!0,a.eagerState=_,Wi(_,E)){var r=t.interleaved;r===null?(a.next=a,Af(t)):(a.next=r.next,r.next=a),t.interleaved=a;return}}catch{}finally{}n=qh(e,t,a,i),n!==null&&(a=ei(),Ki(n,e,i,a),wp(n,t,i))}}function Sp(e){var t=e.alternate;return e===hr||t!==null&&t===hr}function Ap(e,t){ls=Wo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function wp(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,lf(e,n)}}var Vo={readContext:ki,useCallback:Gr,useContext:Gr,useEffect:Gr,useImperativeHandle:Gr,useInsertionEffect:Gr,useLayoutEffect:Gr,useMemo:Gr,useReducer:Gr,useRef:Gr,useState:Gr,useDebugValue:Gr,useDeferredValue:Gr,useTransition:Gr,useMutableSource:Gr,useSyncExternalStore:Gr,useId:Gr,unstable_isNewReconciler:!1},e_={readContext:ki,useCallback:function(e,t){return Ji().memoizedState=[e,t===void 0?null:t],e},useContext:ki,useEffect:vv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,yo(4194308,4,mp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return yo(4194308,4,e,t)},useInsertionEffect:function(e,t){return yo(4,2,e,t)},useMemo:function(e,t){var n=Ji();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Ji();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Jy.bind(null,hr,e),[i.memoizedState,e]},useRef:function(e){var t=Ji();return e={current:e},t.memoizedState=e},useState:cv,useDebugValue:Of,useDeferredValue:function(e){return Ji().memoizedState=e},useTransition:function(){var e=cv(!1),t=e[0];return e=Xy.bind(null,e[1]),Ji().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=hr,a=Ji();if(lr){if(n===void 0)throw Error(Ct(407));n=n()}else{if(n=t(),Cr===null)throw Error(Ct(349));Ja&30||op(i,t,n)}a.memoizedState=n;var m={value:n,getSnapshot:t};return a.queue=m,vv(dp.bind(null,i,m,e),[e]),i.flags|=2048,ks(9,lp.bind(null,i,m,n,t),void 0,null),n},useId:function(){var e=Ji(),t=Cr.identifierPrefix;if(lr){var n=da,i=la;n=(i&~(1<<32-zi(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Is++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Yy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},t_={readContext:ki,useCallback:yp,useContext:ki,useEffect:Pf,useImperativeHandle:gp,useInsertionEffect:hp,useLayoutEffect:pp,useMemo:_p,useReducer:Zl,useRef:vp,useState:function(){return Zl(Cs)},useDebugValue:Of,useDeferredValue:function(e){var t=Pi();return Ep(t,wr.memoizedState,e)},useTransition:function(){var e=Zl(Cs)[0],t=Pi().memoizedState;return[e,t]},useMutableSource:up,useSyncExternalStore:sp,useId:Tp,unstable_isNewReconciler:!1},n_={readContext:ki,useCallback:yp,useContext:ki,useEffect:Pf,useImperativeHandle:gp,useInsertionEffect:hp,useLayoutEffect:pp,useMemo:_p,useReducer:Bl,useRef:vp,useState:function(){return Bl(Cs)},useDebugValue:Of,useDeferredValue:function(e){var t=Pi();return wr===null?t.memoizedState=e:Ep(t,wr.memoizedState,e)},useTransition:function(){var e=Bl(Cs)[0],t=Pi().memoizedState;return[e,t]},useMutableSource:up,useSyncExternalStore:sp,useId:Tp,unstable_isNewReconciler:!1};function ku(e,t){try{var n="",i=t;do n+=k0(i),i=i.return;while(i);var a=n}catch(m){a=`
Error generating stack: `+m.message+`
`+m.stack}return{value:e,source:t,stack:a,digest:null}}function Ul(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function kd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var r_=typeof WeakMap=="function"?WeakMap:Map;function bp(e,t,n){n=fa(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Go||(Go=!0,Fd=i),kd(e,t)},n}function Mp(e,t,n){n=fa(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var a=t.value;n.payload=function(){return i(a)},n.callback=function(){kd(e,t)}}var m=e.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(n.callback=function(){kd(e,t),typeof i!="function"&&(Oa===null?Oa=new Set([this]):Oa.add(this));var E=t.stack;this.componentDidCatch(t.value,{componentStack:E!==null?E:""})}),n}function hv(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new r_;var a=new Set;i.set(t,a)}else a=i.get(t),a===void 0&&(a=new Set,i.set(t,a));a.has(n)||(a.add(n),e=g_.bind(null,e,t,n),t.then(e,e))}function pv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mv(e,t,n,i,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=fa(-1,1),t.tag=2,Pa(n,t,1))),n.lanes|=1),e)}var i_=ma.ReactCurrentOwner,ai=!1;function qr(e,t,n,i){t.child=e===null?ip(t,null,n,i):Iu(t,e.child,n,i)}function gv(e,t,n,i,a){n=n.render;var m=t.ref;return Au(t,a),i=Cf(e,t,n,i,m,a),n=kf(),e!==null&&!ai?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,pa(e,t,a)):(lr&&n&&gf(t),t.flags|=1,qr(e,t,i,a),t.child)}function yv(e,t,n,i,a){if(e===null){var m=n.type;return typeof m=="function"&&!Ff(m)&&m.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=m,Rp(e,t,m,i,a)):(e=So(n.type,null,i,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(m=e.child,!(e.lanes&a)){var E=m.memoizedProps;if(n=n.compare,n=n!==null?n:Ss,n(E,i)&&e.ref===t.ref)return pa(e,t,a)}return t.flags|=1,e=xa(m,i),e.ref=t.ref,e.return=t,t.child=e}function Rp(e,t,n,i,a){if(e!==null){var m=e.memoizedProps;if(Ss(m,i)&&e.ref===t.ref)if(ai=!1,t.pendingProps=i=m,(e.lanes&a)!==0)e.flags&131072&&(ai=!0);else return t.lanes=e.lanes,pa(e,t,a)}return Pd(e,t,n,i,a)}function Ip(e,t,n){var i=t.pendingProps,a=i.children,m=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},rr(yu,hi),hi|=n;else{if(!(n&1073741824))return e=m!==null?m.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,rr(yu,hi),hi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=m!==null?m.baseLanes:n,rr(yu,hi),hi|=i}else m!==null?(i=m.baseLanes|n,t.memoizedState=null):i=n,rr(yu,hi),hi|=i;return qr(e,t,a,n),t.child}function Cp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Pd(e,t,n,i,a){var m=si(n)?Ya:Qr.current;return m=Mu(t,m),Au(t,a),n=Cf(e,t,n,i,m,a),i=kf(),e!==null&&!ai?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,pa(e,t,a)):(lr&&i&&gf(t),t.flags|=1,qr(e,t,n,a),t.child)}function _v(e,t,n,i,a){if(si(n)){var m=!0;No(t)}else m=!1;if(Au(t,a),t.stateNode===null)_o(e,t),np(t,n,i),Cd(t,n,i,a),i=!0;else if(e===null){var E=t.stateNode,_=t.memoizedProps;E.props=_;var r=E.context,p=n.contextType;typeof p=="object"&&p!==null?p=ki(p):(p=si(n)?Ya:Qr.current,p=Mu(t,p));var g=n.getDerivedStateFromProps,S=typeof g=="function"||typeof E.getSnapshotBeforeUpdate=="function";S||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(_!==i||r!==p)&&dv(t,E,i,p),Sa=!1;var h=t.memoizedState;E.state=h,zo(t,i,E,a),r=t.memoizedState,_!==i||h!==r||ui.current||Sa?(typeof g=="function"&&(Id(t,n,g,i),r=t.memoizedState),(_=Sa||lv(t,n,_,i,h,r,p))?(S||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(t.flags|=4194308)):(typeof E.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=r),E.props=i,E.state=r,E.context=p,i=_):(typeof E.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{E=t.stateNode,ep(e,t),_=t.memoizedProps,p=t.type===t.elementType?_:Bi(t.type,_),E.props=p,S=t.pendingProps,h=E.context,r=n.contextType,typeof r=="object"&&r!==null?r=ki(r):(r=si(n)?Ya:Qr.current,r=Mu(t,r));var b=n.getDerivedStateFromProps;(g=typeof b=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(_!==S||h!==r)&&dv(t,E,i,r),Sa=!1,h=t.memoizedState,E.state=h,zo(t,i,E,a);var y=t.memoizedState;_!==S||h!==y||ui.current||Sa?(typeof b=="function"&&(Id(t,n,b,i),y=t.memoizedState),(p=Sa||lv(t,n,p,i,h,y,r)||!1)?(g||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(i,y,r),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(i,y,r)),typeof E.componentDidUpdate=="function"&&(t.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof E.componentDidUpdate!="function"||_===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=y),E.props=i,E.state=y,E.context=r,i=p):(typeof E.componentDidUpdate!="function"||_===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return Od(e,t,n,i,m,a)}function Od(e,t,n,i,a,m){Cp(e,t);var E=(t.flags&128)!==0;if(!i&&!E)return a&&iv(t,n,!1),pa(e,t,m);i=t.stateNode,i_.current=t;var _=E&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&E?(t.child=Iu(t,e.child,null,m),t.child=Iu(t,null,_,m)):qr(e,t,_,m),t.memoizedState=i.state,a&&iv(t,n,!0),t.child}function kp(e){var t=e.stateNode;t.pendingContext?rv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&rv(e,t.context,!1),bf(e,t.containerInfo)}function Ev(e,t,n,i,a){return Ru(),_f(a),t.flags|=256,qr(e,t,n,i),t.child}var Dd={dehydrated:null,treeContext:null,retryLane:0};function xd(e){return{baseLanes:e,cachePool:null,transitions:null}}function Pp(e,t,n){var i=t.pendingProps,a=vr.current,m=!1,E=(t.flags&128)!==0,_;if((_=E)||(_=e!==null&&e.memoizedState===null?!1:(a&2)!==0),_?(m=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),rr(vr,a&1),e===null)return Md(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(E=i.children,e=i.fallback,m?(i=t.mode,m=t.child,E={mode:"hidden",children:E},!(i&1)&&m!==null?(m.childLanes=0,m.pendingProps=E):m=ll(E,i,0,null),e=Qa(e,i,n,null),m.return=t,e.return=t,m.sibling=e,t.child=m,t.child.memoizedState=xd(n),t.memoizedState=Dd,e):Df(t,E));if(a=e.memoizedState,a!==null&&(_=a.dehydrated,_!==null))return a_(e,t,E,i,_,a,n);if(m){m=i.fallback,E=t.mode,a=e.child,_=a.sibling;var r={mode:"hidden",children:i.children};return!(E&1)&&t.child!==a?(i=t.child,i.childLanes=0,i.pendingProps=r,t.deletions=null):(i=xa(a,r),i.subtreeFlags=a.subtreeFlags&14680064),_!==null?m=xa(_,m):(m=Qa(m,E,n,null),m.flags|=2),m.return=t,i.return=t,i.sibling=m,t.child=i,i=m,m=t.child,E=e.child.memoizedState,E=E===null?xd(n):{baseLanes:E.baseLanes|n,cachePool:null,transitions:E.transitions},m.memoizedState=E,m.childLanes=e.childLanes&~n,t.memoizedState=Dd,i}return m=e.child,e=m.sibling,i=xa(m,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Df(e,t){return t=ll({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ao(e,t,n,i){return i!==null&&_f(i),Iu(t,e.child,null,n),e=Df(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function a_(e,t,n,i,a,m,E){if(n)return t.flags&256?(t.flags&=-257,i=Ul(Error(Ct(422))),ao(e,t,E,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(m=i.fallback,a=t.mode,i=ll({mode:"visible",children:i.children},a,0,null),m=Qa(m,a,E,null),m.flags|=2,i.return=t,m.return=t,i.sibling=m,t.child=i,t.mode&1&&Iu(t,e.child,null,E),t.child.memoizedState=xd(E),t.memoizedState=Dd,m);if(!(t.mode&1))return ao(e,t,E,null);if(a.data==="$!"){if(i=a.nextSibling&&a.nextSibling.dataset,i)var _=i.dgst;return i=_,m=Error(Ct(419)),i=Ul(m,i,void 0),ao(e,t,E,i)}if(_=(E&e.childLanes)!==0,ai||_){if(i=Cr,i!==null){switch(E&-E){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(i.suspendedLanes|E)?0:a,a!==0&&a!==m.retryLane&&(m.retryLane=a,ha(e,a),Ki(i,e,a,-1))}return Uf(),i=Ul(Error(Ct(421))),ao(e,t,E,i)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=y_.bind(null,e),a._reactRetry=t,null):(e=m.treeContext,pi=ka(a.nextSibling),mi=t,lr=!0,Fi=null,e!==null&&(Mi[Ri++]=la,Mi[Ri++]=da,Mi[Ri++]=Xa,la=e.id,da=e.overflow,Xa=t),t=Df(t,i.children),t.flags|=4096,t)}function Tv(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Rd(e.return,t,n)}function Fl(e,t,n,i,a){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:a}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=i,m.tail=n,m.tailMode=a)}function Op(e,t,n){var i=t.pendingProps,a=i.revealOrder,m=i.tail;if(qr(e,t,i.children,n),i=vr.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tv(e,n,t);else if(e.tag===19)Tv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(rr(vr,i),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Ko(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Fl(t,!1,a,n,m);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ko(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Fl(t,!0,n,null,m);break;case"together":Fl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _o(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function pa(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),qa|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ct(153));if(t.child!==null){for(e=t.child,n=xa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=xa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function u_(e,t,n){switch(t.tag){case 3:kp(t),Ru();break;case 5:ap(t);break;case 1:si(t.type)&&No(t);break;case 4:bf(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,a=t.memoizedProps.value;rr(Uo,i._currentValue),i._currentValue=a;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(rr(vr,vr.current&1),t.flags|=128,null):n&t.child.childLanes?Pp(e,t,n):(rr(vr,vr.current&1),e=pa(e,t,n),e!==null?e.sibling:null);rr(vr,vr.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return Op(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),rr(vr,vr.current),i)break;return null;case 22:case 23:return t.lanes=0,Ip(e,t,n)}return pa(e,t,n)}var Dp,Ld,xp,Lp;Dp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ld=function(){};xp=function(e,t,n,i){var a=e.memoizedProps;if(a!==i){e=t.stateNode,$a(ta.current);var m=null;switch(n){case"input":a=rd(e,a),i=rd(e,i),m=[];break;case"select":a=pr({},a,{value:void 0}),i=pr({},i,{value:void 0}),m=[];break;case"textarea":a=ud(e,a),i=ud(e,i),m=[];break;default:typeof a.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=xo)}od(n,i);var E;n=null;for(p in a)if(!i.hasOwnProperty(p)&&a.hasOwnProperty(p)&&a[p]!=null)if(p==="style"){var _=a[p];for(E in _)_.hasOwnProperty(E)&&(n||(n={}),n[E]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(ps.hasOwnProperty(p)?m||(m=[]):(m=m||[]).push(p,null));for(p in i){var r=i[p];if(_=a!=null?a[p]:void 0,i.hasOwnProperty(p)&&r!==_&&(r!=null||_!=null))if(p==="style")if(_){for(E in _)!_.hasOwnProperty(E)||r&&r.hasOwnProperty(E)||(n||(n={}),n[E]="");for(E in r)r.hasOwnProperty(E)&&_[E]!==r[E]&&(n||(n={}),n[E]=r[E])}else n||(m||(m=[]),m.push(p,n)),n=r;else p==="dangerouslySetInnerHTML"?(r=r?r.__html:void 0,_=_?_.__html:void 0,r!=null&&_!==r&&(m=m||[]).push(p,r)):p==="children"?typeof r!="string"&&typeof r!="number"||(m=m||[]).push(p,""+r):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(ps.hasOwnProperty(p)?(r!=null&&p==="onScroll"&&ar("scroll",e),m||_===r||(m=[])):(m=m||[]).push(p,r))}n&&(m=m||[]).push("style",n);var p=m;(t.updateQueue=p)&&(t.flags|=4)}};Lp=function(e,t,n,i){n!==i&&(t.flags|=4)};function Xu(e,t){if(!lr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function $r(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags&14680064,i|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags,i|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function s_(e,t,n){var i=t.pendingProps;switch(yf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $r(t),null;case 1:return si(t.type)&&Lo(),$r(t),null;case 3:return i=t.stateNode,Cu(),ur(ui),ur(Qr),Rf(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(ro(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Fi!==null&&(Wd(Fi),Fi=null))),Ld(e,t),$r(t),null;case 5:Mf(t);var a=$a(Rs.current);if(n=t.type,e!==null&&t.stateNode!=null)xp(e,t,n,i,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(Ct(166));return $r(t),null}if(e=$a(ta.current),ro(t)){i=t.stateNode,n=t.type;var m=t.memoizedProps;switch(i[qi]=t,i[bs]=m,e=(t.mode&1)!==0,n){case"dialog":ar("cancel",i),ar("close",i);break;case"iframe":case"object":case"embed":ar("load",i);break;case"video":case"audio":for(a=0;a<rs.length;a++)ar(rs[a],i);break;case"source":ar("error",i);break;case"img":case"image":case"link":ar("error",i),ar("load",i);break;case"details":ar("toggle",i);break;case"input":kc(i,m),ar("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!m.multiple},ar("invalid",i);break;case"textarea":Oc(i,m),ar("invalid",i)}od(n,m),a=null;for(var E in m)if(m.hasOwnProperty(E)){var _=m[E];E==="children"?typeof _=="string"?i.textContent!==_&&(m.suppressHydrationWarning!==!0&&no(i.textContent,_,e),a=["children",_]):typeof _=="number"&&i.textContent!==""+_&&(m.suppressHydrationWarning!==!0&&no(i.textContent,_,e),a=["children",""+_]):ps.hasOwnProperty(E)&&_!=null&&E==="onScroll"&&ar("scroll",i)}switch(n){case"input":js(i),Pc(i,m,!0);break;case"textarea":js(i),Dc(i);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(i.onclick=xo)}i=a,t.updateQueue=i,i!==null&&(t.flags|=4)}else{E=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=oh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=E.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=E.createElement(n,{is:i.is}):(e=E.createElement(n),n==="select"&&(E=e,i.multiple?E.multiple=!0:i.size&&(E.size=i.size))):e=E.createElementNS(e,n),e[qi]=t,e[bs]=i,Dp(e,t,!1,!1),t.stateNode=e;e:{switch(E=ld(n,i),n){case"dialog":ar("cancel",e),ar("close",e),a=i;break;case"iframe":case"object":case"embed":ar("load",e),a=i;break;case"video":case"audio":for(a=0;a<rs.length;a++)ar(rs[a],e);a=i;break;case"source":ar("error",e),a=i;break;case"img":case"image":case"link":ar("error",e),ar("load",e),a=i;break;case"details":ar("toggle",e),a=i;break;case"input":kc(e,i),a=rd(e,i),ar("invalid",e);break;case"option":a=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},a=pr({},i,{value:void 0}),ar("invalid",e);break;case"textarea":Oc(e,i),a=ud(e,i),ar("invalid",e);break;default:a=i}od(n,a),_=a;for(m in _)if(_.hasOwnProperty(m)){var r=_[m];m==="style"?fh(e,r):m==="dangerouslySetInnerHTML"?(r=r?r.__html:void 0,r!=null&&lh(e,r)):m==="children"?typeof r=="string"?(n!=="textarea"||r!=="")&&ms(e,r):typeof r=="number"&&ms(e,""+r):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(ps.hasOwnProperty(m)?r!=null&&m==="onScroll"&&ar("scroll",e):r!=null&&nf(e,m,r,E))}switch(n){case"input":js(e),Pc(e,i,!1);break;case"textarea":js(e),Dc(e);break;case"option":i.value!=null&&e.setAttribute("value",""+La(i.value));break;case"select":e.multiple=!!i.multiple,m=i.value,m!=null?_u(e,!!i.multiple,m,!1):i.defaultValue!=null&&_u(e,!!i.multiple,i.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=xo)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $r(t),null;case 6:if(e&&t.stateNode!=null)Lp(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(Ct(166));if(n=$a(Rs.current),$a(ta.current),ro(t)){if(i=t.stateNode,n=t.memoizedProps,i[qi]=t,(m=i.nodeValue!==n)&&(e=mi,e!==null))switch(e.tag){case 3:no(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&no(i.nodeValue,n,(e.mode&1)!==0)}m&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[qi]=t,t.stateNode=i}return $r(t),null;case 13:if(ur(vr),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(lr&&pi!==null&&t.mode&1&&!(t.flags&128))Jh(),Ru(),t.flags|=98560,m=!1;else if(m=ro(t),i!==null&&i.dehydrated!==null){if(e===null){if(!m)throw Error(Ct(318));if(m=t.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(Ct(317));m[qi]=t}else Ru(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$r(t),m=!1}else Fi!==null&&(Wd(Fi),Fi=null),m=!0;if(!m)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||vr.current&1?br===0&&(br=3):Uf())),t.updateQueue!==null&&(t.flags|=4),$r(t),null);case 4:return Cu(),Ld(e,t),e===null&&As(t.stateNode.containerInfo),$r(t),null;case 10:return Sf(t.type._context),$r(t),null;case 17:return si(t.type)&&Lo(),$r(t),null;case 19:if(ur(vr),m=t.memoizedState,m===null)return $r(t),null;if(i=(t.flags&128)!==0,E=m.rendering,E===null)if(i)Xu(m,!1);else{if(br!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(E=Ko(e),E!==null){for(t.flags|=128,Xu(m,!1),i=E.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)m=n,e=i,m.flags&=14680066,E=m.alternate,E===null?(m.childLanes=0,m.lanes=e,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=E.childLanes,m.lanes=E.lanes,m.child=E.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=E.memoizedProps,m.memoizedState=E.memoizedState,m.updateQueue=E.updateQueue,m.type=E.type,e=E.dependencies,m.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return rr(vr,vr.current&1|2),t.child}e=e.sibling}m.tail!==null&&yr()>Pu&&(t.flags|=128,i=!0,Xu(m,!1),t.lanes=4194304)}else{if(!i)if(e=Ko(E),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!E.alternate&&!lr)return $r(t),null}else 2*yr()-m.renderingStartTime>Pu&&n!==1073741824&&(t.flags|=128,i=!0,Xu(m,!1),t.lanes=4194304);m.isBackwards?(E.sibling=t.child,t.child=E):(n=m.last,n!==null?n.sibling=E:t.child=E,m.last=E)}return m.tail!==null?(t=m.tail,m.rendering=t,m.tail=t.sibling,m.renderingStartTime=yr(),t.sibling=null,n=vr.current,rr(vr,i?n&1|2:n&1),t):($r(t),null);case 22:case 23:return Bf(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?hi&1073741824&&($r(t),t.subtreeFlags&6&&(t.flags|=8192)):$r(t),null;case 24:return null;case 25:return null}throw Error(Ct(156,t.tag))}function o_(e,t){switch(yf(t),t.tag){case 1:return si(t.type)&&Lo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cu(),ur(ui),ur(Qr),Rf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Mf(t),null;case 13:if(ur(vr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ct(340));Ru()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ur(vr),null;case 4:return Cu(),null;case 10:return Sf(t.type._context),null;case 22:case 23:return Bf(),null;case 24:return null;default:return null}}var uo=!1,jr=!1,l_=typeof WeakSet=="function"?WeakSet:Set,nn=null;function gu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){mr(e,t,i)}else n.current=null}function Nd(e,t,n){try{n()}catch(i){mr(e,t,i)}}var Sv=!1;function d_(e,t){if(_d=Po,e=Uh(),mf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var a=i.anchorOffset,m=i.focusNode;i=i.focusOffset;try{n.nodeType,m.nodeType}catch{n=null;break e}var E=0,_=-1,r=-1,p=0,g=0,S=e,h=null;t:for(;;){for(var b;S!==n||a!==0&&S.nodeType!==3||(_=E+a),S!==m||i!==0&&S.nodeType!==3||(r=E+i),S.nodeType===3&&(E+=S.nodeValue.length),(b=S.firstChild)!==null;)h=S,S=b;for(;;){if(S===e)break t;if(h===n&&++p===a&&(_=E),h===m&&++g===i&&(r=E),(b=S.nextSibling)!==null)break;S=h,h=S.parentNode}S=b}n=_===-1||r===-1?null:{start:_,end:r}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ed={focusedElem:e,selectionRange:n},Po=!1,nn=t;nn!==null;)if(t=nn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,nn=e;else for(;nn!==null;){t=nn;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var A=y.memoizedProps,k=y.memoizedState,c=t.stateNode,f=c.getSnapshotBeforeUpdate(t.elementType===t.type?A:Bi(t.type,A),k);c.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var l=t.stateNode.containerInfo;l.nodeType===1?l.textContent="":l.nodeType===9&&l.documentElement&&l.removeChild(l.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ct(163))}}catch(I){mr(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,nn=e;break}nn=t.return}return y=Sv,Sv=!1,y}function ds(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&e)===e){var m=a.destroy;a.destroy=void 0,m!==void 0&&Nd(t,n,m)}a=a.next}while(a!==i)}}function sl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function Zd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Np(e){var t=e.alternate;t!==null&&(e.alternate=null,Np(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qi],delete t[bs],delete t[Ad],delete t[Gy],delete t[$y])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zp(e){return e.tag===5||e.tag===3||e.tag===4}function Av(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bd(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xo));else if(i!==4&&(e=e.child,e!==null))for(Bd(e,t,n),e=e.sibling;e!==null;)Bd(e,t,n),e=e.sibling}function Ud(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Ud(e,t,n),e=e.sibling;e!==null;)Ud(e,t,n),e=e.sibling}var Nr=null,Ui=!1;function _a(e,t,n){for(n=n.child;n!==null;)Bp(e,t,n),n=n.sibling}function Bp(e,t,n){if(ea&&typeof ea.onCommitFiberUnmount=="function")try{ea.onCommitFiberUnmount(qo,n)}catch{}switch(n.tag){case 5:jr||gu(n,t);case 6:var i=Nr,a=Ui;Nr=null,_a(e,t,n),Nr=i,Ui=a,Nr!==null&&(Ui?(e=Nr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Nr.removeChild(n.stateNode));break;case 18:Nr!==null&&(Ui?(e=Nr,n=n.stateNode,e.nodeType===8?Dl(e.parentNode,n):e.nodeType===1&&Dl(e,n),Es(e)):Dl(Nr,n.stateNode));break;case 4:i=Nr,a=Ui,Nr=n.stateNode.containerInfo,Ui=!0,_a(e,t,n),Nr=i,Ui=a;break;case 0:case 11:case 14:case 15:if(!jr&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){a=i=i.next;do{var m=a,E=m.destroy;m=m.tag,E!==void 0&&(m&2||m&4)&&Nd(n,t,E),a=a.next}while(a!==i)}_a(e,t,n);break;case 1:if(!jr&&(gu(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(_){mr(n,t,_)}_a(e,t,n);break;case 21:_a(e,t,n);break;case 22:n.mode&1?(jr=(i=jr)||n.memoizedState!==null,_a(e,t,n),jr=i):_a(e,t,n);break;default:_a(e,t,n)}}function wv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new l_),t.forEach(function(i){var a=__.bind(null,e,i);n.has(i)||(n.add(i),i.then(a,a))})}}function Zi(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var a=n[i];try{var m=e,E=t,_=E;e:for(;_!==null;){switch(_.tag){case 5:Nr=_.stateNode,Ui=!1;break e;case 3:Nr=_.stateNode.containerInfo,Ui=!0;break e;case 4:Nr=_.stateNode.containerInfo,Ui=!0;break e}_=_.return}if(Nr===null)throw Error(Ct(160));Bp(m,E,a),Nr=null,Ui=!1;var r=a.alternate;r!==null&&(r.return=null),a.return=null}catch(p){mr(a,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Up(t,e),t=t.sibling}function Up(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zi(t,e),Xi(e),i&4){try{ds(3,e,e.return),sl(3,e)}catch(A){mr(e,e.return,A)}try{ds(5,e,e.return)}catch(A){mr(e,e.return,A)}}break;case 1:Zi(t,e),Xi(e),i&512&&n!==null&&gu(n,n.return);break;case 5:if(Zi(t,e),Xi(e),i&512&&n!==null&&gu(n,n.return),e.flags&32){var a=e.stateNode;try{ms(a,"")}catch(A){mr(e,e.return,A)}}if(i&4&&(a=e.stateNode,a!=null)){var m=e.memoizedProps,E=n!==null?n.memoizedProps:m,_=e.type,r=e.updateQueue;if(e.updateQueue=null,r!==null)try{_==="input"&&m.type==="radio"&&m.name!=null&&uh(a,m),ld(_,E);var p=ld(_,m);for(E=0;E<r.length;E+=2){var g=r[E],S=r[E+1];g==="style"?fh(a,S):g==="dangerouslySetInnerHTML"?lh(a,S):g==="children"?ms(a,S):nf(a,g,S,p)}switch(_){case"input":id(a,m);break;case"textarea":sh(a,m);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!m.multiple;var b=m.value;b!=null?_u(a,!!m.multiple,b,!1):h!==!!m.multiple&&(m.defaultValue!=null?_u(a,!!m.multiple,m.defaultValue,!0):_u(a,!!m.multiple,m.multiple?[]:"",!1))}a[bs]=m}catch(A){mr(e,e.return,A)}}break;case 6:if(Zi(t,e),Xi(e),i&4){if(e.stateNode===null)throw Error(Ct(162));a=e.stateNode,m=e.memoizedProps;try{a.nodeValue=m}catch(A){mr(e,e.return,A)}}break;case 3:if(Zi(t,e),Xi(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Es(t.containerInfo)}catch(A){mr(e,e.return,A)}break;case 4:Zi(t,e),Xi(e);break;case 13:Zi(t,e),Xi(e),a=e.child,a.flags&8192&&(m=a.memoizedState!==null,a.stateNode.isHidden=m,!m||a.alternate!==null&&a.alternate.memoizedState!==null||(Nf=yr())),i&4&&wv(e);break;case 22:if(g=n!==null&&n.memoizedState!==null,e.mode&1?(jr=(p=jr)||g,Zi(t,e),jr=p):Zi(t,e),Xi(e),i&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!g&&e.mode&1)for(nn=e,g=e.child;g!==null;){for(S=nn=g;nn!==null;){switch(h=nn,b=h.child,h.tag){case 0:case 11:case 14:case 15:ds(4,h,h.return);break;case 1:gu(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){i=h,n=h.return;try{t=i,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(A){mr(i,n,A)}}break;case 5:gu(h,h.return);break;case 22:if(h.memoizedState!==null){Mv(S);continue}}b!==null?(b.return=h,nn=b):Mv(S)}g=g.sibling}e:for(g=null,S=e;;){if(S.tag===5){if(g===null){g=S;try{a=S.stateNode,p?(m=a.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(_=S.stateNode,r=S.memoizedProps.style,E=r!=null&&r.hasOwnProperty("display")?r.display:null,_.style.display=dh("display",E))}catch(A){mr(e,e.return,A)}}}else if(S.tag===6){if(g===null)try{S.stateNode.nodeValue=p?"":S.memoizedProps}catch(A){mr(e,e.return,A)}}else if((S.tag!==22&&S.tag!==23||S.memoizedState===null||S===e)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===e)break e;for(;S.sibling===null;){if(S.return===null||S.return===e)break e;g===S&&(g=null),S=S.return}g===S&&(g=null),S.sibling.return=S.return,S=S.sibling}}break;case 19:Zi(t,e),Xi(e),i&4&&wv(e);break;case 21:break;default:Zi(t,e),Xi(e)}}function Xi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Zp(n)){var i=n;break e}n=n.return}throw Error(Ct(160))}switch(i.tag){case 5:var a=i.stateNode;i.flags&32&&(ms(a,""),i.flags&=-33);var m=Av(e);Ud(e,m,a);break;case 3:case 4:var E=i.stateNode.containerInfo,_=Av(e);Bd(e,_,E);break;default:throw Error(Ct(161))}}catch(r){mr(e,e.return,r)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function f_(e,t,n){nn=e,Fp(e)}function Fp(e,t,n){for(var i=(e.mode&1)!==0;nn!==null;){var a=nn,m=a.child;if(a.tag===22&&i){var E=a.memoizedState!==null||uo;if(!E){var _=a.alternate,r=_!==null&&_.memoizedState!==null||jr;_=uo;var p=jr;if(uo=E,(jr=r)&&!p)for(nn=a;nn!==null;)E=nn,r=E.child,E.tag===22&&E.memoizedState!==null?Rv(a):r!==null?(r.return=E,nn=r):Rv(a);for(;m!==null;)nn=m,Fp(m),m=m.sibling;nn=a,uo=_,jr=p}bv(e)}else a.subtreeFlags&8772&&m!==null?(m.return=a,nn=m):bv(e)}}function bv(e){for(;nn!==null;){var t=nn;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:jr||sl(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!jr)if(n===null)i.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Bi(t.type,n.memoizedProps);i.componentDidUpdate(a,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var m=t.updateQueue;m!==null&&ov(t,m,i);break;case 3:var E=t.updateQueue;if(E!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ov(t,E,n)}break;case 5:var _=t.stateNode;if(n===null&&t.flags&4){n=_;var r=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break;case"img":r.src&&(n.src=r.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var g=p.memoizedState;if(g!==null){var S=g.dehydrated;S!==null&&Es(S)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ct(163))}jr||t.flags&512&&Zd(t)}catch(h){mr(t,t.return,h)}}if(t===e){nn=null;break}if(n=t.sibling,n!==null){n.return=t.return,nn=n;break}nn=t.return}}function Mv(e){for(;nn!==null;){var t=nn;if(t===e){nn=null;break}var n=t.sibling;if(n!==null){n.return=t.return,nn=n;break}nn=t.return}}function Rv(e){for(;nn!==null;){var t=nn;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{sl(4,t)}catch(r){mr(t,n,r)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var a=t.return;try{i.componentDidMount()}catch(r){mr(t,a,r)}}var m=t.return;try{Zd(t)}catch(r){mr(t,m,r)}break;case 5:var E=t.return;try{Zd(t)}catch(r){mr(t,E,r)}}}catch(r){mr(t,t.return,r)}if(t===e){nn=null;break}var _=t.sibling;if(_!==null){_.return=t.return,nn=_;break}nn=t.return}}var c_=Math.ceil,Ho=ma.ReactCurrentDispatcher,xf=ma.ReactCurrentOwner,Ci=ma.ReactCurrentBatchConfig,jn=0,Cr=null,Er=null,Zr=0,hi=0,yu=Ba(0),br=0,Ps=null,qa=0,ol=0,Lf=0,fs=null,ii=null,Nf=0,Pu=1/0,sa=null,Go=!1,Fd=null,Oa=null,so=!1,Ma=null,$o=0,cs=0,zd=null,Eo=-1,To=0;function ei(){return jn&6?yr():Eo!==-1?Eo:Eo=yr()}function Da(e){return e.mode&1?jn&2&&Zr!==0?Zr&-Zr:Qy.transition!==null?(To===0&&(To=Ah()),To):(e=Jn,e!==0||(e=window.event,e=e===void 0?16:kh(e.type)),e):1}function Ki(e,t,n,i){if(50<cs)throw cs=0,zd=null,Error(Ct(185));xs(e,n,i),(!(jn&2)||e!==Cr)&&(e===Cr&&(!(jn&2)&&(ol|=n),br===4&&wa(e,Zr)),oi(e,i),n===1&&jn===0&&!(t.mode&1)&&(Pu=yr()+500,il&&Ua()))}function oi(e,t){var n=e.callbackNode;Q0(e,t);var i=ko(e,e===Cr?Zr:0);if(i===0)n!==null&&Nc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&Nc(n),t===1)e.tag===0?jy(Iv.bind(null,e)):Qh(Iv.bind(null,e)),Vy(function(){!(jn&6)&&Ua()}),n=null;else{switch(wh(i)){case 1:n=of;break;case 4:n=Th;break;case 16:n=Co;break;case 536870912:n=Sh;break;default:n=Co}n=jp(n,zp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function zp(e,t){if(Eo=-1,To=0,jn&6)throw Error(Ct(327));var n=e.callbackNode;if(wu()&&e.callbackNode!==n)return null;var i=ko(e,e===Cr?Zr:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=jo(e,i);else{t=i;var a=jn;jn|=2;var m=Wp();(Cr!==e||Zr!==t)&&(sa=null,Pu=yr()+500,ja(e,t));do try{p_();break}catch(_){Kp(e,_)}while(1);Tf(),Ho.current=m,jn=a,Er!==null?t=0:(Cr=null,Zr=0,t=br)}if(t!==0){if(t===2&&(a=hd(e),a!==0&&(i=a,t=Kd(e,a))),t===1)throw n=Ps,ja(e,0),wa(e,i),oi(e,yr()),n;if(t===6)wa(e,i);else{if(a=e.current.alternate,!(i&30)&&!v_(a)&&(t=jo(e,i),t===2&&(m=hd(e),m!==0&&(i=m,t=Kd(e,m))),t===1))throw n=Ps,ja(e,0),wa(e,i),oi(e,yr()),n;switch(e.finishedWork=a,e.finishedLanes=i,t){case 0:case 1:throw Error(Ct(345));case 2:Wa(e,ii,sa);break;case 3:if(wa(e,i),(i&130023424)===i&&(t=Nf+500-yr(),10<t)){if(ko(e,0)!==0)break;if(a=e.suspendedLanes,(a&i)!==i){ei(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Sd(Wa.bind(null,e,ii,sa),t);break}Wa(e,ii,sa);break;case 4:if(wa(e,i),(i&4194240)===i)break;for(t=e.eventTimes,a=-1;0<i;){var E=31-zi(i);m=1<<E,E=t[E],E>a&&(a=E),i&=~m}if(i=a,i=yr()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*c_(i/1960))-i,10<i){e.timeoutHandle=Sd(Wa.bind(null,e,ii,sa),i);break}Wa(e,ii,sa);break;case 5:Wa(e,ii,sa);break;default:throw Error(Ct(329))}}}return oi(e,yr()),e.callbackNode===n?zp.bind(null,e):null}function Kd(e,t){var n=fs;return e.current.memoizedState.isDehydrated&&(ja(e,t).flags|=256),e=jo(e,t),e!==2&&(t=ii,ii=n,t!==null&&Wd(t)),e}function Wd(e){ii===null?ii=e:ii.push.apply(ii,e)}function v_(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var a=n[i],m=a.getSnapshot;a=a.value;try{if(!Wi(m(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wa(e,t){for(t&=~Lf,t&=~ol,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zi(t),i=1<<n;e[n]=-1,t&=~i}}function Iv(e){if(jn&6)throw Error(Ct(327));wu();var t=ko(e,0);if(!(t&1))return oi(e,yr()),null;var n=jo(e,t);if(e.tag!==0&&n===2){var i=hd(e);i!==0&&(t=i,n=Kd(e,i))}if(n===1)throw n=Ps,ja(e,0),wa(e,t),oi(e,yr()),n;if(n===6)throw Error(Ct(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wa(e,ii,sa),oi(e,yr()),null}function Zf(e,t){var n=jn;jn|=1;try{return e(t)}finally{jn=n,jn===0&&(Pu=yr()+500,il&&Ua())}}function eu(e){Ma!==null&&Ma.tag===0&&!(jn&6)&&wu();var t=jn;jn|=1;var n=Ci.transition,i=Jn;try{if(Ci.transition=null,Jn=1,e)return e()}finally{Jn=i,Ci.transition=n,jn=t,!(jn&6)&&Ua()}}function Bf(){hi=yu.current,ur(yu)}function ja(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Wy(n)),Er!==null)for(n=Er.return;n!==null;){var i=n;switch(yf(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Lo();break;case 3:Cu(),ur(ui),ur(Qr),Rf();break;case 5:Mf(i);break;case 4:Cu();break;case 13:ur(vr);break;case 19:ur(vr);break;case 10:Sf(i.type._context);break;case 22:case 23:Bf()}n=n.return}if(Cr=e,Er=e=xa(e.current,null),Zr=hi=t,br=0,Ps=null,Lf=ol=qa=0,ii=fs=null,Ga!==null){for(t=0;t<Ga.length;t++)if(n=Ga[t],i=n.interleaved,i!==null){n.interleaved=null;var a=i.next,m=n.pending;if(m!==null){var E=m.next;m.next=a,i.next=E}n.pending=i}Ga=null}return e}function Kp(e,t){do{var n=Er;try{if(Tf(),go.current=Vo,Wo){for(var i=hr.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Wo=!1}if(Ja=0,Ir=wr=hr=null,ls=!1,Is=0,xf.current=null,n===null||n.return===null){br=1,Ps=t,Er=null;break}e:{var m=e,E=n.return,_=n,r=t;if(t=Zr,_.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){var p=r,g=_,S=g.tag;if(!(g.mode&1)&&(S===0||S===11||S===15)){var h=g.alternate;h?(g.updateQueue=h.updateQueue,g.memoizedState=h.memoizedState,g.lanes=h.lanes):(g.updateQueue=null,g.memoizedState=null)}var b=pv(E);if(b!==null){b.flags&=-257,mv(b,E,_,m,t),b.mode&1&&hv(m,p,t),t=b,r=p;var y=t.updateQueue;if(y===null){var A=new Set;A.add(r),t.updateQueue=A}else y.add(r);break e}else{if(!(t&1)){hv(m,p,t),Uf();break e}r=Error(Ct(426))}}else if(lr&&_.mode&1){var k=pv(E);if(k!==null){!(k.flags&65536)&&(k.flags|=256),mv(k,E,_,m,t),_f(ku(r,_));break e}}m=r=ku(r,_),br!==4&&(br=2),fs===null?fs=[m]:fs.push(m),m=E;do{switch(m.tag){case 3:m.flags|=65536,t&=-t,m.lanes|=t;var c=bp(m,r,t);sv(m,c);break e;case 1:_=r;var f=m.type,l=m.stateNode;if(!(m.flags&128)&&(typeof f.getDerivedStateFromError=="function"||l!==null&&typeof l.componentDidCatch=="function"&&(Oa===null||!Oa.has(l)))){m.flags|=65536,t&=-t,m.lanes|=t;var I=Mp(m,_,t);sv(m,I);break e}}m=m.return}while(m!==null)}Hp(n)}catch(M){t=M,Er===n&&n!==null&&(Er=n=n.return);continue}break}while(1)}function Wp(){var e=Ho.current;return Ho.current=Vo,e===null?Vo:e}function Uf(){(br===0||br===3||br===2)&&(br=4),Cr===null||!(qa&268435455)&&!(ol&268435455)||wa(Cr,Zr)}function jo(e,t){var n=jn;jn|=2;var i=Wp();(Cr!==e||Zr!==t)&&(sa=null,ja(e,t));do try{h_();break}catch(a){Kp(e,a)}while(1);if(Tf(),jn=n,Ho.current=i,Er!==null)throw Error(Ct(261));return Cr=null,Zr=0,br}function h_(){for(;Er!==null;)Vp(Er)}function p_(){for(;Er!==null&&!F0();)Vp(Er)}function Vp(e){var t=$p(e.alternate,e,hi);e.memoizedProps=e.pendingProps,t===null?Hp(e):Er=t,xf.current=null}function Hp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=o_(n,t),n!==null){n.flags&=32767,Er=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{br=6,Er=null;return}}else if(n=s_(n,t,hi),n!==null){Er=n;return}if(t=t.sibling,t!==null){Er=t;return}Er=t=e}while(t!==null);br===0&&(br=5)}function Wa(e,t,n){var i=Jn,a=Ci.transition;try{Ci.transition=null,Jn=1,m_(e,t,n,i)}finally{Ci.transition=a,Jn=i}return null}function m_(e,t,n,i){do wu();while(Ma!==null);if(jn&6)throw Error(Ct(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ct(177));e.callbackNode=null,e.callbackPriority=0;var m=n.lanes|n.childLanes;if(Y0(e,m),e===Cr&&(Er=Cr=null,Zr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||so||(so=!0,jp(Co,function(){return wu(),null})),m=(n.flags&15990)!==0,n.subtreeFlags&15990||m){m=Ci.transition,Ci.transition=null;var E=Jn;Jn=1;var _=jn;jn|=4,xf.current=null,d_(e,n),Up(n,e),Ny(Ed),Po=!!_d,Ed=_d=null,e.current=n,f_(n),z0(),jn=_,Jn=E,Ci.transition=m}else e.current=n;if(so&&(so=!1,Ma=e,$o=a),m=e.pendingLanes,m===0&&(Oa=null),V0(n.stateNode),oi(e,yr()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],i(a.value,{componentStack:a.stack,digest:a.digest});if(Go)throw Go=!1,e=Fd,Fd=null,e;return $o&1&&e.tag!==0&&wu(),m=e.pendingLanes,m&1?e===zd?cs++:(cs=0,zd=e):cs=0,Ua(),null}function wu(){if(Ma!==null){var e=wh($o),t=Ci.transition,n=Jn;try{if(Ci.transition=null,Jn=16>e?16:e,Ma===null)var i=!1;else{if(e=Ma,Ma=null,$o=0,jn&6)throw Error(Ct(331));var a=jn;for(jn|=4,nn=e.current;nn!==null;){var m=nn,E=m.child;if(nn.flags&16){var _=m.deletions;if(_!==null){for(var r=0;r<_.length;r++){var p=_[r];for(nn=p;nn!==null;){var g=nn;switch(g.tag){case 0:case 11:case 15:ds(8,g,m)}var S=g.child;if(S!==null)S.return=g,nn=S;else for(;nn!==null;){g=nn;var h=g.sibling,b=g.return;if(Np(g),g===p){nn=null;break}if(h!==null){h.return=b,nn=h;break}nn=b}}}var y=m.alternate;if(y!==null){var A=y.child;if(A!==null){y.child=null;do{var k=A.sibling;A.sibling=null,A=k}while(A!==null)}}nn=m}}if(m.subtreeFlags&2064&&E!==null)E.return=m,nn=E;else e:for(;nn!==null;){if(m=nn,m.flags&2048)switch(m.tag){case 0:case 11:case 15:ds(9,m,m.return)}var c=m.sibling;if(c!==null){c.return=m.return,nn=c;break e}nn=m.return}}var f=e.current;for(nn=f;nn!==null;){E=nn;var l=E.child;if(E.subtreeFlags&2064&&l!==null)l.return=E,nn=l;else e:for(E=f;nn!==null;){if(_=nn,_.flags&2048)try{switch(_.tag){case 0:case 11:case 15:sl(9,_)}}catch(M){mr(_,_.return,M)}if(_===E){nn=null;break e}var I=_.sibling;if(I!==null){I.return=_.return,nn=I;break e}nn=_.return}}if(jn=a,Ua(),ea&&typeof ea.onPostCommitFiberRoot=="function")try{ea.onPostCommitFiberRoot(qo,e)}catch{}i=!0}return i}finally{Jn=n,Ci.transition=t}}return!1}function Cv(e,t,n){t=ku(n,t),t=bp(e,t,1),e=Pa(e,t,1),t=ei(),e!==null&&(xs(e,1,t),oi(e,t))}function mr(e,t,n){if(e.tag===3)Cv(e,e,n);else for(;t!==null;){if(t.tag===3){Cv(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Oa===null||!Oa.has(i))){e=ku(n,e),e=Mp(t,e,1),t=Pa(t,e,1),e=ei(),t!==null&&(xs(t,1,e),oi(t,e));break}}t=t.return}}function g_(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=ei(),e.pingedLanes|=e.suspendedLanes&n,Cr===e&&(Zr&n)===n&&(br===4||br===3&&(Zr&130023424)===Zr&&500>yr()-Nf?ja(e,0):Lf|=n),oi(e,t)}function Gp(e,t){t===0&&(e.mode&1?(t=Xs,Xs<<=1,!(Xs&130023424)&&(Xs=4194304)):t=1);var n=ei();e=ha(e,t),e!==null&&(xs(e,t,n),oi(e,n))}function y_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Gp(e,n)}function __(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(Ct(314))}i!==null&&i.delete(t),Gp(e,n)}var $p;$p=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ui.current)ai=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ai=!1,u_(e,t,n);ai=!!(e.flags&131072)}else ai=!1,lr&&t.flags&1048576&&Yh(t,Bo,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;_o(e,t),e=t.pendingProps;var a=Mu(t,Qr.current);Au(t,n),a=Cf(null,t,i,e,a,n);var m=kf();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,si(i)?(m=!0,No(t)):m=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,wf(t),a.updater=al,t.stateNode=a,a._reactInternals=t,Cd(t,i,e,n),t=Od(null,t,i,!0,m,n)):(t.tag=0,lr&&m&&gf(t),qr(null,t,a,n),t=t.child),t;case 16:i=t.elementType;e:{switch(_o(e,t),e=t.pendingProps,a=i._init,i=a(i._payload),t.type=i,a=t.tag=T_(i),e=Bi(i,e),a){case 0:t=Pd(null,t,i,e,n);break e;case 1:t=_v(null,t,i,e,n);break e;case 11:t=gv(null,t,i,e,n);break e;case 14:t=yv(null,t,i,Bi(i.type,e),n);break e}throw Error(Ct(306,i,""))}return t;case 0:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:Bi(i,a),Pd(e,t,i,a,n);case 1:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:Bi(i,a),_v(e,t,i,a,n);case 3:e:{if(kp(t),e===null)throw Error(Ct(387));i=t.pendingProps,m=t.memoizedState,a=m.element,ep(e,t),zo(t,i,null,n);var E=t.memoizedState;if(i=E.element,m.isDehydrated)if(m={element:i,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},t.updateQueue.baseState=m,t.memoizedState=m,t.flags&256){a=ku(Error(Ct(423)),t),t=Ev(e,t,i,n,a);break e}else if(i!==a){a=ku(Error(Ct(424)),t),t=Ev(e,t,i,n,a);break e}else for(pi=ka(t.stateNode.containerInfo.firstChild),mi=t,lr=!0,Fi=null,n=ip(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ru(),i===a){t=pa(e,t,n);break e}qr(e,t,i,n)}t=t.child}return t;case 5:return ap(t),e===null&&Md(t),i=t.type,a=t.pendingProps,m=e!==null?e.memoizedProps:null,E=a.children,Td(i,a)?E=null:m!==null&&Td(i,m)&&(t.flags|=32),Cp(e,t),qr(e,t,E,n),t.child;case 6:return e===null&&Md(t),null;case 13:return Pp(e,t,n);case 4:return bf(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Iu(t,null,i,n):qr(e,t,i,n),t.child;case 11:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:Bi(i,a),gv(e,t,i,a,n);case 7:return qr(e,t,t.pendingProps,n),t.child;case 8:return qr(e,t,t.pendingProps.children,n),t.child;case 12:return qr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,a=t.pendingProps,m=t.memoizedProps,E=a.value,rr(Uo,i._currentValue),i._currentValue=E,m!==null)if(Wi(m.value,E)){if(m.children===a.children&&!ui.current){t=pa(e,t,n);break e}}else for(m=t.child,m!==null&&(m.return=t);m!==null;){var _=m.dependencies;if(_!==null){E=m.child;for(var r=_.firstContext;r!==null;){if(r.context===i){if(m.tag===1){r=fa(-1,n&-n),r.tag=2;var p=m.updateQueue;if(p!==null){p=p.shared;var g=p.pending;g===null?r.next=r:(r.next=g.next,g.next=r),p.pending=r}}m.lanes|=n,r=m.alternate,r!==null&&(r.lanes|=n),Rd(m.return,n,t),_.lanes|=n;break}r=r.next}}else if(m.tag===10)E=m.type===t.type?null:m.child;else if(m.tag===18){if(E=m.return,E===null)throw Error(Ct(341));E.lanes|=n,_=E.alternate,_!==null&&(_.lanes|=n),Rd(E,n,t),E=m.sibling}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===t){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}qr(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,i=t.pendingProps.children,Au(t,n),a=ki(a),i=i(a),t.flags|=1,qr(e,t,i,n),t.child;case 14:return i=t.type,a=Bi(i,t.pendingProps),a=Bi(i.type,a),yv(e,t,i,a,n);case 15:return Rp(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:Bi(i,a),_o(e,t),t.tag=1,si(i)?(e=!0,No(t)):e=!1,Au(t,n),np(t,i,a),Cd(t,i,a,n),Od(null,t,i,!0,e,n);case 19:return Op(e,t,n);case 22:return Ip(e,t,n)}throw Error(Ct(156,t.tag))};function jp(e,t){return Eh(e,t)}function E_(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ii(e,t,n,i){return new E_(e,t,n,i)}function Ff(e){return e=e.prototype,!(!e||!e.isReactComponent)}function T_(e){if(typeof e=="function")return Ff(e)?1:0;if(e!=null){if(e=e.$$typeof,e===af)return 11;if(e===uf)return 14}return 2}function xa(e,t){var n=e.alternate;return n===null?(n=Ii(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function So(e,t,n,i,a,m){var E=2;if(i=e,typeof e=="function")Ff(e)&&(E=1);else if(typeof e=="string")E=5;else e:switch(e){case ou:return Qa(n.children,a,m,t);case rf:E=8,a|=8;break;case ql:return e=Ii(12,n,t,a|2),e.elementType=ql,e.lanes=m,e;case ed:return e=Ii(13,n,t,a),e.elementType=ed,e.lanes=m,e;case td:return e=Ii(19,n,t,a),e.elementType=td,e.lanes=m,e;case rh:return ll(n,a,m,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case th:E=10;break e;case nh:E=9;break e;case af:E=11;break e;case uf:E=14;break e;case Ta:E=16,i=null;break e}throw Error(Ct(130,e==null?e:typeof e,""))}return t=Ii(E,n,t,a),t.elementType=e,t.type=i,t.lanes=m,t}function Qa(e,t,n,i){return e=Ii(7,e,i,t),e.lanes=n,e}function ll(e,t,n,i){return e=Ii(22,e,i,t),e.elementType=rh,e.lanes=n,e.stateNode={isHidden:!1},e}function zl(e,t,n){return e=Ii(6,e,null,t),e.lanes=n,e}function Kl(e,t,n){return t=Ii(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function S_(e,t,n,i,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sl(0),this.expirationTimes=Sl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sl(0),this.identifierPrefix=i,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function zf(e,t,n,i,a,m,E,_,r){return e=new S_(e,t,n,_,r),t===1?(t=1,m===!0&&(t|=8)):t=0,m=Ii(3,null,null,t),e.current=m,m.stateNode=e,m.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wf(m),e}function A_(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:su,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function Qp(e){if(!e)return Na;e=e._reactInternals;e:{if(nu(e)!==e||e.tag!==1)throw Error(Ct(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(si(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ct(171))}if(e.tag===1){var n=e.type;if(si(n))return jh(e,n,t)}return t}function Yp(e,t,n,i,a,m,E,_,r){return e=zf(n,i,!0,e,a,m,E,_,r),e.context=Qp(null),n=e.current,i=ei(),a=Da(n),m=fa(i,a),m.callback=t??null,Pa(n,m,a),e.current.lanes=a,xs(e,a,i),oi(e,i),e}function dl(e,t,n,i){var a=t.current,m=ei(),E=Da(a);return n=Qp(n),t.context===null?t.context=n:t.pendingContext=n,t=fa(m,E),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Pa(a,t,E),e!==null&&(Ki(e,a,E,m),mo(e,a,E)),E}function Qo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Kf(e,t){kv(e,t),(e=e.alternate)&&kv(e,t)}function w_(){return null}var Xp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wf(e){this._internalRoot=e}fl.prototype.render=Wf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ct(409));dl(e,t,null,null)};fl.prototype.unmount=Wf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;eu(function(){dl(null,e,null,null)}),t[va]=null}};function fl(e){this._internalRoot=e}fl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Aa.length&&t!==0&&t<Aa[n].priority;n++);Aa.splice(n,0,e),n===0&&Ch(e)}};function Vf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function cl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Pv(){}function b_(e,t,n,i,a){if(a){if(typeof i=="function"){var m=i;i=function(){var p=Qo(E);m.call(p)}}var E=Yp(t,i,e,0,null,!1,!1,"",Pv);return e._reactRootContainer=E,e[va]=E.current,As(e.nodeType===8?e.parentNode:e),eu(),E}for(;a=e.lastChild;)e.removeChild(a);if(typeof i=="function"){var _=i;i=function(){var p=Qo(r);_.call(p)}}var r=zf(e,0,!1,null,null,!1,!1,"",Pv);return e._reactRootContainer=r,e[va]=r.current,As(e.nodeType===8?e.parentNode:e),eu(function(){dl(t,r,n,i)}),r}function vl(e,t,n,i,a){var m=n._reactRootContainer;if(m){var E=m;if(typeof a=="function"){var _=a;a=function(){var r=Qo(E);_.call(r)}}dl(t,E,e,a)}else E=b_(n,t,e,a,i);return Qo(E)}bh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ns(t.pendingLanes);n!==0&&(lf(t,n|1),oi(t,yr()),!(jn&6)&&(Pu=yr()+500,Ua()))}break;case 13:eu(function(){var i=ha(e,1);if(i!==null){var a=ei();Ki(i,e,1,a)}}),Kf(e,1)}};df=function(e){if(e.tag===13){var t=ha(e,134217728);if(t!==null){var n=ei();Ki(t,e,134217728,n)}Kf(e,134217728)}};Mh=function(e){if(e.tag===13){var t=Da(e),n=ha(e,t);if(n!==null){var i=ei();Ki(n,e,t,i)}Kf(e,t)}};Rh=function(){return Jn};Ih=function(e,t){var n=Jn;try{return Jn=e,t()}finally{Jn=n}};fd=function(e,t,n){switch(t){case"input":if(id(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=rl(i);if(!a)throw Error(Ct(90));ah(i),id(i,a)}}}break;case"textarea":sh(e,n);break;case"select":t=n.value,t!=null&&_u(e,!!n.multiple,t,!1)}};hh=Zf;ph=eu;var M_={usingClientEntryPoint:!1,Events:[Ns,cu,rl,ch,vh,Zf]},Ju={findFiberByHostInstance:Ha,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},R_={bundleType:Ju.bundleType,version:Ju.version,rendererPackageName:Ju.rendererPackageName,rendererConfig:Ju.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ma.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yh(e),e===null?null:e.stateNode},findFiberByHostInstance:Ju.findFiberByHostInstance||w_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oo.isDisabled&&oo.supportsFiber)try{qo=oo.inject(R_),ea=oo}catch{}}yi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M_;yi.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vf(t))throw Error(Ct(200));return A_(e,t,null,n)};yi.createRoot=function(e,t){if(!Vf(e))throw Error(Ct(299));var n=!1,i="",a=Xp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=zf(e,1,!1,null,null,n,!1,i,a),e[va]=t.current,As(e.nodeType===8?e.parentNode:e),new Wf(t)};yi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ct(188)):(e=Object.keys(e).join(","),Error(Ct(268,e)));return e=yh(t),e=e===null?null:e.stateNode,e};yi.flushSync=function(e){return eu(e)};yi.hydrate=function(e,t,n){if(!cl(t))throw Error(Ct(200));return vl(null,e,t,!0,n)};yi.hydrateRoot=function(e,t,n){if(!Vf(e))throw Error(Ct(405));var i=n!=null&&n.hydratedSources||null,a=!1,m="",E=Xp;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(m=n.identifierPrefix),n.onRecoverableError!==void 0&&(E=n.onRecoverableError)),t=Yp(t,null,e,1,n??null,a,!1,m,E),e[va]=t.current,As(e),i)for(e=0;e<i.length;e++)n=i[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new fl(t)};yi.render=function(e,t,n){if(!cl(t))throw Error(Ct(200));return vl(null,e,t,!1,n)};yi.unmountComponentAtNode=function(e){if(!cl(e))throw Error(Ct(40));return e._reactRootContainer?(eu(function(){vl(null,null,e,!1,function(){e._reactRootContainer=null,e[va]=null})}),!0):!1};yi.unstable_batchedUpdates=Zf;yi.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!cl(n))throw Error(Ct(200));if(e==null||e._reactInternals===void 0)throw Error(Ct(38));return vl(e,t,n,!1,i)};yi.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=yi})(w0);var Vd={},I_={get exports(){return Vd},set exports(e){Vd=e}},Jp={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ou=tr;function C_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var k_=typeof Object.is=="function"?Object.is:C_,P_=Ou.useState,O_=Ou.useEffect,D_=Ou.useLayoutEffect,x_=Ou.useDebugValue;function L_(e,t){var n=t(),i=P_({inst:{value:n,getSnapshot:t}}),a=i[0].inst,m=i[1];return D_(function(){a.value=n,a.getSnapshot=t,Wl(a)&&m({inst:a})},[e,n,t]),O_(function(){return Wl(a)&&m({inst:a}),e(function(){Wl(a)&&m({inst:a})})},[e]),x_(n),n}function Wl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!k_(e,n)}catch{return!0}}function N_(e,t){return t()}var Z_=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?N_:L_;Jp.useSyncExternalStore=Ou.useSyncExternalStore!==void 0?Ou.useSyncExternalStore:Z_;(function(e){e.exports=Jp})(I_);const B_=Vd.useSyncExternalStore,Ov=tr.createContext(void 0),qp=tr.createContext(!1);function em(e,t){return e||(t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Ov),window.ReactQueryClientContext):Ov)}const U_=({context:e}={})=>{const t=tr.useContext(em(e,tr.useContext(qp)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},F_=({client:e,children:t,context:n,contextSharing:i=!1})=>{tr.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]);const a=em(n,i);return tr.createElement(qp.Provider,{value:!n&&i},tr.createElement(a.Provider,{value:e},t))},tm=tr.createContext(!1),z_=()=>tr.useContext(tm);tm.Provider;function K_(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}const W_=tr.createContext(K_()),V_=()=>tr.useContext(W_);function H_(e,t){return typeof e=="function"?e(...t):!!e}const G_=(e,t)=>{(e.suspense||e.useErrorBoundary)&&(t.isReset()||(e.retryOnMount=!1))},$_=e=>{tr.useEffect(()=>{e.clearReset()},[e])},j_=({result:e,errorResetBoundary:t,useErrorBoundary:n,query:i})=>e.isError&&!t.isReset()&&!e.isFetching&&H_(n,[e.error,i]),Q_=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},Y_=(e,t)=>e.isLoading&&e.isFetching&&!t,X_=(e,t,n)=>(e==null?void 0:e.suspense)&&Y_(t,n),J_=(e,t,n)=>t.fetchOptimistic(e).then(({data:i})=>{e.onSuccess==null||e.onSuccess(i),e.onSettled==null||e.onSettled(i,null)}).catch(i=>{n.clearReset(),e.onError==null||e.onError(i),e.onSettled==null||e.onSettled(void 0,i)});function q_(e,t){const n=U_({context:e.context}),i=z_(),a=V_(),m=n.defaultQueryOptions(e);m._optimisticResults=i?"isRestoring":"optimistic",m.onError&&(m.onError=_r.batchCalls(m.onError)),m.onSuccess&&(m.onSuccess=_r.batchCalls(m.onSuccess)),m.onSettled&&(m.onSettled=_r.batchCalls(m.onSettled)),Q_(m),G_(m,a),$_(a);const[E]=tr.useState(()=>new t(n,m)),_=E.getOptimisticResult(m);if(B_(tr.useCallback(r=>i?()=>{}:E.subscribe(_r.batchCalls(r)),[E,i]),()=>E.getCurrentResult(),()=>E.getCurrentResult()),tr.useEffect(()=>{E.setOptions(m,{listeners:!1})},[m,E]),X_(m,_,i))throw J_(m,E,a);if(j_({result:_,errorResetBoundary:a,useErrorBoundary:m.useErrorBoundary,query:E.getCurrentQuery()}))throw _.error;return m.notifyOnChangeProps?_:E.trackResult(_)}function eE(e,t,n){const i=qu(e,t,n);return q_(i,S0)}const tE=function(){return null};var Hd={},Dv=Yl;Hd.createRoot=Dv.createRoot,Hd.hydrateRoot=Dv.hydrateRoot;var Gd={},nE={get exports(){return Gd},set exports(e){Gd=e}};(function(e,t){(function(i,a){e.exports=a()})(self,function(){return function(){var n={3774:function(E,_,r){r.d(_,{J:function(){return h},c:function(){return b}});var p=r(1946),g=r(2203),S=g.Z?void 0:window,h=S===void 0?void 0:(0,p.Z)(S.MediaSource)?(0,p.Z)(S.MozMediaSource)?(0,p.Z)(S.WebKitMediaSource)?S.MSMediaSource:S.WebKitMediaSource:S.MozMediaSource:S.MediaSource,b={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4}},3666:function(E,_,r){r.d(_,{SB:function(){return C},YM:function(){return b},fq:function(){return h},gM:function(){return l},kD:function(){return y},op:function(){return k},uz:function(){return I},vS:function(){return M},vU:function(){return A},yS:function(){return c}});var p=r(2203),g,S,h=!p.Z&&typeof window.MSInputMethodContext<"u"&&typeof document.documentMode<"u",b=p.Z?!1:navigator.appName==="Microsoft Internet Explorer"||navigator.appName==="Netscape"&&/(Trident|Edge)\//.test(navigator.userAgent),y=!p.Z&&navigator.userAgent.toLowerCase().indexOf("edg/")!==-1,A=!p.Z&&navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,k=!p.Z&&/SamsungBrowser/.test(navigator.userAgent),c=!p.Z&&/Tizen/.test(navigator.userAgent),f=!p.Z&&navigator.userAgent.indexOf("Web0S")>=0,l=f&&(/[Ww]eb[O0]S.TV-2021/.test(navigator.userAgent)||/[Cc]hr[o0]me\/79/.test(navigator.userAgent)),I=f&&(/[Ww]eb[O0]S.TV-2022/.test(navigator.userAgent)||/[Cc]hr[o0]me\/87/.test(navigator.userAgent)),M=!p.Z&&(Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>=0||((S=(g=window.safari)===null||g===void 0?void 0:g.pushNotification)===null||S===void 0?void 0:S.toString())==="[object SafariRemoteNotification]"),C=!p.Z&&typeof navigator.platform=="string"&&/iPad|iPhone|iPod/.test(navigator.platform)},5767:function(E,_,r){r.d(_,{Z:function(){return S}});var p=r(3887),g=r(1946);function S(h){var b=h.textTracks;if(!(0,g.Z)(b)){for(var y=0;y<b.length;y++)b[y].mode="disabled";if(h.hasChildNodes()){for(var A=h.childNodes,k=A.length-1;k>=0;k--)if(A[k].nodeName==="track")try{h.removeChild(A[k])}catch{p.Z.warn("Compat: Could not remove text track child from element.")}}}h.src="",h.removeAttribute("src")}},6139:function(E,_,r){r.d(_,{N:function(){return Be},Y:function(){return Ke}});var p=r(3714),g=r(811),S=r(3666),h=r(2203),b=r(5059),y=r(3144),A=function(){function et(ht,St,tt){this._keyType=ht,this._mediaKeys=St,this._configuration=tt}var mt=et.prototype;return mt.createMediaKeys=function(){var St=this;return new Promise(function(tt){return tt(St._mediaKeys)})},mt.getConfiguration=function(){return this._configuration},(0,y.Z)(et,[{key:"keySystem",get:function(){return this._keyType}}]),et}(),k;if(!h.Z){var c=window,f=c.MSMediaKeys;f!==void 0&&f.prototype!==void 0&&typeof f.isTypeSupported=="function"&&typeof f.prototype.createSession=="function"&&(k=f)}var l=r(4578),I=r(6716),M=r(3071),C=r(3505),O=r(1959),P=r(1381),$=function(et){(0,l.Z)(mt,et);function mt(St){var tt;return tt=et.call(this)||this,tt.expiration=NaN,tt.keyStatuses=new Map,tt._mk=St,tt._closeSession$=new I.x,tt.closed=new Promise(function(dt){tt._closeSession$.subscribe(dt)}),tt.update=function(dt){return new Promise(function(Dt,Ue){if(tt._ss===void 0)return Ue("MediaKeySession not set.");try{Dt(tt._ss.update(dt,""))}catch(jt){Ue(jt)}})},tt}var ht=mt.prototype;return ht.generateRequest=function(tt,dt){var Dt=this;return new Promise(function(Ue){var jt=dt instanceof Uint8Array?dt:dt instanceof ArrayBuffer?new Uint8Array(dt):new Uint8Array(dt.buffer);Dt._ss=Dt._mk.createSession("video/mp4",jt),(0,M.T)(P.GJ(Dt._ss),P.GV(Dt._ss),P.Xe(Dt._ss)).pipe((0,C.R)(Dt._closeSession$)).subscribe(function(hn){return Dt.trigger(hn.type,hn)}),Ue()})},ht.close=function(){var tt=this;return new Promise(function(dt){tt._ss!=null&&(tt._ss.close(),tt._ss=void 0),tt._closeSession$.next(),tt._closeSession$.complete(),dt()})},ht.load=function(){return Promise.resolve(!1)},ht.remove=function(){return Promise.resolve()},(0,y.Z)(mt,[{key:"sessionId",get:function(){var tt,dt;return(dt=(tt=this._ss)===null||tt===void 0?void 0:tt.sessionId)!==null&&dt!==void 0?dt:""}}]),mt}(O.Z),w=function(){function et(ht){if(k===void 0)throw new Error("No MSMediaKeys API.");this._mediaKeys=new k(ht)}var mt=et.prototype;return mt._setVideo=function(St){if(this._videoElement=St,this._videoElement.msSetMediaKeys!==void 0)return this._videoElement.msSetMediaKeys(this._mediaKeys)},mt.createSession=function(){if(this._videoElement===void 0||this._mediaKeys===void 0)throw new Error("Video not attached to the MediaKeys");return new $(this._mediaKeys)},mt.setServerCertificate=function(){throw new Error("Server certificate is not implemented in your browser")},et}();function U(){var et=function(tt,dt){if(k===void 0)throw new Error("No MSMediaKeys API.");return dt!==void 0?k.isTypeSupported(tt,dt):k.isTypeSupported(tt)},mt=function(tt){return new w(tt)},ht=function(tt,dt){if(dt!==null){if(!(dt instanceof w))throw new Error("Custom setMediaKeys is supposed to be called with IE11 custom MediaKeys.");return dt._setVideo(tt)}};return{isTypeSupported:et,createCustomMediaKeys:mt,setMediaKeys:ht}}var z;if(!h.Z){var L=window,x=L.MozMediaKeys;x!==void 0&&x.prototype!==void 0&&typeof x.isTypeSupported=="function"&&typeof x.prototype.createSession=="function"&&(z=x)}function Z(){var et=function(tt,dt){if(z===void 0)throw new Error("No MozMediaKeys API.");return dt!==void 0?z.isTypeSupported(tt,dt):z.isTypeSupported(tt)},mt=function(tt){if(z===void 0)throw new Error("No MozMediaKeys API.");return new z(tt)},ht=function(tt,dt){var Dt=tt;if(Dt.mozSetMediaKeys===void 0||typeof Dt.mozSetMediaKeys!="function")throw new Error("Can't set video on MozMediaKeys.");return Dt.mozSetMediaKeys(dt)};return{isTypeSupported:et,createCustomMediaKeys:mt,setMediaKeys:ht}}var Q=r(9689),re=r(8894),j=r(3635);function ee(et){return typeof et.webkitGenerateKeyRequest=="function"}var ue=function(et){(0,l.Z)(mt,et);function mt(St,tt){var dt;dt=et.call(this)||this,dt._vid=St,dt._key=tt,dt.sessionId="",dt._closeSession=re.Z,dt.keyStatuses=new Map,dt.expiration=NaN;var Dt=function(jt){dt.trigger(jt.type,jt)};return dt.closed=new Promise(function(Ue){dt._closeSession=function(){["keymessage","message","keyadded","ready","keyerror","error"].forEach(function(jt){St.removeEventListener(jt,Dt),St.removeEventListener("webkit"+jt,Dt)}),Ue()}}),["keymessage","message","keyadded","ready","keyerror","error"].forEach(function(Ue){St.addEventListener(Ue,Dt),St.addEventListener("webkit"+Ue,Dt)}),dt}var ht=mt.prototype;return ht.update=function(tt){var dt=this;return new Promise(function(Dt,Ue){try{if(dt._key.indexOf("clearkey")>=0){var jt=tt instanceof ArrayBuffer?new Uint8Array(tt):tt,hn=JSON.parse((0,j.uR)(jt)),Xt=(0,Q.K)(hn.keys[0].k),bn=(0,Q.K)(hn.keys[0].kid);Dt(dt._vid.webkitAddKey(dt._key,Xt,bn,""))}else Dt(dt._vid.webkitAddKey(dt._key,tt,null,""))}catch(Fn){Ue(Fn)}})},ht.generateRequest=function(tt,dt){var Dt=this;return new Promise(function(Ue){Dt._vid.webkitGenerateKeyRequest(Dt._key,dt),Ue()})},ht.close=function(){var tt=this;return new Promise(function(dt){tt._closeSession(),dt()})},ht.load=function(){return Promise.resolve(!1)},ht.remove=function(){return Promise.resolve()},mt}(O.Z),ae=function(){function et(ht){this._keySystem=ht}var mt=et.prototype;return mt._setVideo=function(St){if(!ee(St))throw new Error("Video not attached to the MediaKeys");this._videoElement=St},mt.createSession=function(){if(this._videoElement==null)throw new Error("Video not attached to the MediaKeys");return new ue(this._videoElement,this._keySystem)},mt.setServerCertificate=function(){throw new Error("Server certificate is not implemented in your browser")},et}();function D(){var et=function(tt){var dt=document.querySelector("video");return dt==null&&(dt=document.createElement("video")),dt!=null&&typeof dt.canPlayType=="function"?!!dt.canPlayType("video/mp4",tt):!1},mt=function(tt){return new ae(tt)},ht=function(tt,dt){if(dt!==null){if(!(dt instanceof ae))throw new Error("Custom setMediaKeys is supposed to be called with old webkit custom MediaKeys.");return dt._setVideo(tt)}};return{isTypeSupported:et,createCustomMediaKeys:mt,setMediaKeys:ht}}var H=r(6968);function W(et,mt){var ht=et instanceof Uint8Array?et:new Uint8Array(et),St=mt instanceof Uint8Array?mt:new Uint8Array(mt),tt=(0,H.dN)(ht,0);if(tt+4!==ht.length)throw new Error("Unsupported WebKit initData.");var dt=(0,j.wV)(ht),Dt=dt.indexOf("skd://"),Ue=Dt>-1?dt.substring(Dt+6):dt,jt=(0,j.TZ)(Ue),hn=0,Xt=new Uint8Array(ht.byteLength+4+jt.byteLength+4+St.byteLength);return Xt.set(ht),hn+=ht.length,Xt.set((0,H.O_)(jt.byteLength),hn),hn+=4,Xt.set(jt,hn),hn+=jt.byteLength,Xt.set((0,H.O_)(St.byteLength),hn),hn+=4,Xt.set(St,hn),Xt}var Y=r(158);function X(et){return et==="com.apple.fps.1_0"||et==="com.apple.fps.2_0"}function ie(et,mt){var ht=et;if(ht.webkitSetMediaKeys===void 0)throw new Error("No webKitMediaKeys API.");return ht.webkitSetMediaKeys(mt)}var fe=function(et){(0,l.Z)(mt,et);function mt(St,tt,dt){var Dt;return Dt=et.call(this)||this,Dt._serverCertificate=dt,Dt._videoElement=St,Dt._keyType=tt,Dt._unbindSession=re.Z,Dt._closeSession=re.Z,Dt.closed=new Promise(function(Ue){Dt._closeSession=Ue}),Dt.keyStatuses=new Map,Dt.expiration=NaN,Dt}var ht=mt.prototype;return ht.update=function(tt){var dt=this;return new Promise(function(Dt,Ue){if(dt._nativeSession===void 0||dt._nativeSession.update===void 0||typeof dt._nativeSession.update!="function")return Ue("Unavailable WebKit key session.");try{var jt;tt instanceof ArrayBuffer?jt=new Uint8Array(tt):tt instanceof Uint8Array?jt=tt:jt=new Uint8Array(tt.buffer),Dt(dt._nativeSession.update(jt))}catch(hn){Ue(hn)}})},ht.generateRequest=function(tt,dt){var Dt=this;return new Promise(function(Ue){var jt,hn=Dt._videoElement;if(((jt=hn.webkitKeys)===null||jt===void 0?void 0:jt.createSession)===void 0)throw new Error("No WebKitMediaKeys API.");var Xt;if(X(Dt._keyType)){if(Dt._serverCertificate===void 0)throw new Error("A server certificate is needed for creating fairplay session.");Xt=W(dt,Dt._serverCertificate)}else Xt=dt;var bn=hn.webkitKeys.createSession("video/mp4",Xt);if(bn==null)throw new Error("Impossible to get the key sessions");Dt._listenEvent(bn),Dt._nativeSession=bn,Ue()})},ht.close=function(){var tt=this;return new Promise(function(dt,Dt){if(tt._unbindSession(),tt._closeSession(),tt._nativeSession===void 0){Dt("No session to close.");return}tt._nativeSession.close(),dt()})},ht.load=function(){return Promise.resolve(!1)},ht.remove=function(){return Promise.resolve()},ht._listenEvent=function(tt){var dt=this;this._unbindSession();var Dt=function(jt){dt.trigger(jt.type,jt)};["keymessage","message","keyadded","ready","keyerror","error"].forEach(function(Ue){tt.addEventListener(Ue,Dt),tt.addEventListener("webkit"+Ue,Dt)}),this._unbindSession=function(){["keymessage","message","keyadded","ready","keyerror","error"].forEach(function(Ue){tt.removeEventListener(Ue,Dt),tt.removeEventListener("webkit"+Ue,Dt)})}},(0,y.Z)(mt,[{key:"sessionId",get:function(){var tt,dt;return(dt=(tt=this._nativeSession)===null||tt===void 0?void 0:tt.sessionId)!==null&&dt!==void 0?dt:""}}]),mt}(O.Z),be=function(){function et(ht){if(Y.t===void 0)throw new Error("No WebKitMediaKeys API.");this._keyType=ht,this._mediaKeys=new Y.t(ht)}var mt=et.prototype;return mt._setVideo=function(St){if(this._videoElement=St,this._videoElement===void 0)throw new Error("Video not attached to the MediaKeys");return ie(this._videoElement,this._mediaKeys)},mt.createSession=function(){if(this._videoElement===void 0||this._mediaKeys===void 0)throw new Error("Video not attached to the MediaKeys");return new fe(this._videoElement,this._keyType,this._serverCertificate)},mt.setServerCertificate=function(St){return this._serverCertificate=St,Promise.resolve()},et}();function ge(){if(Y.t===void 0)throw new Error("No WebKitMediaKeys API.");var et=Y.t.isTypeSupported,mt=function(tt){return new be(tt)},ht=function(tt,dt){if(dt===null)return ie(tt,dt);if(!(dt instanceof be))throw new Error("Custom setMediaKeys is supposed to be called with webkit custom MediaKeys.");return dt._setVideo(tt)};return{isTypeSupported:et,createCustomMediaKeys:mt,setMediaKeys:ht}}var Be=null,Ke=function(mt,ht){var St=mt;if(typeof St.setMediaKeys=="function")return St.setMediaKeys(ht);if(typeof St.webkitSetMediaKeys=="function")return St.webkitSetMediaKeys(ht);if(typeof St.mozSetMediaKeys=="function")return St.mozSetMediaKeys(ht);if(typeof St.msSetMediaKeys=="function"&&ht!==null)return St.msSetMediaKeys(ht)};if(h.Z||navigator.requestMediaKeySystemAccess!=null&&!(0,b.Z)())Be=function(){var mt;return(mt=navigator).requestMediaKeySystemAccess.apply(mt,arguments)};else{var Ot,kt;if(ee(HTMLVideoElement.prototype)){var He=D();Ot=He.isTypeSupported,kt=He.createCustomMediaKeys,Ke=He.setMediaKeys}else if(Y.t!==void 0){var je=ge();Ot=je.isTypeSupported,kt=je.createCustomMediaKeys,Ke=je.setMediaKeys}else if(S.fq&&k!==void 0){var ve=U();Ot=ve.isTypeSupported,kt=ve.createCustomMediaKeys,Ke=ve.setMediaKeys}else if(z!==void 0){var qe=Z();Ot=qe.isTypeSupported,kt=qe.createCustomMediaKeys,Ke=qe.setMediaKeys}else{var bt=window.MediaKeys,vt=function(){if(bt===void 0)throw new p.Z("MEDIA_KEYS_NOT_SUPPORTED","No `MediaKeys` implementation found in the current browser.");if(typeof bt.isTypeSupported>"u"){var mt="This browser seems to be unable to play encrypted contents currently. Note: Some browsers do not allow decryption in some situations, like when not using HTTPS.";throw new Error(mt)}};Ot=function(mt){return vt(),(0,g.Z)(typeof bt.isTypeSupported=="function"),bt.isTypeSupported(mt)},kt=function(mt){return vt(),new bt(mt)}}Be=function(mt,ht){if(!Ot(mt))return Promise.reject(new Error("Unsupported key type"));for(var St=0;St<ht.length;St++){var tt=ht[St],dt=tt.videoCapabilities,Dt=tt.audioCapabilities,Ue=tt.initDataTypes,jt=tt.distinctiveIdentifier,hn=!0;if(hn=hn&&(Ue==null||Ue.some(function(Fn){return Fn==="cenc"})),hn=hn&&jt!=="required",hn){var Xt={initDataTypes:["cenc"],distinctiveIdentifier:"not-allowed",persistentState:"required",sessionTypes:["temporary","persistent-license"]};dt!==void 0&&(Xt.videoCapabilities=dt),Dt!==void 0&&(Xt.audioCapabilities=Dt);var bn=kt(mt);return Promise.resolve(new A(mt,bn,Xt))}}return Promise.reject(new Error("Unsupported configuration"))}}},158:function(E,_,r){r.d(_,{t:function(){return g}});var p=r(2203),g;if(!p.Z){var S=window,h=S.WebKitMediaKeys;h!==void 0&&typeof h.isTypeSupported=="function"&&typeof h.prototype.createSession=="function"&&typeof HTMLMediaElement.prototype.webkitSetMediaKeys=="function"&&(g=h)}},1381:function(E,_,r){r.d(_,{XR:function(){return L},w0:function(){return Z},it:function(){return Q},O0:function(){return re},Oh:function(){return X},M4:function(){return Ot},Q1:function(){return ee},GV:function(){return fe},Xe:function(){return be},GJ:function(){return ie},eX:function(){return ge},K4:function(){return j},gg:function(){return Y},bQ:function(){return Ke},Q$:function(){return Be},UG:function(){return D},ep:function(){return H},ym:function(){return ae},UA:function(){return ue},_E:function(){return W}});var p=r(2401),g=r(1480),S=r(2967),h=new g.y(S.Z),b=r(3071),y=r(6872),A=r(6923),k=r(1946),c=r(8894),f=r(5095),l=r(2203),I=r(5059),M=["","webkit","moz","ms"],C=l.Z||window.devicePixelRatio==null||window.devicePixelRatio===0?1:window.devicePixelRatio;function O(He,je){var ve=document.createElement(He.tagName),qe="on"+je;return qe in ve?!0:(ve.setAttribute(qe,"return;"),typeof ve[qe]=="function")}function P(He,je){return je.filter(function(ve){return O(He,ve)})[0]}function $(He,je){return He.reduce(function(ve,qe){return ve.concat((je??M).map(function(bt){return bt+qe}))},[])}function w(He){var je,ve=$(He);return function(qe,bt,vt){if(!vt.isCancelled){if(qe instanceof HTMLElement)if(typeof je>"u"&&(je=P(qe,ve)),(0,A.Z)(je))qe.addEventListener(je,bt),vt.register(function(){je!==void 0&&qe.removeEventListener(je,bt)});else return;ve.forEach(function(et){qe.addEventListener(et,bt),vt.register(function(){qe.removeEventListener(et,bt)})})}}}function U(He,je){var ve,qe=$(He,je);return function(bt){return bt instanceof HTMLElement?(typeof ve>"u"&&(ve=P(bt,qe)),(0,A.Z)(ve)?(0,p.R)(bt,ve):h):b.T.apply(void 0,qe.map(function(vt){return(0,p.R)(bt,vt)}))}}function z(He){var je,ve=document;ve.hidden!=null?je="":ve.mozHidden!=null?je="moz":ve.msHidden!=null?je="ms":ve.webkitHidden!=null&&(je="webkit");var qe=(0,A.Z)(je)?je+"Hidden":"hidden",bt=(0,A.Z)(je)?je+"visibilitychange":"visibilitychange",vt=document[qe],et=(0,f.ZP)(!vt);return kt(document,bt,function(){var mt=!document[qe];et.setValueIfChanged(mt)},He),He.register(function(){et.finish()}),et}function L(He){var je=z(He),ve,qe=(0,f.ZP)(!0);return He.register(function(){clearTimeout(ve),ve=void 0,qe.finish()}),je.onUpdate(function(vt){if(clearTimeout(ve),ve=void 0,!vt){var et=y.Z.getCurrent(),mt=et.INACTIVITY_DELAY;ve=window.setTimeout(function(){qe.setValueIfChanged(!1)},mt)}qe.setValueIfChanged(!0)},{clearSignal:He,emitCurrentValue:!0}),qe}function x(He,je){var ve=je.width,qe=je.height,bt=He.clientHeight/He.clientWidth,vt=qe/bt;return Math.min(ve,vt)}function Z(He,je){var ve=He;if(ve.webkitSupportsPresentationMode===!0&&typeof ve.webkitSetPresentationMode=="function"){var qe=ve.webkitPresentationMode==="picture-in-picture",bt=(0,f.ZP)({isEnabled:qe,pipWindow:null});return kt(ve,"webkitpresentationmodechanged",function(){var mt=ve.webkitPresentationMode==="picture-in-picture";bt.setValue({isEnabled:mt,pipWindow:null})},je),je.register(function(){bt.finish()}),bt}var vt=document.pictureInPictureElement===ve,et=(0,f.ZP)({isEnabled:vt,pipWindow:null});return kt(ve,"enterpictureinpicture",function(mt){var ht;et.setValue({isEnabled:!0,pipWindow:(ht=mt.pictureInPictureWindow)!==null&&ht!==void 0?ht:null})},je),kt(ve,"leavepictureinpicture",function(){et.setValue({isEnabled:!1,pipWindow:null})},je),je.register(function(){et.finish()}),et}function Q(He,je){var ve=z(je),qe,bt=(0,f.ZP)(!0);return je.register(function(){clearTimeout(qe),qe=void 0,bt.finish()}),ve.onUpdate(vt,{clearSignal:je}),He.onUpdate(vt,{clearSignal:je}),vt(),bt;function vt(){if(clearTimeout(qe),qe=void 0,He.getValue().isEnabled||ve.getValue())bt.setValueIfChanged(!0);else{var et=y.Z.getCurrent(),mt=et.INACTIVITY_DELAY;qe=window.setTimeout(function(){bt.setValueIfChanged(!1)},mt)}}}function re(He,je,ve){var qe=(0,f.ZP)(He.clientWidth*C),bt=c.Z;je.onUpdate(et,{clearSignal:ve}),kt(window,"resize",et,ve);var vt=window.setInterval(et,2e4);return et(),ve.register(function(){bt(),clearInterval(vt),qe.finish()}),qe;function et(){bt();var mt=je.getValue();if(!mt.isEnabled)qe.setValueIfChanged(He.clientWidth*C);else if((0,k.Z)(mt.pipWindow))qe.setValueIfChanged(1/0);else{var ht=mt.pipWindow,St=x(He,ht),tt=function(){qe.setValueIfChanged(x(He,ht)*C)};ht.addEventListener("resize",tt),bt=function(){ht.removeEventListener("resize",tt),bt=c.Z},qe.setValueIfChanged(St*C)}}}var j=U(["loadedmetadata"]);U(["seeking"]),U(["seeked"]),U(["ended"]),U(["timeupdate"]);var ee=U(["fullscreenchange","FullscreenChange"],M.concat("MS")),ue=function(je){return(0,b.T)(U(["addtrack"])(je),U(["removetrack"])(je))},ae=U(["sourceopen","webkitsourceopen"]),D=U(["sourceclose","webkitsourceclose"]),H=U(["sourceended","webkitsourceended"]),W=U(["update"]),Y=U(["onremovesourcebuffer"]),X=U((0,I.Z)()?["needkey"]:["encrypted","needkey"]),ie=U(["keymessage","message"]),fe=U(["keyadded","ready"]),be=U(["keyerror","error"]),ge=U(["keystatuseschange"]),Be=w(["seeking"]),Ke=w(["seeked"]),Ot=w(["ended"]);function kt(He,je,ve,qe){He.addEventListener(je,ve),qe.register(function(){He.removeEventListener(je,ve)})}},2203:function(E,_){var r=typeof window>"u";_.Z=r},1988:function(E,_,r){r.d(_,{Z:function(){return p}});function p(g){return typeof window.VTTCue=="function"&&g instanceof window.VTTCue}},7253:function(E,_,r){r.d(_,{Z:function(){return S}});var p=r(3887),g=r(1946);function S(h,b,y){if(h>=b)return p.Z.warn("Compat: Invalid cue times: "+h+" - "+b),null;if((0,g.Z)(window.VTTCue)){if((0,g.Z)(window.TextTrackCue))throw new Error("VTT cues not supported in your target");return new TextTrackCue(h,b,y)}else return new VTTCue(h,b,y)}},5059:function(E,_,r){r.d(_,{Z:function(){return S}});var p=r(3666),g=r(158);function S(){return(p.vS||p.SB)&&g.t!==void 0}},1669:function(E,_,r){r.d(_,{Z:function(){return g}});var p=r(3666);function g(){return p.op}},6872:function(E,_,r){r.d(_,{Z:function(){return k}});var p={DEFAULT_UNMUTED_VOLUME:.1,DEFAULT_REQUEST_TIMEOUT:30*1e3,DEFAULT_TEXT_TRACK_MODE:"native",DEFAULT_MANUAL_BITRATE_SWITCHING_MODE:"seamless",DEFAULT_ENABLE_FAST_SWITCHING:!0,DEFAULT_AUDIO_TRACK_SWITCHING_MODE:"seamless",DELTA_POSITION_AFTER_RELOAD:{bitrateSwitch:-.1,trackSwitch:{audio:-.7,video:-.1,other:0}},DEFAULT_CODEC_SWITCHING_BEHAVIOR:"continue",DEFAULT_AUTO_PLAY:!1,DEFAULT_SHOW_NATIVE_SUBTITLE:!0,DEFAULT_STOP_AT_END:!0,DEFAULT_WANTED_BUFFER_AHEAD:30,DEFAULT_MAX_BUFFER_AHEAD:1/0,DEFAULT_MAX_BUFFER_BEHIND:1/0,DEFAULT_MAX_VIDEO_BUFFER_SIZE:1/0,MAXIMUM_MAX_BUFFER_AHEAD:{text:5*60*60},MAXIMUM_MAX_BUFFER_BEHIND:{text:5*60*60},DEFAULT_INITIAL_BITRATES:{audio:0,video:0,other:0},DEFAULT_MIN_BITRATES:{audio:0,video:0,other:0},DEFAULT_MAX_BITRATES:{audio:1/0,video:1/0,other:1/0},INACTIVITY_DELAY:60*1e3,DEFAULT_THROTTLE_WHEN_HIDDEN:!1,DEFAULT_THROTTLE_VIDEO_BITRATE_WHEN_HIDDEN:!1,DEFAULT_LIMIT_VIDEO_WIDTH:!1,DEFAULT_LIVE_GAP:{DEFAULT:10,LOW_LATENCY:3.5},BUFFER_DISCONTINUITY_THRESHOLD:.2,FORCE_DISCONTINUITY_SEEK_DELAY:5e3,BITRATE_REBUFFERING_RATIO:1.5,BUFFER_GC_GAPS:{CALM:240,BEEFY:30},DEFAULT_MAX_MANIFEST_REQUEST_RETRY:4,DEFAULT_CDN_DOWNGRADE_TIME:60,DEFAULT_MAX_REQUESTS_RETRY_ON_ERROR:4,DEFAULT_MAX_REQUESTS_RETRY_ON_OFFLINE:1/0,INITIAL_BACKOFF_DELAY_BASE:{REGULAR:200,LOW_LATENCY:50},MAX_BACKOFF_DELAY_BASE:{REGULAR:3e3,LOW_LATENCY:1e3},SAMPLING_INTERVAL_MEDIASOURCE:1e3,SAMPLING_INTERVAL_LOW_LATENCY:250,SAMPLING_INTERVAL_NO_MEDIASOURCE:500,ABR_MINIMUM_TOTAL_BYTES:15e4,ABR_MINIMUM_CHUNK_SIZE:16e3,ABR_STARVATION_FACTOR:{DEFAULT:.72,LOW_LATENCY:.72},ABR_REGULAR_FACTOR:{DEFAULT:.8,LOW_LATENCY:.8},ABR_STARVATION_GAP:{DEFAULT:5,LOW_LATENCY:5},OUT_OF_STARVATION_GAP:{DEFAULT:7,LOW_LATENCY:7},ABR_STARVATION_DURATION_DELTA:.1,ABR_FAST_EMA:2,ABR_SLOW_EMA:10,RESUME_GAP_AFTER_SEEKING:{DEFAULT:1.5,LOW_LATENCY:.5},RESUME_GAP_AFTER_NOT_ENOUGH_DATA:{DEFAULT:.5,LOW_LATENCY:.5},RESUME_GAP_AFTER_BUFFERING:{DEFAULT:5,LOW_LATENCY:.5},REBUFFERING_GAP:{DEFAULT:.5,LOW_LATENCY:.2},MINIMUM_BUFFER_AMOUNT_BEFORE_FREEZING:2,UNFREEZING_SEEK_DELAY:6e3,FREEZING_STALLED_DELAY:600,UNFREEZING_DELTA_POSITION:.001,MAX_TIME_MISSING_FROM_COMPLETE_SEGMENT:.15,MAX_MANIFEST_BUFFERED_START_END_DIFFERENCE:.4,MAX_MANIFEST_BUFFERED_DURATION_DIFFERENCE:.3,MINIMUM_SEGMENT_SIZE:.005,APPEND_WINDOW_SECURITIES:{START:.2,END:.1},MAXIMUM_HTML_TEXT_TRACK_UPDATE_INTERVAL:50,TEXT_TRACK_SIZE_CHECKS_INTERVAL:250,BUFFER_PADDING:{audio:1,video:3,other:1},SEGMENT_PRIORITIES_STEPS:[2,4,8,12,18,25],MAX_HIGH_PRIORITY_LEVEL:1,MIN_CANCELABLE_PRIORITY:3,EME_DEFAULT_WIDEVINE_ROBUSTNESSES:["HW_SECURE_ALL","HW_SECURE_DECODE","HW_SECURE_CRYPTO","SW_SECURE_DECODE","SW_SECURE_CRYPTO"],EME_KEY_SYSTEMS:{clearkey:["webkit-org.w3.clearkey","org.w3.clearkey"],widevine:["com.widevine.alpha"],playready:["com.microsoft.playready","com.chromecast.playready","com.youtube.playready"],fairplay:["com.apple.fps.1_0"]},MAX_CONSECUTIVE_MANIFEST_PARSING_IN_UNSAFE_MODE:10,MIN_MANIFEST_PARSING_TIME_TO_ENTER_UNSAFE_MODE:200,MIN_DASH_S_ELEMENTS_TO_PARSE_UNSAFELY:300,OUT_OF_SYNC_MANIFEST_REFRESH_DELAY:3e3,FAILED_PARTIAL_UPDATE_MANIFEST_REFRESH_DELAY:3e3,DASH_FALLBACK_LIFETIME_WHEN_MINIMUM_UPDATE_PERIOD_EQUAL_0:3,EME_DEFAULT_MAX_SIMULTANEOUS_MEDIA_KEY_SESSIONS:15,EME_MAX_STORED_PERSISTENT_SESSION_INFORMATION:1e3,EME_WAITING_DELAY_LOADED_SESSION_EMPTY_KEYSTATUSES:100,FORCED_ENDED_THRESHOLD:8e-4,ADAPTATION_SWITCH_BUFFER_PADDINGS:{video:{before:5,after:5},audio:{before:2,after:2.5},text:{before:0,after:0},image:{before:0,after:0}},SOURCE_BUFFER_FLUSHING_INTERVAL:500,CONTENT_REPLACEMENT_PADDING:1.2,CACHE_LOAD_DURATION_THRESHOLDS:{video:50,audio:10},STREAM_EVENT_EMITTER_POLL_INTERVAL:250,DEFAULT_MAXIMUM_TIME_ROUNDING_ERROR:1/1e3,BUFFERED_HISTORY_RETENTION_TIME:6e4,BUFFERED_HISTORY_MAXIMUM_ENTRIES:200,MIN_BUFFER_AHEAD:5,UPTO_CURRENT_POSITION_CLEANUP:5},g=p,S=r(8026);function h(c){return c!=null&&!Array.isArray(c)&&typeof c=="object"}function b(c){for(var f=arguments.length,l=new Array(f>1?f-1:0),I=1;I<f;I++)l[I-1]=arguments[I];if(l.length===0)return c;var M=l.shift();if(h(c)&&h(M))for(var C in M)if(h(M[C])){var O=c[C];O===void 0&&(O={},c[C]=O),b(O,M[C])}else{var P;(0,S.Z)(c,(P={},P[C]=M[C],P))}return b.apply(void 0,[c].concat(l))}var y=function(){function c(){this._config=g}var f=c.prototype;return f.update=function(I){var M=b(this._config,I);this._config=M},f.getCurrent=function(){return this._config},c}(),A=new y,k=A},6796:function(E,_,r){r.d(_,{Z:function(){return f}});var p=r(4578),g=r(3666);function S(C,O){for(var P=0;P<C.length;P++)(!g.yS||P!==O)&&(C[P].enabled=!1);return O<0||O>=C.length?!1:(C[O].enabled=!0,!0)}var h=r(1959),b=r(7829);function y(C,O){var P;if(O.length!==C.length)return!0;for(var $=0;$<O.length;$++)if(O[$].nativeTrack!==((P=C[$])===null||P===void 0?void 0:P.nativeTrack))return!0;return!1}function A(C){for(var O,P=[],$={},w=0;w<C.length;w++){var U=C[w],z=U.language===""?"nolang":U.language,L=(O=$[z])!==null&&O!==void 0?O:1,x="gen_audio_"+z+"_"+L.toString();$[z]=L+1;var Z={language:U.language,id:x,normalized:(0,b.ZP)(U.language),audioDescription:U.kind==="descriptions"||U.kind==="description",representations:[]};P.push({track:Z,nativeTrack:U})}return P}function k(C){for(var O,P=[],$={},w=0;w<C.length;w++){var U=C[w],z=U.language===""?"nolang":U.language,L=(O=$[z])!==null&&O!==void 0?O:1,x="gen_text_"+z+"_"+L.toString();$[z]=L+1;var Z={language:U.language,id:x,normalized:(0,b.ZP)(U.language),closedCaption:U.kind==="captions"};P.push({track:Z,nativeTrack:U})}return P}function c(C){for(var O,P=[],$={},w=0;w<C.length;w++){var U=C[w],z=U.language===""?"nolang":U.language,L=(O=$[z])!==null&&O!==void 0?O:1,x="gen_video_"+z+"_"+L.toString();$[z]=L+1,P.push({track:{id:x,representations:[]},nativeTrack:U})}return P}var f=function(C){(0,p.Z)(O,C);function O($){var w,U,z,L;return w=C.call(this)||this,w._preferredAudioTracks=[],w._preferredTextTracks=[],w._preferredVideoTracks=[],w._nativeAudioTracks=$.audioTracks,w._nativeVideoTracks=$.videoTracks,w._nativeTextTracks=$.textTracks,w._audioTracks=w._nativeAudioTracks!==void 0?A(w._nativeAudioTracks):[],w._videoTracks=w._nativeVideoTracks!==void 0?c(w._nativeVideoTracks):[],w._textTracks=w._nativeTextTracks!==void 0?k(w._nativeTextTracks):[],w._lastEmittedNativeAudioTrack=(U=w._getPrivateChosenAudioTrack())===null||U===void 0?void 0:U.nativeTrack,w._lastEmittedNativeVideoTrack=(z=w._getPrivateChosenVideoTrack())===null||z===void 0?void 0:z.nativeTrack,w._lastEmittedNativeTextTrack=(L=w._getPrivateChosenTextTrack())===null||L===void 0?void 0:L.nativeTrack,w._handleNativeTracksCallbacks(),w}var P=O.prototype;return P.setPreferredAudioTracks=function(w,U){this._preferredAudioTracks=w,U&&this._applyAudioPreferences()},P.setPreferredTextTracks=function(w,U){this._preferredTextTracks=w,U&&this._applyTextPreferences()},P.setPreferredVideoTracks=function(w,U){this._preferredVideoTracks=w,U&&this._applyVideoPreferences()},P.setAudioTrackById=function(w){for(var U=0;U<this._audioTracks.length;U++){var z=this._audioTracks[U],L=z.track,x=z.nativeTrack;if(L.id===w){this._enableAudioTrackFromIndex(U),this._audioTrackLockedOn=x;return}}throw new Error("Audio track not found.")},P.disableTextTrack=function(){l(this._textTracks),this._textTrackLockedOn=null},P.setTextTrackById=function(w){for(var U=!1,z=0;z<this._textTracks.length;z++){var L=this._textTracks[z],x=L.track,Z=L.nativeTrack;x.id===w?(Z.mode="showing",U=!0,this._textTrackLockedOn=Z):(Z.mode==="showing"||Z.mode==="hidden")&&(Z.mode="disabled")}if(!U)throw new Error("Text track not found.")},P.disableVideoTrack=function(){M(this._videoTracks),this._videoTrackLockedOn=null},P.setVideoTrackById=function(w){for(var U=0;U<this._videoTracks.length;U++){var z=this._videoTracks[U],L=z.track,x=z.nativeTrack;if(L.id===w){x.selected=!0,this._videoTrackLockedOn=x;return}}throw new Error("Video track not found.")},P.getChosenAudioTrack=function(){var w=this._getPrivateChosenAudioTrack();return w!=null?w.track:w},P.getChosenTextTrack=function(){var w=this._getPrivateChosenTextTrack();return w!=null?w.track:w},P.getChosenVideoTrack=function(){var w=this._getPrivateChosenVideoTrack();return w!=null?w.track:w},P.getAvailableAudioTracks=function(){return this._audioTracks.map(function(w){var U=w.track,z=w.nativeTrack;return{id:U.id,language:U.language,normalized:U.normalized,audioDescription:U.audioDescription,active:z.enabled,representations:U.representations}})},P.getAvailableTextTracks=function(){return this._textTracks.map(function(w){var U=w.track,z=w.nativeTrack;return{id:U.id,language:U.language,normalized:U.normalized,closedCaption:U.closedCaption,active:z.mode==="showing"}})},P.getAvailableVideoTracks=function(){return this._videoTracks.map(function(w){var U=w.track,z=w.nativeTrack;return{id:U.id,representations:U.representations,active:z.selected}})},P.dispose=function(){this._nativeVideoTracks!==void 0&&(this._nativeVideoTracks.onchange=null,this._nativeVideoTracks.onaddtrack=null,this._nativeVideoTracks.onremovetrack=null),this._nativeAudioTracks!==void 0&&(this._nativeAudioTracks.onchange=null,this._nativeAudioTracks.onaddtrack=null,this._nativeAudioTracks.onremovetrack=null),this._nativeTextTracks!==void 0&&(this._nativeTextTracks.onchange=null,this._nativeTextTracks.onaddtrack=null,this._nativeTextTracks.onremovetrack=null),this.removeEventListener()},P._getPrivateChosenAudioTrack=function(){if(this._nativeAudioTracks!==void 0){for(var w=0;w<this._audioTracks.length;w++){var U=this._audioTracks[w];if(U.nativeTrack.enabled)return U}return null}},P._getPrivateChosenVideoTrack=function(){if(this._nativeVideoTracks!==void 0){for(var w=0;w<this._videoTracks.length;w++){var U=this._videoTracks[w];if(U.nativeTrack.selected)return U}return null}},P._getPrivateChosenTextTrack=function(){if(this._nativeTextTracks!==void 0){for(var w=0;w<this._textTracks.length;w++){var U=this._textTracks[w];if(U.nativeTrack.mode==="showing")return U}return null}},P._setOptimalAudioTrack=function(){if(this._audioTrackLockedOn!==void 0)for(var w=0;w<this._audioTracks.length;w++){var U=this._audioTracks[w].nativeTrack;if(U===this._audioTrackLockedOn){this._enableAudioTrackFromIndex(w);return}}this._applyAudioPreferences()},P._applyAudioPreferences=function(){this._audioTrackLockedOn=void 0;for(var w=this._preferredAudioTracks,U=0;U<w.length;U++){var z=w[U];if(z!==null&&z.language!==void 0)for(var L=(0,b.ZP)(z.language),x=0;x<this._audioTracks.length;x++){var Z=this._audioTracks[x];if(Z.track.normalized===L&&Z.track.audioDescription===z.audioDescription){this._enableAudioTrackFromIndex(x);return}}}},P._setOptimalTextTrack=function(){if(this._textTrackLockedOn===null){l(this._textTracks);return}else if(this._textTrackLockedOn!==void 0)for(var w=0;w<this._textTracks.length;w++){var U=this._textTracks[w].nativeTrack;if(U===this._textTrackLockedOn){I(this._textTracks,U),U.mode!=="showing"&&(U.mode="showing");return}}this._applyTextPreferences()},P._applyTextPreferences=function(){this._textTrackLockedOn=void 0;for(var w=this._preferredTextTracks,U=0;U<w.length;U++){var z=w[U];if(z===null){l(this._textTracks);return}for(var L=(0,b.ZP)(z.language),x=0;x<this._textTracks.length;x++){var Z=this._textTracks[x];if(Z.track.normalized===L&&Z.track.closedCaption===z.closedCaption){I(this._textTracks,Z.nativeTrack),Z.nativeTrack.mode!=="showing"&&(Z.nativeTrack.mode="showing");return}}}l(this._textTracks)},P._setOptimalVideoTrack=function(){if(this._videoTrackLockedOn===null){M(this._videoTracks);return}else if(this._videoTrackLockedOn!==void 0)for(var w=0;w<this._videoTracks.length;w++){var U=this._videoTracks[w].nativeTrack;if(U===this._videoTrackLockedOn){U.selected=!0;return}}this._applyVideoPreferences()},P._applyVideoPreferences=function(){this._videoTrackLockedOn=void 0;var w=this._preferredVideoTracks,U=w.some(function(z){return z===null});U&&M(this._videoTracks)},P._handleNativeTracksCallbacks=function(){var w=this;this._nativeAudioTracks!==void 0&&(this._nativeAudioTracks.onaddtrack=function(){var U,z;if(w._nativeAudioTracks!==void 0){var L=A(w._nativeAudioTracks);if(y(w._audioTracks,L)){w._audioTracks=L,w._setOptimalAudioTrack(),w.trigger("availableAudioTracksChange",w.getAvailableAudioTracks());var x=w._getPrivateChosenAudioTrack();(x==null?void 0:x.nativeTrack)!==w._lastEmittedNativeAudioTrack&&(w.trigger("audioTrackChange",(U=x==null?void 0:x.track)!==null&&U!==void 0?U:null),w._lastEmittedNativeAudioTrack=(z=x==null?void 0:x.nativeTrack)!==null&&z!==void 0?z:null)}}},this._nativeAudioTracks.onremovetrack=function(){var U,z;if(w._nativeAudioTracks!==void 0){var L=A(w._nativeAudioTracks);if(y(w._audioTracks,L)){w._audioTracks=L,w.trigger("availableAudioTracksChange",w.getAvailableAudioTracks());var x=w._getPrivateChosenAudioTrack();(x==null?void 0:x.nativeTrack)!==w._lastEmittedNativeAudioTrack&&(w.trigger("audioTrackChange",(U=x==null?void 0:x.track)!==null&&U!==void 0?U:null),w._lastEmittedNativeAudioTrack=(z=x==null?void 0:x.nativeTrack)!==null&&z!==void 0?z:null)}}},this._nativeAudioTracks.onchange=function(){if(w._audioTracks!==void 0)for(var U=0;U<w._audioTracks.length;U++){var z=w._audioTracks[U],L=z.track,x=z.nativeTrack;if(x.enabled){x!==w._lastEmittedNativeAudioTrack&&(w.trigger("audioTrackChange",L),w._lastEmittedNativeAudioTrack=x);return}}w._lastEmittedNativeAudioTrack!==null&&(w.trigger("audioTrackChange",null),w._lastEmittedNativeAudioTrack=null)}),this._nativeTextTracks!==void 0&&(this._nativeTextTracks.onaddtrack=function(){var U,z;if(w._nativeTextTracks!==void 0){var L=k(w._nativeTextTracks);if(y(w._textTracks,L)){w._textTracks=L,w._setOptimalTextTrack(),w.trigger("availableTextTracksChange",w.getAvailableTextTracks());var x=w._getPrivateChosenTextTrack();(x==null?void 0:x.nativeTrack)!==w._lastEmittedNativeTextTrack&&(w.trigger("textTrackChange",(U=x==null?void 0:x.track)!==null&&U!==void 0?U:null),w._lastEmittedNativeTextTrack=(z=x==null?void 0:x.nativeTrack)!==null&&z!==void 0?z:null)}}},this._nativeTextTracks.onremovetrack=function(){var U,z;if(w._nativeTextTracks!==void 0){var L=k(w._nativeTextTracks);if(y(w._textTracks,L)){w._textTracks=L,w._setOptimalTextTrack(),w.trigger("availableTextTracksChange",w.getAvailableTextTracks());var x=w._getPrivateChosenTextTrack();(x==null?void 0:x.nativeTrack)!==w._lastEmittedNativeTextTrack&&(w.trigger("textTrackChange",(U=x==null?void 0:x.track)!==null&&U!==void 0?U:null),w._lastEmittedNativeTextTrack=(z=x==null?void 0:x.nativeTrack)!==null&&z!==void 0?z:null)}}},this._nativeTextTracks.onchange=function(){if(w._textTracks!==void 0)for(var U=0;U<w._textTracks.length;U++){var z=w._textTracks[U],L=z.track,x=z.nativeTrack;if(x.mode==="showing"){x!==w._lastEmittedNativeTextTrack&&(w.trigger("textTrackChange",L),w._lastEmittedNativeTextTrack=x);return}}w._lastEmittedNativeTextTrack!==null&&(w.trigger("textTrackChange",null),w._lastEmittedNativeTextTrack=null)}),this._nativeVideoTracks!==void 0&&(this._nativeVideoTracks.onaddtrack=function(){var U,z;if(w._nativeVideoTracks!==void 0){var L=c(w._nativeVideoTracks);if(y(w._videoTracks,L)){w._videoTracks=L,w._setOptimalVideoTrack(),w.trigger("availableVideoTracksChange",w.getAvailableVideoTracks());var x=w._getPrivateChosenVideoTrack();(x==null?void 0:x.nativeTrack)!==w._lastEmittedNativeVideoTrack&&(w.trigger("videoTrackChange",(U=x==null?void 0:x.track)!==null&&U!==void 0?U:null),w._lastEmittedNativeVideoTrack=(z=x==null?void 0:x.nativeTrack)!==null&&z!==void 0?z:null)}}},this._nativeVideoTracks.onremovetrack=function(){var U,z;if(w._nativeVideoTracks!==void 0){var L=c(w._nativeVideoTracks);if(y(w._videoTracks,L)){w._videoTracks=L,w._setOptimalVideoTrack(),w.trigger("availableVideoTracksChange",w.getAvailableVideoTracks());var x=w._getPrivateChosenVideoTrack();(x==null?void 0:x.nativeTrack)!==w._lastEmittedNativeVideoTrack&&(w.trigger("videoTrackChange",(U=x==null?void 0:x.track)!==null&&U!==void 0?U:null),w._lastEmittedNativeVideoTrack=(z=x==null?void 0:x.nativeTrack)!==null&&z!==void 0?z:null)}}},this._nativeVideoTracks.onchange=function(){if(w._videoTracks!==void 0)for(var U=0;U<w._videoTracks.length;U++){var z=w._videoTracks[U],L=z.track,x=z.nativeTrack;if(x.selected){x!==w._lastEmittedNativeVideoTrack&&(w.trigger("videoTrackChange",L),w._lastEmittedNativeVideoTrack=x);return}}w._lastEmittedNativeVideoTrack!==null&&(w.trigger("videoTrackChange",null),w._lastEmittedNativeVideoTrack=null)})},P._enableAudioTrackFromIndex=function(w){S(this._audioTracks.map(function(U){var z=U.nativeTrack;return z}),w)},O}(h.Z);function l(C){for(var O=0;O<C.length;O++){var P=C[O].nativeTrack;P.mode="disabled"}}function I(C,O){for(var P=0;P<C.length;P++){var $=C[P].nativeTrack;$!==O&&($.mode==="showing"||$.mode==="hidden")&&($.mode="disabled")}}function M(C){for(var O=0;O<C.length;O++){var P=C[O].nativeTrack;P.selected=!1}}},7425:function(E,_,r){r.d(_,{u:function(){return wn},Z:function(){return cn}});var p=r(5861),g=r(4578),S=r(4687),h=r.n(S),b=r(1381),y=r(3887),A=r(6490),k=r(4791),c=r(6968),f=r(3635),l=(0,c.pX)((0,f.tG)("pssh"),0);function I(J){for(var oe=[],q=0;q<J.length;){if(J.length<q+8||(0,c.pX)(J,q+4)!==l)return y.Z.warn("Compat: Unrecognized initialization data. Use as is."),[{systemId:void 0,data:J}];var le=(0,c.pX)(new Uint8Array(J),q);if(q+le>J.length)return y.Z.warn("Compat: Unrecognized initialization data. Use as is."),[{systemId:void 0,data:J}];var he=J.subarray(q,q+le),me=(0,A.Y)(he,8),_e={systemId:me,data:he};M(oe,_e)?y.Z.warn("Compat: Duplicated PSSH found in initialization data, removing it."):oe.push(_e),q+=le}return q!==J.length?(y.Z.warn("Compat: Unrecognized initialization data. Use as is."),[{systemId:void 0,data:J}]):oe}function M(J,oe){for(var q=0;q<J.length;q++){var le=J[q];if((oe.systemId===void 0||le.systemId===void 0||oe.systemId===le.systemId)&&(0,k.Z)(oe.data,le.data))return!0}return!1}function C(J){var oe=J.initData,q=J.initDataType;if(oe==null)return y.Z.warn("Compat: No init data found on media encrypted event."),null;var le=new Uint8Array(oe),he=I(le);return{type:q,values:he}}var O=r(6872),P=r(5157),$=r(5389),w=r(3274),U=r(7714),z=r(1959),L=r(1946),x=r(288),Z=r(6139),Q=r(770);function re(J){Q.Z.setState(J,null),(0,Z.Y)(J,null)}function j(J,oe,q){return ee.apply(this,arguments)}function ee(){return ee=(0,p.Z)(h().mark(function J(oe,q,le){var he,me,_e,ke,we,Ze;return h().wrap(function(Ge){for(;;)switch(Ge.prev=Ge.next){case 0:return he=q.keySystemOptions,me=q.loadedSessionsStore,_e=q.mediaKeySystemAccess,ke=q.mediaKeys,we=Q.Z.getState(oe),Ze=we!==null&&we.loadedSessionsStore!==me?we.loadedSessionsStore.closeAllSessions():Promise.resolve(),Ge.next=5,Ze;case 5:if(!le.isCancelled){Ge.next=7;break}throw le.cancellationError;case 7:if(Q.Z.setState(oe,{keySystemOptions:he,mediaKeySystemAccess:_e,mediaKeys:ke,loadedSessionsStore:me}),oe.mediaKeys!==ke){Ge.next=10;break}return Ge.abrupt("return");case 10:y.Z.info("DRM: Attaching MediaKeys to the media element"),(0,Z.Y)(oe,ke),y.Z.info("DRM: MediaKeys attached with success");case 13:case"end":return Ge.stop()}},J)})),ee.apply(this,arguments)}function ue(J){if(J.sessionId==="")return!1;var oe=J.keyStatuses,q=[];return oe.forEach(function(le){q.push(le)}),q.length<=0?(y.Z.debug("DRM: isSessionUsable: MediaKeySession given has an empty keyStatuses",J.sessionId),!1):(0,U.Z)(q,"expired")?(y.Z.debug("DRM: isSessionUsable: MediaKeySession given has an expired key",J.sessionId),!1):(0,U.Z)(q,"internal-error")?(y.Z.debug("DRM: isSessionUsable: MediaKeySession given has a key with an internal-error",J.sessionId),!1):(y.Z.debug("DRM: isSessionUsable: MediaKeySession is usable",J.sessionId),!0)}function ae(J,oe,q,le){var he=J.loadedSessionsStore,me=J.persistentSessionsStore;return q==="temporary"?D(he,oe):me===null?(y.Z.warn("DRM: Cannot create persistent MediaKeySession, PersistentSessionsStore not created."),D(he,oe)):H(he,me,oe,le)}function D(J,oe){y.Z.info("DRM: Creating a new temporary session");var q=J.createSession(oe,"temporary");return Promise.resolve({type:"created-session",value:q})}function H(J,oe,q,le){return W.apply(this,arguments)}function W(){return W=(0,p.Z)(h().mark(function J(oe,q,le,he){var me,_e,ke,we,Ze,xt;return h().wrap(function(ft){for(;;)switch(ft.prev=ft.next){case 0:if(xt=function(){return xt=(0,p.Z)(h().mark(function yn(){var _n,Tn;return h().wrap(function(kn){for(;;)switch(kn.prev=kn.next){case 0:if(he.cancellationError===null){kn.next=2;break}throw he.cancellationError;case 2:return y.Z.info("DRM: Removing previous persistent session."),_n=q.get(le),_n!==null&&q.delete(_n.sessionId),kn.prev=5,kn.next=8,oe.closeSession(me.mediaKeySession);case 8:kn.next=15;break;case 10:if(kn.prev=10,kn.t0=kn.catch(5),me.mediaKeySession.sessionId===""){kn.next=14;break}throw kn.t0;case 14:oe.removeSessionWithoutClosingIt(me.mediaKeySession);case 15:if(he.cancellationError===null){kn.next=17;break}throw he.cancellationError;case 17:return Tn=oe.createSession(le,"persistent-license"),kn.abrupt("return",{type:"created-session",value:Tn});case 19:case"end":return kn.stop()}},yn,null,[[5,10]])})),xt.apply(this,arguments)},Ze=function(){return xt.apply(this,arguments)},he.cancellationError===null){ft.next=4;break}throw he.cancellationError;case 4:if(y.Z.info("DRM: Creating persistent MediaKeySession"),me=oe.createSession(le,"persistent-license"),_e=q.getAndReuse(le),_e!==null){ft.next=9;break}return ft.abrupt("return",{type:"created-session",value:me});case 9:return ft.prev=9,ft.next=12,oe.loadPersistentSession(me.mediaKeySession,_e.sessionId);case 12:if(ke=ft.sent,ke){ft.next=19;break}return y.Z.warn("DRM: No data stored for the loaded session"),q.delete(_e.sessionId),oe.removeSessionWithoutClosingIt(me.mediaKeySession),we=oe.createSession(le,"persistent-license"),ft.abrupt("return",{type:"created-session",value:we});case 19:if(!(ke&&ue(me.mediaKeySession))){ft.next=23;break}return q.add(le,le.keyIds,me.mediaKeySession),y.Z.info("DRM: Succeeded to load persistent session."),ft.abrupt("return",{type:"loaded-persistent-session",value:me});case 23:return y.Z.warn("DRM: Previous persistent session not usable anymore."),ft.abrupt("return",Ze());case 27:return ft.prev=27,ft.t0=ft.catch(9),y.Z.warn("DRM: Unable to load persistent session: "+(ft.t0 instanceof Error?ft.t0.toString():"Unknown Error")),ft.abrupt("return",Ze());case 31:case"end":return ft.stop()}},J,null,[[9,27]])})),W.apply(this,arguments)}function Y(J,oe){return X.apply(this,arguments)}function X(){return X=(0,p.Z)(h().mark(function J(oe,q){var le,he,me,_e,ke;return h().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:if(!(q<0||q>=oe.getLength())){Ze.next=2;break}return Ze.abrupt("return");case 2:for(le=[],he=oe.getAll().slice(),me=he.length-q,_e=0;_e<me;_e++)ke=he[_e],le.push(oe.closeSession(ke.mediaKeySession));return Ze.next=8,Promise.all(le);case 8:case"end":return Ze.stop()}},J)})),X.apply(this,arguments)}function ie(J,oe,q,le,he){return fe.apply(this,arguments)}function fe(){return fe=(0,p.Z)(h().mark(function J(oe,q,le,he,me){var _e,ke,we,Ze,xt;return h().wrap(function(ft){for(;;)switch(ft.prev=ft.next){case 0:if(_e=null,ke=q.loadedSessionsStore,we=q.persistentSessionsStore,Ze=ke.reuse(oe),Ze===null){ft.next=11;break}if(_e=Ze.mediaKeySession,!ue(_e)){ft.next=10;break}return y.Z.info("DRM: Reuse loaded session",_e.sessionId),ft.abrupt("return",{type:"loaded-open-session",value:{mediaKeySession:_e,sessionType:Ze.sessionType,keySessionRecord:Ze.keySessionRecord}});case 10:we!==null&&Ze.mediaKeySession.sessionId!==""&&we.delete(Ze.mediaKeySession.sessionId);case 11:if(_e===null){ft.next=16;break}return ft.next=14,ke.closeSession(_e);case 14:if(me.cancellationError===null){ft.next=16;break}throw me.cancellationError;case 16:return ft.next=18,Y(ke,he);case 18:if(me.cancellationError===null){ft.next=20;break}throw me.cancellationError;case 20:return ft.next=22,ae(q,oe,le,me);case 22:return xt=ft.sent,ft.abrupt("return",{type:xt.type,value:{mediaKeySession:xt.value.mediaKeySession,sessionType:xt.value.sessionType,keySessionRecord:xt.value.keySessionRecord}});case 24:case"end":return ft.stop()}},J)})),fe.apply(this,arguments)}var be=r(3666);function ge(){return!(be.gM||be.uz)}function Be(){return be.fq}var Ke=r(9592);function Ot(J,oe,q){var le=oe.getConfiguration();if(Be()||le==null)return null;var he=J.filter(function(me){return!(me.type!==q.type||(me.persistentLicense===!0||me.persistentStateRequired===!0)&&le.persistentState!=="required"||me.distinctiveIdentifierRequired===!0&&le.distinctiveIdentifier!=="required")})[0];return he!=null?{keySystemOptions:he,keySystemAccess:oe}:null}function kt(J){for(var oe=O.Z.getCurrent(),q=oe.EME_KEY_SYSTEMS,le=0,he=Object.keys(q);le<he.length;le++){var me=he[le];if((0,U.Z)(q[me],J))return me}}function He(J,oe){var q=["temporary"],le="optional",he="optional";oe.persistentLicense===!0&&(le="required",q.push("persistent-license")),oe.persistentStateRequired===!0&&(le="required"),oe.distinctiveIdentifierRequired===!0&&(he="required");var me=O.Z.getCurrent(),_e=me.EME_DEFAULT_WIDEVINE_ROBUSTNESSES,ke=oe.videoRobustnesses!=null?oe.videoRobustnesses:J==="widevine"?_e:[],we=oe.audioRobustnesses!=null?oe.audioRobustnesses:J==="widevine"?_e:[];ke.length===0&&ke.push(void 0),we.length===0&&we.push(void 0);var Ze=(0,Ke.Z)(ke,function(Ge){return['video/mp4;codecs="avc1.4d401e"','video/mp4;codecs="avc1.42e01e"','video/webm;codecs="vp8"'].map(function(ft){return Ge!==void 0?{contentType:ft,robustness:Ge}:{contentType:ft}})}),xt=(0,Ke.Z)(we,function(Ge){return['audio/mp4;codecs="mp4a.40.2"',"audio/webm;codecs=opus"].map(function(ft){return Ge!==void 0?{contentType:ft,robustness:Ge}:{contentType:ft}})});return[{initDataTypes:["cenc"],videoCapabilities:Ze,audioCapabilities:xt,distinctiveIdentifier:he,persistentState:le,sessionTypes:q}]}function je(J,oe,q){y.Z.info("DRM: Searching for compatible MediaKeySystemAccess");var le=Q.Z.getState(J);if(le!=null){var he=Ot(oe,le.mediaKeySystemAccess,le.keySystemOptions);if(he!==null)return y.Z.info("DRM: Found cached compatible keySystem"),Promise.resolve({type:"reuse-media-key-system-access",value:{mediaKeySystemAccess:he.keySystemAccess,options:he.keySystemOptions}})}var me=oe.reduce(function(we,Ze){var xt=O.Z.getCurrent(),Ge=xt.EME_KEY_SYSTEMS,ft=Ge[Ze.type],pt;if(ft!=null)pt=ft.map(function(Tn){var Rn=Ze.type;return{keyName:Rn,keyType:Tn,keySystemOptions:Ze}});else{var yn=kt(Ze.type),_n=Ze.type;pt=[{keyName:yn,keyType:_n,keySystemOptions:Ze}]}return we.concat(pt)},[]);return _e(0);function _e(we){return ke.apply(this,arguments)}function ke(){return ke=(0,p.Z)(h().mark(function we(Ze){var xt,Ge,ft,pt,yn,_n;return h().wrap(function(Rn){for(;;)switch(Rn.prev=Rn.next){case 0:if(!(Ze>=me.length)){Rn.next=2;break}throw new P.Z("INCOMPATIBLE_KEYSYSTEMS","No key system compatible with your wanted configuration has been found in the current browser.");case 2:if(Z.N!=null){Rn.next=4;break}throw new Error("requestMediaKeySystemAccess is not implemented in your browser.");case 4:return xt=me[Ze],Ge=xt.keyName,ft=xt.keyType,pt=xt.keySystemOptions,yn=He(Ge,pt),y.Z.debug("DRM: Request keysystem access "+ft+","+(Ze+1+" of "+me.length)),Rn.prev=7,Rn.next=10,(0,Z.N)(ft,yn);case 10:return _n=Rn.sent,y.Z.info("DRM: Found compatible keysystem",ft,Ze+1),Rn.abrupt("return",{type:"create-media-key-system-access",value:{options:pt,mediaKeySystemAccess:_n}});case 15:if(Rn.prev=15,Rn.t0=Rn.catch(7),y.Z.debug("DRM: Rejected access to keysystem",ft,Ze+1),q.cancellationError===null){Rn.next=20;break}throw q.cancellationError;case 20:return Rn.abrupt("return",_e(Ze+1));case 21:case"end":return Rn.stop()}},we,null,[[7,15]])})),ke.apply(this,arguments)}}var ve=r(2297);function qe(J){y.Z.info("Compat: Trying to move CENC PSSH from init data at the end of it.");for(var oe=!1,q=new Uint8Array,le=new Uint8Array,he=0;he<J.length;){if(J.length<he+8||(0,c.pX)(J,he+4)!==l)throw y.Z.warn("Compat: unrecognized initialization data. Cannot patch it."),new Error("Compat: unrecognized initialization data. Cannot patch it.");var me=(0,c.pX)(new Uint8Array(J),he);if(he+me>J.length)throw y.Z.warn("Compat: unrecognized initialization data. Cannot patch it."),new Error("Compat: unrecognized initialization data. Cannot patch it.");var _e=J.subarray(he,he+me);if(J[he+12]===16&&J[he+13]===119&&J[he+14]===239&&J[he+15]===236&&J[he+16]===192&&J[he+17]===178&&J[he+18]===77&&J[he+19]===2&&J[he+20]===172&&J[he+21]===227&&J[he+22]===60&&J[he+23]===30&&J[he+24]===82&&J[he+25]===226&&J[he+26]===251&&J[he+27]===75){var ke=(0,ve.Xj)(_e),we=ke===null?void 0:_e[ke[1]];y.Z.info("Compat: CENC PSSH found with version",we),we===void 0?y.Z.warn("Compat: could not read version of CENC PSSH"):oe===(we===1)?q=(0,c.zo)(q,_e):we===1?(y.Z.warn("Compat: cenc version 1 encountered, removing every other cenc pssh box."),q=_e,oe=!0):y.Z.warn("Compat: filtering out cenc pssh box with wrong version",we)}else le=(0,c.zo)(le,_e);he+=me}if(he!==J.length)throw y.Z.warn("Compat: unrecognized initialization data. Cannot patch it."),new Error("Compat: unrecognized initialization data. Cannot patch it.");return(0,c.zo)(le,q)}function bt(J,oe,q){y.Z.debug("Compat: Calling generateRequest on the MediaKeySession");var le;try{le=qe(q)}catch{le=q}var he=oe??"";return J.generateRequest(he,le).catch(function(me){if(he!==""||!(me instanceof TypeError))throw me;return y.Z.warn('Compat: error while calling `generateRequest` with an empty initialization data type. Retrying with a default "cenc" value.',me),J.generateRequest("cenc",le)})}var vt=100;function et(J,oe){return mt.apply(this,arguments)}function mt(){return mt=(0,p.Z)(h().mark(function J(oe,q){var le;return h().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return y.Z.info("Compat/DRM: Load persisted session",q),me.next=3,oe.load(q);case 3:if(le=me.sent,!(!le||oe.keyStatuses.size>0)){me.next=6;break}return me.abrupt("return",le);case 6:return me.abrupt("return",new Promise(function(_e){oe.addEventListener("keystatuseschange",we);var ke=setTimeout(we,vt);function we(){Ze(),_e(le)}function Ze(){clearTimeout(ke),oe.removeEventListener("keystatuseschange",we)}}));case 7:case"end":return me.stop()}},J)})),mt.apply(this,arguments)}var ht=r(7864);function St(J){var oe=new x.ZP;return Promise.race([J.close().then(function(){oe.cancel()}),J.closed.then(function(){oe.cancel()}),q()]);function q(){return le.apply(this,arguments)}function le(){return le=(0,p.Z)(h().mark(function _e(){var ke;return h().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:return Ze.prev=0,Ze.next=3,(0,ht.Z)(1e3,oe.signal);case 3:return Ze.next=5,he();case 5:Ze.next=13;break;case 7:if(Ze.prev=7,Ze.t0=Ze.catch(0),!(Ze.t0 instanceof x.FU)){Ze.next=11;break}return Ze.abrupt("return");case 11:ke=Ze.t0 instanceof Error?Ze.t0.message:"Unknown error made it impossible to close the session",y.Z.error("DRM: "+ke);case 13:case"end":return Ze.stop()}},_e,null,[[0,7]])})),le.apply(this,arguments)}function he(){return me.apply(this,arguments)}function me(){return me=(0,p.Z)(h().mark(function _e(){return h().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:return we.prev=0,we.next=3,J.update(new Uint8Array(1));case 3:we.next=13;break;case 5:if(we.prev=5,we.t0=we.catch(0),!oe.isUsed){we.next=9;break}return we.abrupt("return");case 9:if(!(we.t0 instanceof Error&&we.t0.message==="The session is already closed.")){we.next=11;break}return we.abrupt("return");case 11:return we.next=13,(0,ht.Z)(1e3,oe.signal);case 13:if(!oe.isUsed){we.next=15;break}return we.abrupt("return");case 15:throw new Error("Compat: Couldn't know if session is closed");case 16:case"end":return we.stop()}},_e,null,[[0,5]])})),me.apply(this,arguments)}}var tt=r(811);function dt(J,oe){var q=typeof Symbol<"u"&&J[Symbol.iterator]||J["@@iterator"];if(q)return(q=q.call(J)).next.bind(q);if(Array.isArray(J)||(q=Dt(J))||oe&&J&&typeof J.length=="number"){q&&(J=q);var le=0;return function(){return le>=J.length?{done:!0}:{done:!1,value:J[le++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dt(J,oe){if(J){if(typeof J=="string")return Ue(J,oe);var q=Object.prototype.toString.call(J).slice(8,-1);if(q==="Object"&&J.constructor&&(q=J.constructor.name),q==="Map"||q==="Set")return Array.from(J);if(q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q))return Ue(J,oe)}}function Ue(J,oe){(oe==null||oe>J.length)&&(oe=J.length);for(var q=0,le=new Array(oe);q<oe;q++)le[q]=J[q];return le}function jt(J,oe){return J===oe||(0,k.Z)(J,oe)}function hn(J,oe){return oe.some(function(q){return jt(q,J)})}function Xt(J,oe){for(var q=function(){var ke=he.value,we=oe.some(function(Ze){return jt(Ze,ke)});if(!we)return{v:!1}},le=dt(J),he;!(he=le()).done;){var me=q();if(typeof me=="object")return me.v}return!0}function bn(J,oe){for(var q=function(){var ke=he.value,we=oe.some(function(Ze){return jt(Ze,ke)});if(we)return{v:!0}},le=dt(J),he;!(he=le()).done;){var me=q();if(typeof me=="object")return me.v}return!1}function Fn(J,oe){var q=typeof Symbol<"u"&&J[Symbol.iterator]||J["@@iterator"];if(q)return(q=q.call(J)).next.bind(q);if(Array.isArray(J)||(q=gr(J))||oe&&J&&typeof J.length=="number"){q&&(J=q);var le=0;return function(){return le>=J.length?{done:!0}:{done:!1,value:J[le++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gr(J,oe){if(J){if(typeof J=="string")return Ur(J,oe);var q=Object.prototype.toString.call(J).slice(8,-1);if(q==="Object"&&J.constructor&&(q=J.constructor.name),q==="Map"||q==="Set")return Array.from(J);if(q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q))return Ur(J,oe)}}function Ur(J,oe){(oe==null||oe>J.length)&&(oe=J.length);for(var q=0,le=new Array(oe);q<oe;q++)le[q]=J[q];return le}var Hn=function(){function J(q){this._initializationData=q,this._keyIds=null}var oe=J.prototype;return oe.associateKeyIds=function(le){this._keyIds===null&&(this._keyIds=[]);for(var he=Array.from(le),me=0,_e=he;me<_e.length;me++){var ke=_e[me];this.isAssociatedWithKeyId(ke)||this._keyIds.push(ke)}},oe.isAssociatedWithKeyId=function(le){if(this._keyIds===null)return!1;for(var he=Fn(this._keyIds),me;!(me=he()).done;){var _e=me.value;if(jt(_e,le))return!0}return!1},oe.getAssociatedKeyIds=function(){return this._keyIds===null?[]:this._keyIds},oe.isCompatibleWith=function(le){var he=le.keyIds;if(he!==void 0&&he.length>0){if(this._keyIds!==null&&Xt(he,this._keyIds))return!0;if(this._initializationData.keyIds!==void 0)return Xt(he,this._initializationData.keyIds)}return this._checkInitializationDataCompatibility(le)},oe._checkInitializationDataCompatibility=function(le){return le.keyIds!==void 0&&le.keyIds.length>0&&this._initializationData.keyIds!==void 0?Xt(le.keyIds,this._initializationData.keyIds):this._initializationData.type!==le.type?!1:this._initializationData.values.isCompatibleWith(le.values)},J}();function Fr(J,oe){var q=typeof Symbol<"u"&&J[Symbol.iterator]||J["@@iterator"];if(q)return(q=q.call(J)).next.bind(q);if(Array.isArray(J)||(q=zr(J))||oe&&J&&typeof J.length=="number"){q&&(J=q);var le=0;return function(){return le>=J.length?{done:!0}:{done:!1,value:J[le++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zr(J,oe){if(J){if(typeof J=="string")return Oi(J,oe);var q=Object.prototype.toString.call(J).slice(8,-1);if(q==="Object"&&J.constructor&&(q=J.constructor.name),q==="Map"||q==="Set")return Array.from(J);if(q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q))return Oi(J,oe)}}function Oi(J,oe){(oe==null||oe>J.length)&&(oe=J.length);for(var q=0,le=new Array(oe);q<oe;q++)le[q]=J[q];return le}var Ei=function(){function J(q){this._mediaKeys=q,this._storage=[]}var oe=J.prototype;return oe.createSession=function(le,he){var me=this,_e=new Hn(le),ke=this._mediaKeys.createSession(he),we={mediaKeySession:ke,sessionType:he,keySessionRecord:_e,isGeneratingRequest:!1,isLoadingPersistentSession:!1,closingStatus:{type:"none"}};return(0,L.Z)(ke.closed)||ke.closed.then(function(){var Ze=me.getIndex(_e);Ze>=0&&me._storage[Ze].mediaKeySession===ke&&me._storage.splice(Ze,1)}).catch(function(Ze){y.Z.warn("DRM-LSS: MediaKeySession.closed rejected: "+Ze)}),y.Z.debug("DRM-LSS: Add MediaKeySession",we.sessionType),this._storage.push(Object.assign({},we)),we},oe.reuse=function(le){for(var he=this._storage.length-1;he>=0;he--){var me=this._storage[he];if(me.keySessionRecord.isCompatibleWith(le))return this._storage.splice(he,1),this._storage.push(me),Object.assign({},me)}return null},oe.getEntryForSession=function(le){for(var he=this._storage.length-1;he>=0;he--){var me=this._storage[he];if(me.mediaKeySession===le)return Object.assign({},me)}return null},oe.generateLicenseRequest=function(){var q=(0,p.Z)(h().mark(function he(me,_e,ke){var we,Ze,xt,Ge;return h().wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:Ze=Fr(this._storage);case 1:if((xt=Ze()).done){pt.next=8;break}if(Ge=xt.value,Ge.mediaKeySession!==me){pt.next=6;break}return we=Ge,pt.abrupt("break",8);case 6:pt.next=1;break;case 8:if(we!==void 0){pt.next=11;break}return y.Z.error("DRM-LSS: generateRequest error. No MediaKeySession found with the given initData and initDataType"),pt.abrupt("return",bt(me,_e,ke));case 11:if(we.isGeneratingRequest=!0,we.closingStatus.type==="none"){pt.next=14;break}throw new Error("The `MediaKeySession` is being closed.");case 14:return pt.prev=14,pt.next=17,bt(me,_e,ke);case 17:pt.next=26;break;case 19:if(pt.prev=19,pt.t0=pt.catch(14),we!==void 0){pt.next=23;break}throw pt.t0;case 23:throw we.isGeneratingRequest=!1,we.closingStatus.type==="awaiting"&&we.closingStatus.start(),pt.t0;case 26:if(we!==void 0){pt.next=28;break}return pt.abrupt("return",void 0);case 28:we.isGeneratingRequest=!1,we.closingStatus.type==="awaiting"&&we.closingStatus.start();case 30:case"end":return pt.stop()}},he,this,[[14,19]])}));function le(he,me,_e){return q.apply(this,arguments)}return le}(),oe.loadPersistentSession=function(){var q=(0,p.Z)(h().mark(function he(me,_e){var ke,we,Ze,xt,Ge;return h().wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:we=Fr(this._storage);case 1:if((Ze=we()).done){pt.next=8;break}if(xt=Ze.value,xt.mediaKeySession!==me){pt.next=6;break}return ke=xt,pt.abrupt("break",8);case 6:pt.next=1;break;case 8:if(ke!==void 0){pt.next=11;break}return y.Z.error("DRM-LSS: loadPersistentSession error. No MediaKeySession found with the given initData and initDataType"),pt.abrupt("return",et(me,_e));case 11:if(ke.isLoadingPersistentSession=!0,ke.closingStatus.type==="none"){pt.next=14;break}throw new Error("The `MediaKeySession` is being closed.");case 14:return pt.prev=14,pt.next=17,et(me,_e);case 17:Ge=pt.sent,pt.next=27;break;case 20:if(pt.prev=20,pt.t0=pt.catch(14),ke!==void 0){pt.next=24;break}throw pt.t0;case 24:throw ke.isLoadingPersistentSession=!1,ke.closingStatus.type==="awaiting"&&ke.closingStatus.start(),pt.t0;case 27:if(ke!==void 0){pt.next=29;break}return pt.abrupt("return",Ge);case 29:return ke.isLoadingPersistentSession=!1,ke.closingStatus.type==="awaiting"&&ke.closingStatus.start(),pt.abrupt("return",Ge);case 32:case"end":return pt.stop()}},he,this,[[14,20]])}));function le(he,me){return q.apply(this,arguments)}return le}(),oe.closeSession=function(){var q=(0,p.Z)(h().mark(function he(me){var _e,ke,we,Ze;return h().wrap(function(Ge){for(;;)switch(Ge.prev=Ge.next){case 0:ke=Fr(this._storage);case 1:if((we=ke()).done){Ge.next=8;break}if(Ze=we.value,Ze.mediaKeySession!==me){Ge.next=6;break}return _e=Ze,Ge.abrupt("break",8);case 6:Ge.next=1;break;case 8:if(_e!==void 0){Ge.next=11;break}return y.Z.warn("DRM-LSS: No MediaKeySession found with the given initData and initDataType"),Ge.abrupt("return",Promise.resolve(!1));case 11:return Ge.abrupt("return",this._closeEntry(_e));case 12:case"end":return Ge.stop()}},he,this)}));function le(he){return q.apply(this,arguments)}return le}(),oe.getLength=function(){return this._storage.length},oe.getAll=function(){return this._storage},oe.closeAllSessions=function(){var q=(0,p.Z)(h().mark(function he(){var me=this,_e,ke;return h().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:return _e=this._storage,y.Z.debug("DRM-LSS: Closing all current MediaKeySessions",_e.length),this._storage=[],ke=_e.map(function(xt){return me._closeEntry(xt)}),Ze.next=6,Promise.all(ke);case 6:case"end":return Ze.stop()}},he,this)}));function le(){return q.apply(this,arguments)}return le}(),oe.removeSessionWithoutClosingIt=function(le){(0,tt.Z)(le.sessionId==="","Initialized `MediaKeySession`s should always be properly closed");for(var he=this._storage.length-1;he>=0;he--){var me=this._storage[he];if(me.mediaKeySession===le)return this._storage.splice(he,1),!0}return!1},oe.getIndex=function(le){for(var he=0;he<this._storage.length;he++){var me=this._storage[he];if(me.keySessionRecord===le)return he}return-1},oe._closeEntry=function(){var q=(0,p.Z)(h().mark(function he(me){var _e;return h().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:return _e=me.mediaKeySession,we.abrupt("return",new Promise(function(Ze,xt){me!==void 0&&(me.isLoadingPersistentSession||me.isGeneratingRequest)?me.closingStatus={type:"awaiting",start:Ge}:Ge();function Ge(){me!==void 0&&(me.closingStatus={type:"pending"}),Vi(_e).then(function(){me!==void 0&&(me.closingStatus={type:"done"}),Ze(!0)}).catch(function(ft){me!==void 0&&(me.closingStatus={type:"failed"}),xt(ft)})}}));case 2:case"end":return we.stop()}},he)}));function le(he){return q.apply(this,arguments)}return le}(),J}();function Vi(J){return Di.apply(this,arguments)}function Di(){return Di=(0,p.Z)(h().mark(function J(oe){return h().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return y.Z.debug("DRM: Trying to close a MediaKeySession",oe.sessionId),le.prev=1,le.next=4,St(oe);case 4:return y.Z.debug("DRM: Succeeded to close MediaKeySession"),le.abrupt("return");case 8:return le.prev=8,le.t0=le.catch(1),y.Z.error("DRM: Could not close MediaKeySession: "+(le.t0 instanceof Error?le.t0.toString():"Unknown error")),le.abrupt("return");case 12:case"end":return le.stop()}},J,null,[[1,8]])})),Di.apply(this,arguments)}var xi=r(9689),Yr=r(2870),kr=r(6923),Kr=function(){function J(q){this.initData=q}var oe=J.prototype;return oe.toJSON=function(){return(0,xi.J)(this.initData)},J.decode=function(le){return(0,xi.K)(le)},J}();function Pr(J,oe){var q,le;return(le=(q=Hi(J,oe))!==null&&q!==void 0?q:Hi(oe,J))!==null&&le!==void 0?le:!1}function Hi(J,oe){if(J.length===0)return!1;if(oe.length<J.length)return null;for(var q=J[0],le=0,he=0;he<oe.length;he++){var me=oe[he];if(me.systemId===q.systemId){if(me.hash!==q.hash)return!1;var _e=q.data instanceof Uint8Array?q.data:typeof q.data=="string"?Kr.decode(q.data):q.data.initData,ke=me.data instanceof Uint8Array?me.data:typeof me.data=="string"?Kr.decode(me.data):me.data.initData;if(!(0,k.Z)(_e,ke))return!1;if(oe.length-he<J.length)return null;for(le=1;le<J.length;le++){var we=J[le];for(he+=1;he<oe.length;he++){var Ze=oe[he];if(we.systemId===Ze.systemId){if(we.hash!==Ze.hash)return!1;var xt=we.data instanceof Uint8Array?we.data:typeof we.data=="string"?Kr.decode(we.data):we.data.initData,Ge=Ze.data instanceof Uint8Array?Ze.data:typeof Ze.data=="string"?Kr.decode(Ze.data):Ze.data.initData;if(!(0,k.Z)(xt,Ge))return!1;break}}if(le===oe.length)return null}return!0}}return null}function Gi(J,oe){var q=typeof Symbol<"u"&&J[Symbol.iterator]||J["@@iterator"];if(q)return(q=q.call(J)).next.bind(q);if(Array.isArray(J)||(q=$i(J))||oe&&J&&typeof J.length=="number"){q&&(J=q);var le=0;return function(){return le>=J.length?{done:!0}:{done:!1,value:J[le++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $i(J,oe){if(J){if(typeof J=="string")return ji(J,oe);var q=Object.prototype.toString.call(J).slice(8,-1);if(q==="Object"&&J.constructor&&(q=J.constructor.name),q==="Map"||q==="Set")return Array.from(J);if(q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q))return ji(J,oe)}}function ji(J,oe){(oe==null||oe>J.length)&&(oe=J.length);for(var q=0,le=new Array(oe);q<oe;q++)le[q]=J[q];return le}function na(J){(0,tt.u)(J,{save:"function",load:"function"},"licenseStorage")}var li=function(){function J(q){na(q),this._entries=[],this._storage=q;try{var le=this._storage.load();Array.isArray(le)||(le=[]),this._entries=le}catch(he){y.Z.warn("DRM-PSS: Could not get entries from license storage",he instanceof Error?he:""),this.dispose()}}var oe=J.prototype;return oe.getLength=function(){return this._entries.length},oe.getAll=function(){return this._entries},oe.get=function(le){var he=this._getIndex(le);return he===-1?null:this._entries[he]},oe.getAndReuse=function(le){var he=this._getIndex(le);if(he===-1)return null;var me=this._entries.splice(he,1)[0];return this._entries.push(me),me},oe.add=function(le,he,me){var _e;if((0,L.Z)(me)||!(0,kr.Z)(me.sessionId)){y.Z.warn("DRM-PSS: Invalid Persisten Session given.");return}var ke=me.sessionId,we=this._getIndex(le);if(we>=0){var Ze=he===void 0?3:4,xt=this._entries[we],Ge=(_e=xt.version)!==null&&_e!==void 0?_e:-1;if(Ge>=Ze&&ke===xt.sessionId)return;y.Z.info("DRM-PSS: Updating session info.",ke),this._entries.splice(we,1)}else y.Z.info("DRM-PSS: Add new session",ke);var ft=Ti(le.values.getFormattedValues());he===void 0?this._entries.push({version:3,sessionId:ke,values:ft,initDataType:le.type}):this._entries.push({version:4,sessionId:ke,keyIds:he.map(function(pt){return new Kr(pt)}),values:ft,initDataType:le.type}),this._save()},oe.delete=function(le){for(var he=-1,me=0;me<this._entries.length;me++){var _e=this._entries[me];if(_e.sessionId===le){he=me;break}}if(he===-1){y.Z.warn("DRM-PSS: initData to delete not found.");return}var ke=this._entries[he];y.Z.warn("DRM-PSS: Delete session from store",ke.sessionId),this._entries.splice(he,1),this._save()},oe.deleteOldSessions=function(le){y.Z.info("DRM-PSS: Deleting last "+le+" sessions."),!(le<=0)&&(le<=this._entries.length?this._entries.splice(0,le):(y.Z.warn("DRM-PSS: Asked to remove more information that it contains",le,this._entries.length),this._entries=[]),this._save())},oe.dispose=function(){this._entries=[],this._save()},oe._getIndex=function(le){var he=this,me=null;function _e(){if(me===null){var xt=le.values.constructRequestData();me={initData:xt,initDataHash:(0,Yr.Z)(xt)}}return me}for(var ke=function(Ge){var ft=he._entries[Ge];if(ft.initDataType===le.type)switch(ft.version){case 4:if(le.keyIds!==void 0){var pt=le.keyIds.every(function(Tr){for(var Vr=(0,xi.J)(Tr),ir=Gi(ft.keyIds),Or;!(Or=ir()).done;){var di=Or.value;if(typeof di=="string"){if(Vr===di)return!0}else if(jt(di.initData,Tr))return!0}return!1});if(pt)return{v:Ge}}else{var yn=le.values.getFormattedValues();if(Pr(yn,ft.values))return{v:Ge}}break;case 3:var _n=le.values.getFormattedValues();if(Pr(_n,ft.values))return{v:Ge};break;case 2:{var Tn=_e(),Rn=Tn.initData,kn=Tn.initDataHash;if(ft.initDataHash===kn)try{var nr=typeof ft.initData=="string"?Kr.decode(ft.initData):ft.initData.initData;if((0,k.Z)(nr,Rn))return{v:Ge}}catch(Tr){y.Z.warn("DRM-PSS: Could not decode initialization data.",Tr instanceof Error?Tr:"")}break}case 1:{var Dn=_e(),Li=Dn.initData,Xr=Dn.initDataHash;if(ft.initDataHash===Xr){if(typeof ft.initData.length>"u")return{v:Ge};if((0,k.Z)(ft.initData,Li))return{v:Ge}}break}default:{var Wr=_e(),fr=Wr.initDataHash;if(ft.initData===fr)return{v:Ge}}}},we=0;we<this._entries.length;we++){var Ze=ke(we);if(typeof Ze=="object")return Ze.v}return-1},oe._save=function(){try{this._storage.save(this._entries)}catch{y.Z.warn("DRM-PSS: Could not save licenses in localStorage")}},J}();function Ti(J){return J.map(function(oe){var q=oe.systemId,le=oe.data,he=oe.hash;return{systemId:q,hash:he,data:new Kr(le)}})}var Me=new WeakMap,Fe={prepare:function(oe){Me.set(oe,null)},set:function(oe,q){var le=q instanceof Uint8Array?q:new Uint8Array(q instanceof ArrayBuffer?q:q.buffer),he=(0,Yr.Z)(le);Me.set(oe,{hash:he,serverCertificate:le})},hasOne:function(oe){var q=Me.get(oe);return q===void 0?!1:q===null?void 0:!0},has:function(oe,q){var le=Me.get(oe);if(le==null)return!1;var he=le.hash,me=le.serverCertificate,_e=q instanceof Uint8Array?q:new Uint8Array(q instanceof ArrayBuffer?q:q.buffer),ke=(0,Yr.Z)(_e);if(ke!==he||me.length!==_e.length)return!1;for(var we=0;we<me.length;we++)if(me[we]!==_e[we])return!1;return!0}};function Qe(J){if(J.persistentLicense!==!0)return null;var oe=J.licenseStorage;if(oe==null)throw new P.Z("INVALID_KEY_SYSTEM","No license storage found for persistent license.");return y.Z.debug("DRM: Set the given license storage"),new li(oe)}function Ye(J,oe,q){return ot.apply(this,arguments)}function ot(){return ot=(0,p.Z)(h().mark(function J(oe,q,le){var he,me,_e,ke,we,Ze,xt,Ge,ft,pt;return h().wrap(function(_n){for(;;)switch(_n.prev=_n.next){case 0:return _n.next=2,je(oe,q,le);case 2:if(he=_n.sent,le.cancellationError===null){_n.next=5;break}throw le.cancellationError;case 5:if(me=he.value,_e=me.options,ke=me.mediaKeySystemAccess,we=Q.Z.getState(oe),Ze=Qe(_e),!(ge()&&we!==null&&he.type==="reuse-media-key-system-access")){_n.next=12;break}if(xt=we.mediaKeys,Ge=we.loadedSessionsStore,!(Fe.hasOne(xt)===!1||!(0,L.Z)(_e.serverCertificate)&&Fe.has(xt,_e.serverCertificate))){_n.next=12;break}return _n.abrupt("return",{mediaKeys:xt,mediaKeySystemAccess:ke,stores:{loadedSessionsStore:Ge,persistentSessionsStore:Ze},options:_e});case 12:return _n.next=14,Ht(ke);case 14:return ft=_n.sent,y.Z.info("DRM: MediaKeys created with success"),pt=new Ei(ft),_n.abrupt("return",{mediaKeys:ft,mediaKeySystemAccess:ke,stores:{loadedSessionsStore:pt,persistentSessionsStore:Ze},options:_e});case 18:case"end":return _n.stop()}},J)})),ot.apply(this,arguments)}function Ht(J){return Rt.apply(this,arguments)}function Rt(){return Rt=(0,p.Z)(h().mark(function J(oe){var q,le;return h().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return y.Z.info("DRM: Calling createMediaKeys on the MediaKeySystemAccess"),me.prev=1,me.next=4,oe.createMediaKeys();case 4:return q=me.sent,me.abrupt("return",q);case 8:throw me.prev=8,me.t0=me.catch(1),le=me.t0 instanceof Error?me.t0.message:"Unknown error when creating MediaKeys.",new P.Z("CREATE_MEDIA_KEYS_ERROR",le);case 12:case"end":return me.stop()}},J,null,[[1,8]])})),Rt.apply(this,arguments)}function ct(J,oe,q){return wt.apply(this,arguments)}function wt(){return wt=(0,p.Z)(h().mark(function J(oe,q,le){var he,me,_e;return h().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:return we.next=2,Ye(oe,q,le);case 2:return he=we.sent,me=he.mediaKeys,_e=oe.mediaKeys!==null&&oe.mediaKeys!==void 0&&me!==oe.mediaKeys,_e&&(y.Z.debug("DRM: Disabling old MediaKeys"),re(oe)),we.abrupt("return",he);case 7:case"end":return we.stop()}},J)})),wt.apply(this,arguments)}var on=r(7326),Wt=r(2146),fn=r(6716),Jt=r(9127),Zt=r(7877),pn=r(9917),On=r(7991),Sn=r(1454),Mn=r(6798),Gn=r(7878),dr=r(1819),Ln=r(2566),Nn=r(7845),$n=(0,dr.d)(function(J){return function(q){q===void 0&&(q=null),J(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=q}});function Yn(J,oe){var q=(0,Sn.q)(J)?{first:J}:typeof J=="number"?{each:J}:J,le=q.first,he=q.each,me=q.with,_e=me===void 0?qn:me,ke=q.scheduler,we=ke===void 0?oe??On.z:ke,Ze=q.meta,xt=Ze===void 0?null:Ze;if(le==null&&he==null)throw new TypeError("No timeout provided.");return(0,Mn.e)(function(Ge,ft){var pt,yn,_n=null,Tn=0,Rn=function(kn){yn=(0,Nn.f)(ft,we,function(){try{pt.unsubscribe(),(0,Gn.Xf)(_e({meta:xt,lastValue:_n,seen:Tn})).subscribe(ft)}catch(nr){ft.error(nr)}},kn)};pt=Ge.subscribe((0,Ln.x)(ft,function(kn){yn==null||yn.unsubscribe(),Tn++,ft.next(_n=kn),he>0&&Rn(he)},void 0,void 0,function(){yn!=null&&yn.closed||yn==null||yn.unsubscribe(),_n=null})),!Tn&&Rn(le!=null?typeof le=="number"?le:+le-we.now():he)})}function qn(J){throw new $n(J)}var sr=r(278),or=r(9878),Zn=r(3071),ye=r(8474);function Te(J,oe){return(0,ye.m)(oe)?(0,Zt.z)(J,oe,1):(0,Zt.z)(J,1)}var xe=r(1545),Oe=r(2817),Xe=r(3505),it=r(2034),At=r(2006),Ft=r(533),Qt=r(8117),Gt=r(6625),Mt=r(2572);function Vt(J,oe){var q=oe.baseDelay,le=oe.maxDelay,he=oe.totalRetry,me=oe.shouldRetry,_e=oe.onRetry,ke=0;return J.pipe((0,or.K)(function(we,Ze){if(!(0,L.Z)(me)&&!me(we)||ke++>=he)throw we;typeof _e=="function"&&_e(we,ke);var xt=Math.min(q*Math.pow(2,ke-1),le),Ge=(0,Mt.Z)(xt);return(0,Gt.H)(Ge).pipe((0,Zt.z)(function(){return Ze}))}))}var Bt=r(5561);function Yt(J,oe){return J.indexOf("playready")!==-1&&(be.YM||be.kD)?(0,f.wO)(oe):oe}var Lt=r(7904),tn=function(J){(0,g.Z)(oe,J);function oe(q){var le;return le=J.call(this)||this,Object.setPrototypeOf((0,on.Z)(le),oe.prototype),le.reason=q,le}return oe}((0,Wt.Z)(Error)),An={EXPIRED:"expired",INTERNAL_ERROR:"internal-error",OUTPUT_RESTRICTED:"output-restricted"};function vn(J,oe,q){var le=oe.fallbackOn,he=le===void 0?{}:le,me=oe.throwOnLicenseExpiration,_e=oe.onKeyExpiration,ke=[],we=[],Ze=[];J.keyStatuses.forEach(function(Ge,ft){var pt=function(){return typeof Ge=="string"?[Ge,ft]:[ft,Ge]}(),yn=pt[0],_n=pt[1],Tn=Yt(q,new Uint8Array(_n)),Rn={keyId:Tn.buffer,keyStatus:yn};switch(yn){case An.EXPIRED:{var kn=new P.Z("KEY_STATUS_CHANGE_ERROR","A decryption key expired ("+(0,f.ci)(Tn)+")",{keyStatuses:[Rn].concat(Ze)});if(_e==="error"||_e===void 0&&me===!1)throw kn;switch(_e){case"close-session":throw new tn(kn);case"fallback":ke.push(Tn);break;default:_e==="continue"||_e===void 0?we.push(Tn):(0,Lt.Z)(_e);break}Ze.push(Rn);break}case An.INTERNAL_ERROR:{if(he.keyInternalError!==!0)throw new P.Z("KEY_STATUS_CHANGE_ERROR",'A "'+yn+'" status has been encountered ('+(0,f.ci)(Tn)+")",{keyStatuses:[Rn].concat(Ze)});Ze.push(Rn),ke.push(Tn);break}case An.OUTPUT_RESTRICTED:{if(he.keyOutputRestricted!==!0)throw new P.Z("KEY_STATUS_CHANGE_ERROR",'A "'+yn+'" status has been encountered ('+(0,f.ci)(Tn)+")",{keyStatuses:[Rn].concat(Ze)});Ze.push(Rn),ke.push(Tn);break}default:we.push(Tn);break}});var xt;return Ze.length>0&&(xt=new P.Z("KEY_STATUS_CHANGE_ERROR","One or several problematic key statuses have been encountered",{keyStatuses:Ze})),{warning:xt,blacklistedKeyIds:ke,whitelistedKeyIds:we}}var In=b.Xe,xn=b.GJ,K=b.eX,B=function(J){(0,g.Z)(oe,J);function oe(q){var le;return le=J.call(this)||this,Object.setPrototypeOf((0,on.Z)(le),oe.prototype),le.sessionError=q,le}return oe}((0,Wt.Z)(Error));function V(J,oe,q){y.Z.info("DRM: Binding session events",J.sessionId);var le=new fn.x,he=oe.getLicenseConfig,me=he===void 0?{}:he,_e=In(J).pipe((0,Jt.U)(function(Ge){throw new P.Z("KEY_ERROR",Ge.type)})),ke=K(J).pipe((0,Zt.z)(function(Ge){return Se(J,oe,q,Ge)})),we=xn(J).pipe((0,Zt.z)(function(Ge){var ft=new Uint8Array(Ge.message),pt=(0,kr.Z)(Ge.messageType)?Ge.messageType:"license-request";y.Z.info("DRM: Received message event, type "+pt,J.sessionId);var yn=(0,pn.P)(function(){var Tn=oe.getLicense(ft,pt),Rn=(0,L.Z)(me.timeout)?10*1e3:me.timeout;return(0,Qt.Z)(Tn).pipe(Rn>=0?Yn(Rn):sr.y)}),_n=Re(le,me.retry);return Vt(yn,_n).pipe((0,Jt.U)(function(Tn){return{type:"key-message-handled",value:{session:J,license:Tn}}}),(0,or.K)(function(Tn){var Rn=se(Tn);if(!(0,L.Z)(Tn)){var kn=Tn.fallbackOnLastTry;if(kn===!0)throw y.Z.warn("DRM: Last `getLicense` attempt failed. Blacklisting the current session."),new B(Rn)}throw Rn}))})),Ze=(0,Zn.T)(we,ke).pipe(Te(function(Ge){switch(Ge.type){case"key-message-handled":case"key-status-change-handled":return(0,L.Z)(Ge.value.license)?(y.Z.info("DRM: No message given, skipping session.update"),xe.E):ne(J,Ge.value.license);default:return(0,Oe.of)(Ge)}})),xt=(0,Zn.T)(F(J,oe,q),Ze,_e,le);return(0,L.Z)(J.closed)?xt:xt.pipe((0,Xe.R)((0,Qt.Z)(J.closed)))}function F(J,oe,q){return(0,pn.P)(function(){if(J.keyStatuses.size===0)return xe.E;var le=vn(J,oe,q),he=le.warning,me=le.blacklistedKeyIds,_e=le.whitelistedKeyIds,ke=(0,Oe.of)({type:"keys-update",value:{whitelistedKeyIds:_e,blacklistedKeyIds:me}});return he!==void 0?(0,it.z)((0,Oe.of)({type:"warning",value:he}),ke):ke})}function se(J){if(J instanceof $n)return new P.Z("KEY_LOAD_TIMEOUT","The license server took too much time to respond.");var oe=new P.Z("KEY_LOAD_ERROR","An error occured when calling `getLicense`.");return!(0,L.Z)(J)&&(0,kr.Z)(J.message)&&(oe.message=J.message),oe}function ne(J,oe){return y.Z.info("DRM: Updating MediaKeySession with message"),(0,Qt.Z)(J.update(oe)).pipe((0,or.K)(function(q){var le=q instanceof Error?q.toString():"`session.update` failed";throw new P.Z("KEY_UPDATE_ERROR",le)}),(0,At.b)(function(){y.Z.info("DRM: MediaKeySession update succeeded.")}),(0,Ft.l)())}function Se(J,oe,q,le){y.Z.info("DRM: keystatuseschange event received",J.sessionId);var he=(0,pn.P)(function(){return(0,Bt.Z)(function(){return typeof oe.onKeyStatusesChange!="function"?xe.E:(0,Qt.Z)(oe.onKeyStatusesChange(le,J))},void 0)}).pipe((0,Jt.U)(function(me){return{type:"key-status-change-handled",value:{session:J,license:me}}}),(0,or.K)(function(me){var _e=new P.Z("KEY_STATUS_CHANGE_ERROR","Unknown `onKeyStatusesChange` error");throw!(0,L.Z)(me)&&(0,kr.Z)(me.message)&&(_e.message=me.message),_e}));return(0,Zn.T)(F(J,oe,q),he)}function Re(J,oe){return{totalRetry:oe??2,baseDelay:200,maxDelay:3e3,shouldRetry:function(le){return le instanceof $n||(0,L.Z)(le)||le.noRetry!==!0},onRetry:function(le){return J.next({type:"warning",value:se(le)})}}}var Ce=r(9822);function We(J,oe){return Je.apply(this,arguments)}function Je(){return Je=(0,p.Z)(h().mark(function J(oe,q){var le,he;return h().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:return _e.prev=0,_e.next=3,oe.setServerCertificate(q);case 3:return le=_e.sent,_e.abrupt("return",le);case 7:throw _e.prev=7,_e.t0=_e.catch(0),y.Z.warn("DRM: mediaKeys.setServerCertificate returned an error",_e.t0 instanceof Error?_e.t0:""),he=_e.t0 instanceof Error?_e.t0.toString():"`setServerCertificate` error",new P.Z("LICENSE_SERVER_CERTIFICATE_ERROR",he);case 12:case"end":return _e.stop()}},J,null,[[0,7]])})),Je.apply(this,arguments)}function at(J,oe){return Le.apply(this,arguments)}function Le(){return Le=(0,p.Z)(h().mark(function J(oe,q){var le,he;return h().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:if(Fe.hasOne(oe)!==!0){_e.next=3;break}return y.Z.info("DRM: The MediaKeys already has a server certificate, skipping..."),_e.abrupt("return",{type:"already-has-one"});case 3:if(typeof oe.setServerCertificate=="function"){_e.next=6;break}return y.Z.warn("DRM: Could not set the server certificate. mediaKeys.setServerCertificate is not a function"),_e.abrupt("return",{type:"method-not-implemented"});case 6:return y.Z.info("DRM: Setting server certificate on the MediaKeys"),Fe.prepare(oe),_e.prev=8,_e.next=11,We(oe,q);case 11:return le=_e.sent,Fe.set(oe,q),_e.abrupt("return",{type:"success",value:le});case 16:return _e.prev=16,_e.t0=_e.catch(8),he=(0,Ce.Z)(_e.t0)?_e.t0:new P.Z("LICENSE_SERVER_CERTIFICATE_ERROR","Unknown error when setting the server certificate."),_e.abrupt("return",{type:"error",value:he});case 20:case"end":return _e.stop()}},J,null,[[8,16]])})),Le.apply(this,arguments)}function ut(J,oe){if(!(isNaN(oe)||oe<0||oe>=J.getLength())){var q=J.getLength(),le=q-oe;y.Z.info("DRM: Too many stored persistent sessions, removing some.",q,le),J.deleteOldSessions(le)}}var yt=r(9252);function lt(J){if((0,yt.Z)(J,"com.microsoft.playready")||J==="com.chromecast.playready"||J==="com.youtube.playready")return"9a04f07998404286ab92e65be0885f95";if(J==="com.widevine.alpha")return"edef8ba979d64acea3c827dcd51d21ed";if((0,yt.Z)(J,"com.apple.fps"))return"94ce86fb07ff4f43adb893d2fa968ca2";if((0,yt.Z)(J,"com.nagra."))return"adb41c242dbf4a6d958b4457c0d27b95"}var _t=function(){function J(q){this._innerValues=q,this._lazyFormattedValues=null}var oe=J.prototype;return oe.constructRequestData=function(){return c.zo.apply(void 0,this._innerValues.map(function(le){return le.data}))},oe.isCompatibleWith=function(le){var he=le instanceof J?le.getFormattedValues():le;return Pr(this.getFormattedValues(),he)},oe.getFormattedValues=function(){return this._lazyFormattedValues===null&&(this._lazyFormattedValues=Et(this._innerValues)),this._lazyFormattedValues},J}();function Et(J){return J.slice().sort(function(oe,q){return oe.systemId===q.systemId?0:oe.systemId===void 0?1:q.systemId===void 0||oe.systemId<q.systemId?-1:1}).map(function(oe){var q=oe.systemId,le=oe.data;return{systemId:q,data:le,hash:(0,Yr.Z)(le)}})}function Pt(J,oe){var q=typeof Symbol<"u"&&J[Symbol.iterator]||J["@@iterator"];if(q)return(q=q.call(J)).next.bind(q);if(Array.isArray(J)||(q=qt(J))||oe&&J&&typeof J.length=="number"){q&&(J=q);var le=0;return function(){return le>=J.length?{done:!0}:{done:!1,value:J[le++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qt(J,oe){if(J){if(typeof J=="string")return an(J,oe);var q=Object.prototype.toString.call(J).slice(8,-1);if(q==="Object"&&J.constructor&&(q=J.constructor.name),q==="Map"||q==="Set")return Array.from(J);if(q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q))return an(J,oe)}}function an(J,oe){(oe==null||oe>J.length)&&(oe=J.length);for(var q=0,le=new Array(oe);q<oe;q++)le[q]=J[q];return le}var un=b.Oh,cn=function(J){(0,g.Z)(oe,J);function oe(le,he){var me;me=J.call(this)||this,y.Z.debug("DRM: Starting ContentDecryptor logic.");var _e=new x.ZP;me._currentSessions=[],me._canceller=_e,me._wasAttachCalled=!1,me._initDataQueue=[],me._stateData={state:wn.Initializing,isMediaKeysAttached:!1,isInitDataQueueLocked:!0,data:null},me.error=null;var ke=un(le).subscribe(function(we){y.Z.debug("DRM: Encrypted event received from media element.");var Ze=C(we);Ze!==null&&me.onInitializationData(Ze)});return _e.signal.register(function(){ke.unsubscribe()}),ct(le,he,_e.signal).then(function(we){var Ze=we.options,xt=we.mediaKeySystemAccess,Ge;((0,L.Z)(Ze.licenseStorage)||Ze.licenseStorage.disableRetroCompatibility===!0)&&(Ge=lt(xt.keySystem)),me.systemId=Ge,me._stateData.state===wn.Initializing&&(me._stateData={state:wn.WaitingForAttachment,isInitDataQueueLocked:!0,isMediaKeysAttached:!1,data:{mediaKeysInfo:we,mediaElement:le}},me.trigger("stateChange",me._stateData.state))}).catch(function(we){me._onFatalError(we)}),me}var q=oe.prototype;return q.getState=function(){return this._stateData.state},q.attach=function(){var he=this;if(this._stateData.state!==wn.WaitingForAttachment)throw new Error("`attach` should only be called when in the WaitingForAttachment state");if(this._wasAttachCalled){y.Z.warn("DRM: ContentDecryptor's `attach` method called more than once.");return}this._wasAttachCalled=!0;var me=this._stateData.data,_e=me.mediaElement,ke=me.mediaKeysInfo,we=ke.options,Ze=ke.mediaKeys,xt=ke.mediaKeySystemAccess,Ge=ke.stores,ft={loadedSessionsStore:Ge.loadedSessionsStore,mediaKeySystemAccess:xt,mediaKeys:Ze,keySystemOptions:we},pt=we.disableMediaKeysAttachmentLock===!0;pt&&(this._stateData={state:wn.ReadyForContent,isInitDataQueueLocked:!0,isMediaKeysAttached:!1,data:null},this.trigger("stateChange",this._stateData.state),this._isStopped())||(y.Z.debug("DRM: Attaching current MediaKeys"),j(_e,ft,this._canceller.signal).then((0,p.Z)(h().mark(function yn(){var _n,Tn,Rn;return h().wrap(function(nr){for(;;)switch(nr.prev=nr.next){case 0:if(_n=we.serverCertificate,(0,L.Z)(_n)){nr.next=6;break}return nr.next=4,at(Ze,_n);case 4:Tn=nr.sent,Tn.type==="error"&&he.trigger("warning",Tn.value);case 6:if(!he._isStopped()){nr.next=8;break}return nr.abrupt("return");case 8:Rn=he._stateData.state,he._stateData={state:wn.ReadyForContent,isMediaKeysAttached:!0,isInitDataQueueLocked:!1,data:{mediaKeysData:ke}},Rn!==wn.ReadyForContent&&he.trigger("stateChange",wn.ReadyForContent),he._isStopped()||he._processCurrentInitDataQueue();case 12:case"end":return nr.stop()}},yn)}))).catch(function(yn){he._onFatalError(yn)}))},q.dispose=function(){this.removeEventListener(),this._stateData={state:wn.Disposed,isMediaKeysAttached:void 0,isInitDataQueueLocked:void 0,data:null},this._canceller.cancel(),this.trigger("stateChange",this._stateData.state)},q.onInitializationData=function(he){var me=this;if(this._stateData.isInitDataQueueLocked!==!1){if(this._isStopped())throw new Error("ContentDecryptor either disposed or stopped.");this._initDataQueue.push(he);return}var _e=this._stateData.data.mediaKeysData,ke=Object.assign(Object.assign({},he),{values:new _t(he.values)});this._processInitializationData(ke,_e).catch(function(we){me._onFatalError(we)})},q._processInitializationData=function(){var le=(0,p.Z)(h().mark(function me(_e,ke){var we=this,Ze,xt,Ge,ft,pt,yn,_n,Tn,Rn,kn,nr,Dn,Li,Xr,Wr,fr,Tr,Vr,ir,Or,di,Qi,Si,ga,ra,Hr,Nu,ia,Bs,Zu,Us,Bu,Uu,Fu;return h().wrap(function(Wn){for(;;)switch(Wn.prev=Wn.next){case 0:if(Ze=ke.mediaKeySystemAccess,xt=ke.stores,Ge=ke.options,!(this._tryToUseAlreadyCreatedSession(_e,ke)||this._isStopped())){Wn.next=3;break}return Wn.abrupt("return");case 3:if(Ge.singleLicensePer!=="content"){Wn.next=15;break}if(ft=(0,w.Z)(this._currentSessions,function(aa){return aa.source==="created-session"}),ft===void 0){Wn.next=13;break}if(pt=_e.keyIds,pt!==void 0){Wn.next=10;break}return _e.content===void 0?y.Z.warn("DRM: Unable to fallback from a non-decipherable quality."):Cn(_e.content.manifest,_e),Wn.abrupt("return");case 10:return ft.record.associateKeyIds(pt),_e.content!==void 0&&(y.Z.hasLevel("DEBUG")&&(yn=pt.reduce(function(aa,ri){return aa+", "+(0,f.ci)(ri)},""),y.Z.debug("DRM: Blacklisting new key ids",yn)),dn(_e.content.manifest,[],pt,[])),Wn.abrupt("return");case 13:Wn.next=37;break;case 15:if(!(Ge.singleLicensePer==="periods"&&_e.content!==void 0)){Wn.next=37;break}_n=_e.content.period,Tn=this._currentSessions.filter(function(aa){return aa.source==="created-session"}),Rn=new Set,Kn(Rn,_n),kn=Pt(Tn);case 21:if((nr=kn()).done){Wn.next=37;break}Dn=nr.value,Li=Array.from(Rn),Xr=0,Wr=Li;case 25:if(!(Xr<Wr.length)){Wn.next=35;break}if(fr=Wr[Xr],!Dn.record.isAssociatedWithKeyId(fr)){Wn.next=32;break}for(Dn.record.associateKeyIds(Rn.values()),Tr=Pt(Li);!(Vr=Tr()).done;)ir=Vr.value,!hn(ir,Dn.keyStatuses.whitelisted)&&!hn(ir,Dn.keyStatuses.blacklisted)&&Dn.keyStatuses.blacklisted.push(ir);return dn(_e.content.manifest,Dn.keyStatuses.whitelisted,Dn.keyStatuses.blacklisted,[]),Wn.abrupt("return");case 32:Xr++,Wn.next=25;break;case 35:Wn.next=21;break;case 37:return this._lockInitDataQueue(),Ge.persistentLicense!==!0?Or="temporary":ln(Ze)?Or="persistent-license":(y.Z.warn('DRM: Cannot create "persistent-license" session: not supported'),Or="temporary"),di=O.Z.getCurrent(),Qi=di.EME_DEFAULT_MAX_SIMULTANEOUS_MEDIA_KEY_SESSIONS,Si=di.EME_MAX_STORED_PERSISTENT_SESSION_INFORMATION,ga=typeof Ge.maxSessionCacheSize=="number"?Ge.maxSessionCacheSize:Qi,Wn.next=43,ie(_e,xt,Or,ga,this._canceller.signal);case 43:if(ra=Wn.sent,!this._isStopped()){Wn.next=46;break}return Wn.abrupt("return");case 46:if(Hr={record:ra.value.keySessionRecord,source:ra.type,keyStatuses:{whitelisted:[],blacklisted:[]},blacklistedSessionError:null},this._currentSessions.push(Hr),Nu=ra.value,ia=Nu.mediaKeySession,Bs=Nu.sessionType,Zu=!1,Us=V(ia,Ge,Ze.keySystem).subscribe({next:function(ri){if(ri.type==="warning"){we.trigger("warning",ri.value);return}var fi=gn(_e,Hr.record,Ge.singleLicensePer,Hr.source==="created-session",ri.value.whitelistedKeyIds,ri.value.blacklistedKeyIds);if(Hr.record.associateKeyIds(fi.whitelisted),Hr.record.associateKeyIds(fi.blacklisted),Hr.keyStatuses={whitelisted:fi.whitelisted,blacklisted:fi.blacklisted},Hr.record.getAssociatedKeyIds().length!==0&&Bs==="persistent-license"&&xt.persistentSessionsStore!==null&&!Zu){var Fa=xt.persistentSessionsStore;ut(Fa,Si-1),Fa.add(_e,Hr.record.getAssociatedKeyIds(),ia),Zu=!0}_e.content!==void 0&&dn(_e.content.manifest,fi.whitelisted,fi.blacklisted,[]),we._unlockInitDataQueue()},error:function(ri){var fi;if(ri instanceof tn){y.Z.warn("DRM: A session's closing condition has been triggered"),we._lockInitDataQueue();var Fa=we._currentSessions.indexOf(Hr);Fa>=0&&we._currentSessions.splice(Fa),_e.content!==void 0&&dn(_e.content.manifest,[],[],Hr.record.getAssociatedKeyIds()),(fi=xt.persistentSessionsStore)===null||fi===void 0||fi.delete(ia.sessionId),xt.loadedSessionsStore.closeSession(ia).catch(function(za){var Fs=za instanceof Error?za:"unknown error";y.Z.warn("DRM: failed to close expired session",Fs)}).then(function(){return we._unlockInitDataQueue()}).catch(function(za){return we._onFatalError(za)}),we._isStopped()||we.trigger("warning",ri.reason);return}if(!(ri instanceof B)){we._onFatalError(ri);return}if(Hr.blacklistedSessionError=ri,_e.content!==void 0){var zu=_e.content.manifest;y.Z.info("DRM: blacklisting Representations based on protection data."),Cn(zu,_e)}we._unlockInitDataQueue()}}),this._canceller.signal.register(function(){Us.unsubscribe()}),(Ge.singleLicensePer===void 0||Ge.singleLicensePer==="init-data")&&this._unlockInitDataQueue(),ra.type!=="created-session"){Wn.next=68;break}return Bu=_e.values.constructRequestData(),Wn.prev=55,Wn.next=58,xt.loadedSessionsStore.generateLicenseRequest(ia,_e.type,Bu);case 58:Wn.next=68;break;case 60:if(Wn.prev=60,Wn.t0=Wn.catch(55),Uu=xt.loadedSessionsStore.getEntryForSession(ia),!(Uu===null||Uu.closingStatus.type!=="none")){Wn.next=67;break}return Fu=this._currentSessions.indexOf(Hr),Fu>=0&&this._currentSessions.splice(Fu,1),Wn.abrupt("return",Promise.resolve());case 67:throw new P.Z("KEY_GENERATE_REQUEST_ERROR",Wn.t0 instanceof Error?Wn.t0.toString():"Unknown error");case 68:return Wn.abrupt("return",Promise.resolve());case 69:case"end":return Wn.stop()}},me,this,[[55,60]])}));function he(me,_e){return le.apply(this,arguments)}return he}(),q._tryToUseAlreadyCreatedSession=function(he,me){var _e=me.stores,ke=me.options,we=(0,w.Z)(this._currentSessions,function(Tn){return Tn.record.isCompatibleWith(he)});if(we===void 0)return!1;var Ze=we.blacklistedSessionError;if(!(0,L.Z)(Ze)){if(he.type===void 0||he.content===void 0)return y.Z.error("DRM: This initialization data has already been blacklisted but the current content is not known."),!0;y.Z.info("DRM: This initialization data has already been blacklisted. Blacklisting the related content.");var xt=he.content.manifest;return Cn(xt,he),!0}if(he.keyIds!==void 0){var Ge;if(ke.singleLicensePer===void 0||ke.singleLicensePer==="init-data"){var ft=we.keyStatuses.blacklisted;Ge=bn(he.keyIds,ft)}else{var pt=we.keyStatuses.whitelisted;Ge=!Xt(he.keyIds,pt)}if(Ge)return he.content===void 0?(y.Z.error("DRM: Cannot forbid key id, the content is unknown."),!0):(y.Z.info("DRM: Current initialization data is linked to blacklisted keys. Marking Representations as not decipherable"),dn(he.content.manifest,[],he.keyIds,[]),!0)}var yn=_e.loadedSessionsStore.reuse(he);if(yn!==null)return y.Z.debug("DRM: Init data already processed. Skipping it."),!0;var _n=this._currentSessions.indexOf(we);return _n===-1?y.Z.error("DRM: Unable to remove processed init data: not found."):(y.Z.debug("DRM: A session from a processed init data is not available anymore. Re-processing it."),this._currentSessions.splice(_n,1)),!1},q._onFatalError=function(he){if(!this._canceller.isUsed){var me=he instanceof Error?he:new $.Z("NONE","Unknown decryption error");this.error=me,this._initDataQueue.length=0,this._stateData={state:wn.Error,isMediaKeysAttached:void 0,isInitDataQueueLocked:void 0,data:null},this._canceller.cancel(),this.trigger("error",me),this._stateData.state===wn.Error&&this.trigger("stateChange",this._stateData.state)}},q._isStopped=function(){return this._stateData.state===wn.Disposed||this._stateData.state===wn.Error},q._processCurrentInitDataQueue=function(){for(;this._stateData.isInitDataQueueLocked===!1;){var he=this._initDataQueue.shift();if(he===void 0)return;this.onInitializationData(he)}},q._lockInitDataQueue=function(){this._stateData.isInitDataQueueLocked===!1&&(this._stateData.isInitDataQueueLocked=!0)},q._unlockInitDataQueue=function(){if(this._stateData.isMediaKeysAttached!==!0){y.Z.error("DRM: Trying to unlock in the wrong state");return}this._stateData.isInitDataQueueLocked=!1,this._processCurrentInitDataQueue()},oe}(z.Z);function ln(J){var oe=J.getConfiguration(),q=oe.sessionTypes;return q!==void 0&&(0,U.Z)(q,"persistent-license")}function dn(J,oe,q,le){J.updateRepresentationsDeciperability(function(he){if(he.contentProtections===void 0)return he.decipherable;var me=he.contentProtections.keyIds;if(me!==void 0)for(var _e=Pt(me),ke;!(ke=_e()).done;){for(var we=ke.value,Ze=Pt(q),xt;!(xt=Ze()).done;){var Ge=xt.value;if(jt(Ge,we.keyId))return!1}for(var ft=Pt(oe),pt;!(pt=ft()).done;){var yn=pt.value;if(jt(yn,we.keyId))return!0}for(var _n=Pt(le),Tn;!(Tn=_n()).done;){var Rn=Tn.value;if(jt(Rn,we.keyId))return}}return he.decipherable})}function Cn(J,oe){J.updateRepresentationsDeciperability(function(q){var le,he;if(q.decipherable===!1)return!1;for(var me=(he=(le=q.contentProtections)===null||le===void 0?void 0:le.initData)!==null&&he!==void 0?he:[],_e=function(){var Ge=we.value;if(oe.type===void 0||Ge.type===oe.type){var ft=oe.values.getFormattedValues().every(function(pt){return Ge.values.some(function(yn){return(pt.systemId===void 0||yn.systemId===pt.systemId)&&(0,k.Z)(yn.data,pt.data)})});if(ft)return{v:!1}}},ke=Pt(me),we;!(we=ke()).done;){var Ze=_e();if(typeof Ze=="object")return Ze.v}return q.decipherable})}var wn;(function(J){J[J.Initializing=0]="Initializing",J[J.WaitingForAttachment=1]="WaitingForAttachment",J[J.ReadyForContent=2]="ReadyForContent",J[J.Error=3]="Error",J[J.Disposed=4]="Disposed"})(wn||(wn={}));function gn(J,oe,q,le,he,me){for(var _e,ke=[].concat(he,me),we=oe.getAssociatedKeyIds(),Ze=function(){var Si=Ge.value;ke.some(function(ga){return jt(ga,Si)})||(y.Z.hasLevel("DEBUG")&&y.Z.debug("DRM: KeySessionRecord's key missing in the license, blacklisting it",(0,f.ci)(Si)),ke.push(Si))},xt=Pt(we),Ge;!(Ge=xt()).done;)Ze();if(q!==void 0&&q!=="init-data"){var ft=J.keyIds,pt=J.content;if(ft!==void 0){var yn=ft.filter(function(Qi){return!ke.some(function(Si){return jt(Si,Qi)})});yn.length>0&&(y.Z.hasLevel("DEBUG")&&y.Z.debug("DRM: init data keys missing in the license, blacklisting them",yn.map(function(Qi){return(0,f.ci)(Qi)}).join(", ")),ke.push.apply(ke,yn))}if(le&&pt!==void 0){if(q==="content"){for(var _n=new Set,Tn=pt.manifest,Rn=Pt(Tn.periods),kn;!(kn=Rn()).done;){var nr=kn.value;Kn(_n,nr)}En(_n,ke)}else if(q==="periods")for(var Dn=pt.manifest,Li=Pt(Dn.periods),Xr;!(Xr=Li()).done;){var Wr=Xr.value,fr=new Set;if(Kn(fr,Wr),((_e=J.content)===null||_e===void 0?void 0:_e.period.id)===Wr.id)En(fr,ke);else for(var Tr=Array.from(fr),Vr=function(){var Si=Or[ir],ga=ke.some(function(ra){return jt(ra,Si)});if(ga)return En(fr,ke),"break"},ir=0,Or=Tr;ir<Or.length;ir++){var di=Vr();if(di==="break")break}}}}return{whitelisted:he,blacklisted:ke.slice(he.length)}}function En(J,oe){for(var q=Array.from(J.values()),le=function(){var ke=me[he],we=oe.some(function(Ze){return jt(Ze,ke)});we||oe.push(ke)},he=0,me=q;he<me.length;he++)le()}function Kn(J,oe){for(var q=Pt(oe.getAdaptations()),le;!(le=q()).done;)for(var he=le.value,me=Pt(he.representations),_e;!(_e=me()).done;){var ke=_e.value;if(ke.contentProtections!==void 0&&ke.contentProtections.keyIds!==void 0)for(var we=Pt(ke.contentProtections.keyIds),Ze;!(Ze=we()).done;){var xt=Ze.value;J.add(xt.keyId)}}}},1266:function(E,_,r){var p=r(7425);_.ZP=p.Z},770:function(E,_){var r=new WeakMap;_.Z={setState:function(g,S){r.set(g,S)},getState:function(g){var S=r.get(g);return S===void 0?null:S},clearState:function(g){r.set(g,null)}}},5039:function(E,_,r){r.d(_,{Z:function(){return A}});var p=r(4727),g=r(3666);function S(k,c){return k&&g.SB?c:!0}var h=r(1669),b=r(2793),y=r(8343);function A(k,c,f,l){return k.pipe((0,b.Z)(function(I){return I.rebuffering!==null||I.freezing!==null||I.readyState===0?null:S(l,c.hasAttribute("playsinline"))?I.readyState>=3&&I.currentRange!==null&&(!(0,h.Z)()||c.duration>0)?y.Z.loaded(f):null:c.duration>0?y.Z.loaded(f):null},null),(0,p.q)(1))}},8343:function(E,_){function r(f){return{type:"loaded",value:{segmentBuffersStore:f}}}function p(f){return{type:"stalled",value:f}}function g(){return{type:"unstalled",value:null}}function S(f){return{type:"decipherabilityUpdate",value:f}}function h(f){return{type:"manifestReady",value:{manifest:f}}}function b(){return{type:"manifestUpdate",value:null}}function y(f,l){return{type:"representationChange",value:{type:f,representation:null,period:l}}}function A(f){return{type:"warning",value:f}}function k(){return{type:"reloading-media-source",value:void 0}}var c={loaded:r,decipherabilityUpdate:S,manifestReady:h,manifestUpdate:b,nullRepresentation:y,reloadingMediaSource:k,stalled:p,unstalled:g,warning:A};_.Z=c},7920:function(E,_,r){r.d(_,{Z:function(){return re}});var p=r(4975),g=r(4727),S=r(9127),h=r(9878),b=r(2817),y=r(2006),A=r(8515),k=r(7877),c=r(6108),f=r(2034),l=r(9917),I=r(8117),M=r(5561);function C(j){return(0,l.P)(function(){return(0,M.Z)(function(){return(0,I.Z)(j.play())},void 0)})}var O=r(3774),P=r(1381);function $(j){return j.readyState>=O.c.HAVE_METADATA?(0,b.of)(null):(0,P.K4)(j).pipe((0,g.q)(1))}var w=r(1669),U=r(3714),z=r(3887),L=r(5095),x=r(8343);function Z(j){return j.pipe((0,p.h)(function(ee){var ue=ee.seeking,ae=ee.rebuffering,D=ee.readyState;return!ue&&ae===null&&D>=1}),(0,g.q)(1),(0,S.U)(function(){}))}function Q(j){return C(j).pipe((0,S.U)(function(){return"autoplay"}),(0,h.K)(function(ee){if(ee instanceof Error&&ee.name==="NotAllowedError")return z.Z.warn("Init: Media element can't play. It may be due to browser auto-play policies."),(0,b.of)("autoplay-blocked");throw ee}))}function re(j){var ee=j.mediaElement,ue=j.playbackObserver,ae=j.startTime,D=j.mustAutoPlay,H=(0,L.$l)(!1),W=(0,L.$l)(!1),Y=$(ee).pipe((0,g.q)(1),(0,y.b)(function(){var ie=typeof ae=="function"?ae():ae;z.Z.info("Init: Set initial time",ie),ue.setCurrentTime(ie),H.setValue(!0),H.finish()}),(0,A.d)({refCount:!0})),X=Y.pipe((0,k.z)(function(){if(!(0,w.Z)()||ee.duration>0)return Z(ue.getReference().asObservable());var ie=new U.Z("MEDIA_ERR_NOT_LOADED_METADATA","Cannot load automatically: your browser falsely announced having loaded the content.");return Z(ue.getReference().asObservable()).pipe((0,c.O)(x.Z.warning(ie)))}),(0,k.z)(function(ie){return ie!==void 0?(0,b.of)(ie):(z.Z.info("Init: Can begin to play content"),D?Q(ee).pipe((0,k.z)(function(fe){if(W.setValue(!0),W.finish(),fe==="autoplay")return(0,b.of)({type:"autoplay"});var be=new U.Z("MEDIA_ERR_BLOCKED_AUTOPLAY","Cannot trigger auto-play automatically: your browser does not allow it.");return(0,f.z)((0,b.of)(x.Z.warning(be)),(0,b.of)({type:"autoplay-blocked"}))})):(ee.autoplay&&z.Z.warn("Init: autoplay is enabled on HTML media element. Media will play as soon as possible."),W.setValue(!0),W.finish(),(0,b.of)({type:"skipped"})))}),(0,A.d)({refCount:!0}));return{seekAndPlay$:X,initialPlayPerformed:W,initialSeekPerformed:H}}},8969:function(E,_,r){r.d(_,{Z:function(){return L}});var p=r(1545),g=r(5583),S=r(4975),h=r(4727),b=r(7877),y=r(4978),A=r(2817),k=r(3071),c=r(533),f=r(5767),l=r(1480),I=r(3887);function M(x,Z){return new l.y(function(Q){return I.Z.info("Setting URL to HTMLMediaElement",Z),x.src=Z,Q.next(void 0),function(){(0,f.Z)(x)}})}var C=r(8333),O=r(5039),P=r(7920),$=r(9607),w=r(342),U=r(2447);function z(x,Z){if(Z==null)return 0;if(Z.position!=null)return Z.position;if(Z.wallClockTime!=null)return Z.wallClockTime;if(Z.fromFirstPosition!=null)return Z.fromFirstPosition;var Q=x.duration;if(Q==null||!isFinite(Q))return I.Z.warn("startAt.fromLastPosition set but no known duration, beginning at 0."),0;if(typeof Z.fromLastPosition=="number")return Math.max(0,Q+Z.fromLastPosition);if(Z.percentage!=null){var re=Z.percentage;if(re>=100)return Q;if(re<=0)return 0;var j=+re/100;return Q*j}return 0}function L(x){var Z=x.autoPlay,Q=x.keySystems,re=x.mediaElement,j=x.playbackObserver,ee=x.speed,ue=x.startAt,ae=x.url;if((0,f.Z)(re),ae==null)throw new Error("No URL for a DirectFile content");var D=M(re,ae),H=function(){I.Z.debug("Init: Calculating initial time");var Ke=z(re,ue);return I.Z.debug("Init: Initial time calculated:",Ke),Ke},W=(0,P.Z)({mediaElement:re,playbackObserver:j,startTime:H,mustAutoPlay:Z}),Y=W.seekAndPlay$,X=(0,$.Z)(re,Q,p.E,D).pipe((0,C.Z)(),(0,g.B)()),ie=(0,U.Z)(re),fe=j.getReference().asObservable(),be=(0,w.Z)(j,null,ee,p.E,p.E),ge=X.pipe((0,S.h)(function(Be){return Be.type==="decryption-ready"||Be.type==="decryption-disabled"}),(0,h.q)(1),(0,b.z)(function(){return Y}),(0,y.w)(function(Be){return Be.type==="warning"?(0,A.of)(Be):(0,O.Z)(fe,re,null,!0)}));return(0,k.T)(ge,X.pipe((0,c.l)()),ie,be)}},9607:function(E,_,r){r.d(_,{Z:function(){return I}});var p=r(3071),g=r(9127),S=r(1480),h=r(1381),b=r(6139);function y(){return typeof b.N=="function"}var A=r(5157),k=r(7874),c=r(3887),f=r(7425),l=h.Oh;function I(M,C,O,P){var $=(0,p.T)(l(M),O);if(k.Z.ContentDecryptor==null)return(0,p.T)($.pipe((0,g.U)(function(){throw c.Z.error("Init: Encrypted event but EME feature not activated"),new A.Z("MEDIA_IS_ENCRYPTED_ERROR","EME feature not activated.")})),P.pipe((0,g.U)(function(U){return{type:"decryption-disabled",value:{drmSystemId:void 0,mediaSource:U}}})));if(C.length===0)return(0,p.T)($.pipe((0,g.U)(function(){throw c.Z.error("Init: Ciphered media and no keySystem passed"),new A.Z("MEDIA_IS_ENCRYPTED_ERROR","Media is encrypted and no `keySystems` given")})),P.pipe((0,g.U)(function(U){return{type:"decryption-disabled",value:{drmSystemId:void 0,mediaSource:U}}})));if(!y())return(0,p.T)($.pipe((0,g.U)(function(){throw c.Z.error("Init: Encrypted event but no EME API available"),new A.Z("MEDIA_IS_ENCRYPTED_ERROR","Encryption APIs not found.")})),P.pipe((0,g.U)(function(U){return{type:"decryption-disabled",value:{drmSystemId:void 0,mediaSource:U}}})));c.Z.debug("Init: Creating ContentDecryptor");var w=k.Z.ContentDecryptor;return new S.y(function(U){var z=new w(M,C),L;z.addEventListener("stateChange",function(Z){Z===f.u.WaitingForAttachment&&(z.removeEventListener("stateChange"),L=P.subscribe(function(Q){z.addEventListener("stateChange",function(re){re===f.u.ReadyForContent&&(U.next({type:"decryption-ready",value:{drmSystemId:z.systemId,mediaSource:Q}}),z.removeEventListener("stateChange"))}),z.attach()}))}),z.addEventListener("error",function(Z){U.error(Z)}),z.addEventListener("warning",function(Z){U.next({type:"warning",value:Z})});var x=O.subscribe(function(Z){z.onInitializationData(Z)});return function(){x.unsubscribe(),L==null||L.unsubscribe(),z.dispose()}})}},342:function(E,_,r){r.d(_,{Z:function(){return w}});var p=r(3428),g=r(3074),S=r(2006),h=r(533),b=r(9127),y=r(3071),A=r(3286),k=r(3666),c=k.yS,f=c,l=r(6872),I=r(3714),M=r(3887),C=r(2829),O=r(288),P=r(8567),$=1/60;function w(Q,re,j,ee,ue){var ae=[],D=ue.pipe((0,p.M)(Q.getReference().asObservable()),(0,g.R)(function(be,ge){var Be=ge[0],Ke=ge[1];return L(be,Be,Ke)},ae)),H=null,W=null,Y,X=ee.pipe((0,p.M)(Q.getReference().asObservable()),(0,S.b)(function(be){var ge=be[0],Be=be[1],Ke;if(!(!Be.rebuffering||Be.paused||j.getValue()<=0||ge.bufferType!=="audio"&&ge.bufferType!=="video")){var Ot=Be.position,kt=(Ke=Be.rebuffering.position)!==null&&Ke!==void 0?Ke:Ot,He=ge.period.start;Ot<He&&Math.abs(kt-He)<1&&(M.Z.warn(`Init: rebuffering because of a future locked stream.
Trying to unlock by seeking to the next Period`),Q.setCurrentTime(He+.001))}}),(0,h.l)()),ie=new Z(Q,j),fe=Q.getReference().asObservable().pipe((0,p.M)(D),(0,b.U)(function(be){var ge=be[0],Be=be[1],Ke,Ot=ge.buffered,kt=ge.position,He=ge.readyState,je=ge.rebuffering,ve=ge.freezing,qe=l.Z.getCurrent(),bt=qe.BUFFER_DISCONTINUITY_THRESHOLD,vt=qe.FORCE_DISCONTINUITY_SEEK_DELAY,et=qe.FREEZING_STALLED_DELAY,mt=qe.UNFREEZING_SEEK_DELAY,ht=qe.UNFREEZING_DELTA_POSITION;if(!ge.seeking&&f&&W===null&&H!==null&&ge.position<H){M.Z.debug("Init: the device appeared to have seeked back by itself.");var St=performance.now();W=St}if(H=ge.seeking?Math.max((Ke=ge.pendingInternalSeek)!==null&&Ke!==void 0?Ke:0,ge.position):null,ve!==null){var tt=performance.now(),dt=Y===null?ve.timestamp:Y.attemptTimestamp;if(tt-dt>mt&&(M.Z.warn("Init: trying to seek to un-freeze player"),Q.setCurrentTime(Q.getCurrentTime()+ht),Y={attemptTimestamp:tt}),tt-ve.timestamp>et)return je===null||W!==null?ie.stopRebuffering():ie.startRebuffering(),{type:"stalled",value:"freezing"}}else Y=null;if(je===null){if(ie.stopRebuffering(),He===1){var Dt;return ge.seeking?Dt=ge.pendingInternalSeek!==null?"internal-seek":"seeking":Dt="not-ready",{type:"stalled",value:Dt}}return{type:"unstalled",value:null}}var Ue=je.reason==="seeking"&&ge.pendingInternalSeek!==null?"internal-seek":je.reason;if(W!==null){var jt=performance.now();if(jt-W<vt)return ie.stopRebuffering(),M.Z.debug("Init: letting the device get out of a stall by itself"),{type:"stalled",value:Ue};M.Z.warn("Init: ignored stall for too long, checking discontinuity",jt-W)}if(W=null,ie.startRebuffering(),re===null)return{type:"stalled",value:Ue};var hn=je.position;if(hn!=null&&j.getValue()>0){var Xt=U(Be,re,hn);if(Xt!==null){var bn=Xt+.001;if(bn<=Q.getCurrentTime())M.Z.info("Init: position to seek already reached, no seeking",Q.getCurrentTime(),bn);else return M.Z.warn("SA: skippable discontinuity found in the stream",kt,bn),Q.setCurrentTime(bn),P.Z.warning(x(hn,bn))}}var Fn=hn??kt,gr=(0,C.XS)(Ot,Fn);if(j.getValue()>0&&gr<bt){var Ur=Fn+gr+$;if(Q.getCurrentTime()<Ur)return M.Z.warn("Init: discontinuity encountered inferior to the threshold",Fn,Ur,bt),Q.setCurrentTime(Ur),P.Z.warning(x(Fn,Ur))}for(var Hn=re.periods.length-2;Hn>=0;Hn--){var Fr=re.periods[Hn];if(Fr.end!==void 0&&Fr.end<=Fn){if(re.periods[Hn+1].start>Fn&&re.periods[Hn+1].start>Q.getCurrentTime()){var zr=re.periods[Hn+1];return Q.setCurrentTime(zr.start),P.Z.warning(x(Fn,zr.start))}break}}return{type:"stalled",value:Ue}}));return(0,y.T)(X,fe).pipe((0,A.x)(function(){ie.dispose()}))}function U(Q,re,j){if(Q.length===0)return null;for(var ee=null,ue=0;ue<Q.length;ue++){var ae=Q[ue].period;if(ae.start>j)return ee;var D=void 0;if(ae.end===void 0||ae.end>j){var H=Q[ue],W=H.discontinuity,Y=H.position,X=W.start,ie=W.end,fe=X??Y;if(j>=fe-$)if(ie===null){var be=re.getPeriodAfter(ae);be!==null?D=be.start+$:M.Z.warn("Init: discontinuity at Period's end but no next Period")}else j<ie+$&&(D=ie+$);D!==void 0&&(M.Z.info("Init: discontinuity found",j,D),ee=ee!==null&&ee>D?ee:D)}}return ee}function z(Q){return Q.discontinuity!==null}function L(Q,re,j){for(;Q.length>0&&Q[0].period.end!==void 0&&Q[0].period.end+10<j.position;)Q.shift();var ee=re.period,ue=re.bufferType;if(ue!=="audio"&&ue!=="video")return Q;for(var ae=0;ae<Q.length;ae++)if(Q[ae].period.id===ee.id){if(Q[ae].bufferType===ue)return z(re)?Q[ae]=re:Q.splice(ae,1),Q}else if(Q[ae].period.start>ee.start)return z(re)&&Q.splice(ae,0,re),Q;return z(re)&&Q.push(re),Q}function x(Q,re){return new I.Z("DISCONTINUITY_ENCOUNTERED","A discontinuity has been encountered at position "+String(Q)+", seeked at position "+String(re))}var Z=function(){function Q(j,ee){this._speedUpdateCanceller=new O.ZP,this._isRebuffering=!1,this._playbackObserver=j,this._isDisposed=!1,this._speed=ee,this._updateSpeed()}var re=Q.prototype;return re.startRebuffering=function(){this._isRebuffering||this._isDisposed||(this._isRebuffering=!0,this._speedUpdateCanceller.cancel(),M.Z.info("Init: Pause playback to build buffer"),this._playbackObserver.setPlaybackRate(0))},re.stopRebuffering=function(){!this._isRebuffering||this._isDisposed||(this._isRebuffering=!1,this._speedUpdateCanceller=new O.ZP,this._updateSpeed())},re.dispose=function(){this._speedUpdateCanceller.cancel(),this._isDisposed=!0},re._updateSpeed=function(){var ee=this;this._speed.onUpdate(function(ue){M.Z.info("Init: Resume playback speed",ue),ee._playbackObserver.setPlaybackRate(ue)},{clearSignal:this._speedUpdateCanceller.signal,emitCurrentValue:!0})},Q}()},2447:function(E,_,r){r.d(_,{Z:function(){return b}});var p=r(2401),g=r(7877),S=r(3714),h=r(1946);function b(y){return(0,p.R)(y,"error").pipe((0,g.z)(function(){var A=y.error,k,c;switch((0,h.Z)(A)||(k=A.code,c=A.message),k){case 1:throw c=c??"The fetching of the associated resource was aborted by the user's request.",new S.Z("MEDIA_ERR_ABORTED",c);case 2:throw c=c??"A network error occurred which prevented the media from being successfully fetched",new S.Z("MEDIA_ERR_NETWORK",c);case 3:throw c=c??"An error occurred while trying to decode the media resource",new S.Z("MEDIA_ERR_DECODE",c);case 4:throw c=c??"The media resource has been found to be unsuitable.",new S.Z("MEDIA_ERR_SRC_NOT_SUPPORTED",c);default:throw c=c??"The HTMLMediaElement errored due to an unknown reason.",new S.Z("MEDIA_ERR_UNKNOWN",c)}}))}},7127:function(E,_,r){r.d(_,{Z:function(){return y}});var p=r(4578),g=r(3887),S=r(9612),h=r(4309),b=function(A){(0,p.Z)(k,A);function k(){var f;return g.Z.debug("ISB: Creating ImageSegmentBuffer"),f=A.call(this)||this,f.bufferType="image",f._buffered=new h.Z,f}var c=k.prototype;return c.pushChunk=function(l){var I,M;if(g.Z.debug("ISB: appending new data."),l.data.chunk===null)return Promise.resolve();var C=l.data,O=C.appendWindow,P=C.chunk,$=P.start,w=P.end,U=P.timescale,z=(I=O[0])!==null&&I!==void 0?I:0,L=(M=O[1])!==null&&M!==void 0?M:1/0,x=$/U,Z=w/U,Q=Math.max(z,x),re=Math.min(L,Z);try{this._buffered.insert(Q,re),l.inventoryInfos!==null&&this._segmentInventory.insertChunk(l.inventoryInfos)}catch(j){return Promise.reject(j)}return Promise.resolve()},c.removeBuffer=function(l,I){return g.Z.info("ISB: ignored image data remove order",l,I),Promise.resolve()},c.endOfSegment=function(l){return this._segmentInventory.completeSegment(l,this._buffered),Promise.resolve()},c.getBufferedRanges=function(){return this._buffered},c.dispose=function(){g.Z.debug("ISB: disposing image SegmentBuffer"),this._buffered.remove(0,1/0)},k}(S.C),y=b},5192:function(E,_,r){r.d(_,{Z:function(){return ee}});var p=r(4578),g=r(1381),S=r(3887),h=r(5095),b=r(2203),y=b.Z?void 0:window.ResizeObserver;function A(ue,ae,D){var H=ue.getBoundingClientRect(),W=H.height,Y=H.width,X=(0,h.ZP)({height:W,width:Y}),ie=W,fe=Y;if(y!==void 0){var be=new y(function(Be){if(Be.length===0){S.Z.error("Compat: Resized but no observed element.");return}var Ke=Be[0],Ot=Ke.contentRect,kt=Ot.height,He=Ot.width;(kt!==ie||He!==fe)&&(ie=kt,fe=He,X.setValue({height:kt,width:He}))});be.observe(ue),D.register(function(){be.disconnect()})}else{var ge=setInterval(function(){var Be=ue.getBoundingClientRect(),Ke=Be.height,Ot=Be.width;(Ke!==ie||Ot!==fe)&&(ie=Ke,fe=Ot,X.setValue({height:Ke,width:Ot}))},ae);D.register(function(){clearInterval(ge)})}return X}var k=r(6872),c=r(288),f=r(9612),l=r(4309),I=r(7874);function M(ue,ae,D,H){S.Z.debug("HTSB: Finding parser for html text tracks:",ue);var W=I.Z.htmlTextTracksParsers[ue];if(typeof W!="function")throw new Error("no parser found for the given text track");S.Z.debug("HTSB: Parser found, parsing...");var Y=W(ae,D,H);return S.Z.debug("HTTB: Parsed successfully!",Y.length),Y}var C=.2;function O(ue,ae){return Math.abs(ue-ae)<=C}function P(ue,ae){for(var D=ue.length-1;D>=0;D--){var H=ue[D];if(H.start<ae)return ue.slice(0,D+1)}return[]}function $(ue,ae){for(var D=0;D<ue.length;D++){var H=ue[D];if(H.end>ae)return ue.slice(D,ue.length)}return[]}function w(ue,ae,D){var H=Math.max(ue.start,ae),W=P(ue.cues,ae),Y={start:ue.start,end:H,cues:W},X=Math.min(D,ue.end),ie=$(ue.cues,D),fe={start:X,end:ue.end,cues:ie};return[Y,fe]}var U=function(){function ue(){this._cuesBuffer=[]}var ae=ue.prototype;return ae.get=function(H){for(var W=this._cuesBuffer,Y=[],X=W.length-1;X>=0;X--){var ie=W[X];if(H<ie.end&&H>=ie.start){for(var fe=ie.cues,be=0;be<fe.length;be++)H>=fe[be].start&&H<fe[be].end&&Y.push(fe[be].element);return Y}}return[]},ae.remove=function(H,W){for(var Y=Math.max(H,W),X=this._cuesBuffer,ie=0;ie<X.length;ie++)if(X[ie].end>H){var fe=X[ie];if(fe.start>=Y)return;if(fe.end>=Y){if(H<=fe.start)fe.cues=$(fe.cues,Y),fe.start=Y;else{var be=w(fe,H,Y),ge=be[0],Be=be[1];this._cuesBuffer[ie]=ge,X.splice(ie+1,0,Be)}return}fe.start>=H?(X.splice(ie,1),ie--):(fe.cues=P(fe.cues,H),fe.end=Math.max(H,fe.start))}},ae.insert=function(H,W,Y){var X=this._cuesBuffer,ie={start:W,end:Y,cues:H};function fe(He){var je=X[He];je===void 0||O(ie.end,je.end)?X[He]=ie:(je.start>=ie.end||(je.cues=$(je.cues,ie.end),je.start=ie.end),X.splice(He,0,ie))}for(var be=0;be<X.length;be++){var ge=X[be];if(W<ge.end){if(O(W,ge.start)){if(O(Y,ge.end)){X[be]=ie;return}else if(Y<ge.end){ge.cues=$(ge.cues,Y),ge.start=Y,X.splice(be,0,ie);return}do X.splice(be,1),ge=X[be];while(ge!==void 0&&Y>ge.end);fe(be);return}else if(W<ge.start){if(Y<ge.start){X.splice(be,0,ie);return}else if(O(Y,ge.start)){ge.start=Y,X.splice(be,0,ie);return}else if(O(Y,ge.end)){X.splice(be,1,ie);return}else if(Y<ge.end){ge.cues=$(ge.cues,Y),ge.start=Y,X.splice(be,0,ie);return}do X.splice(be,1),ge=X[be];while(ge!==void 0&&Y>ge.end);fe(be);return}if(O(ge.end,Y)){ge.cues=P(ge.cues,W),ge.end=W,X.splice(be+1,0,ie);return}else if(ge.end>Y){var Be=w(ge,W,Y),Ke=Be[0],Ot=Be[1];this._cuesBuffer[be]=Ke,X.splice(be+1,0,ie),X.splice(be+2,0,Ot);return}else{ge.cues=P(ge.cues,W),ge.end=W;var kt=be+1;for(ge=X[kt];ge!==void 0&&Y>ge.end;)X.splice(kt,1),ge=X[kt];fe(kt);return}}}X.push(ie)},ue}();function z(ue,ae,D,H){for(var W=[ae/D.columns,ue/D.rows],Y=H.getElementsByClassName("proportional-style"),X=0;X<Y.length;X++){var ie=Y[X];if(ie instanceof HTMLElement){var fe=ie.getAttribute("data-proportional-font-size");fe!==null&&!isNaN(+fe)&&(ie.style.fontSize=String(+fe*W[1])+"px");var be=ie.getAttribute("data-proportional-width");be!==null&&!isNaN(+be)&&(ie.style.width=String(+be*W[0])+"px");var ge=ie.getAttribute("data-proportional-height");ge!==null&&!isNaN(+ge)&&(ie.style.height=String(+ge*W[1])+"px");var Be=ie.getAttribute("data-proportional-line-height");Be!==null&&!isNaN(+Be)&&(ie.style.lineHeight=String(+Be*W[1])+"px");var Ke=ie.getAttribute("data-proportional-left");Ke!==null&&!isNaN(+Ke)&&(ie.style.left=String(+Ke*W[0])+"px");var Ot=ie.getAttribute("data-proportional-top");Ot!==null&&!isNaN(+Ot)&&(ie.style.top=String(+Ot*W[1])+"px");var kt=ie.getAttribute("data-proportional-padding-top");kt!==null&&!isNaN(+kt)&&(ie.style.paddingTop=String(+kt*W[1])+"px");var He=ie.getAttribute("data-proportional-padding-bottom");He!==null&&!isNaN(+He)&&(ie.style.paddingBottom=String(+He*W[1])+"px");var je=ie.getAttribute("data-proportional-padding-left");je!==null&&!isNaN(+je)&&(ie.style.paddingLeft=String(+je*W[0])+"px");var ve=ie.getAttribute("data-proportional-padding-right");ve!==null&&!isNaN(+ve)&&(ie.style.paddingRight=String(+ve*W[0])+"px")}}return Y.length>0}var L=g.M4,x=g.bQ,Z=g.Q$;function Q(ue,ae){try{ue.removeChild(ae)}catch{S.Z.warn("HTSB: Can't remove text track: not in the element.")}}function re(ue){var ae=ue.getAttribute("data-resolution-rows"),D=ue.getAttribute("data-resolution-columns");if(ae===null||D===null)return null;var H=parseInt(ae,10),W=parseInt(D,10);return H===null||W===null?null:{rows:H,columns:W}}var j=function(ue){(0,p.Z)(ae,ue);function ae(H,W){var Y;return S.Z.debug("HTSB: Creating HTMLTextSegmentBuffer"),Y=ue.call(this)||this,Y.bufferType="text",Y._buffered=new l.Z,Y._videoElement=H,Y._textTrackElement=W,Y._sizeUpdateCanceller=new c.ZP,Y._canceller=new c.ZP,Y._buffer=new U,Y._currentCues=[],Y.autoRefreshSubtitles(Y._canceller.signal),Y}var D=ae.prototype;return D.pushChunk=function(W){try{this.pushChunkSync(W)}catch(Y){return Promise.reject(Y)}return Promise.resolve()},D.removeBuffer=function(W,Y){return this.removeBufferSync(W,Y),Promise.resolve()},D.endOfSegment=function(W){return this._segmentInventory.completeSegment(W,this._buffered),Promise.resolve()},D.getBufferedRanges=function(){return this._buffered},D.dispose=function(){S.Z.debug("HTSB: Disposing HTMLTextSegmentBuffer"),this._disableCurrentCues(),this._buffer.remove(0,1/0),this._buffered.remove(0,1/0),this._canceller.cancel()},D.pushChunkSync=function(W){var Y,X;S.Z.debug("HTSB: Appending new html text tracks");var ie=W.data,fe=ie.timestampOffset,be=ie.appendWindow,ge=ie.chunk;if(ge!==null){var Be=ge.start,Ke=ge.end,Ot=ge.data,kt=ge.type,He=ge.language,je=(Y=be[0])!==null&&Y!==void 0?Y:0,ve=(X=be[1])!==null&&X!==void 0?X:1/0,qe=M(kt,Ot,fe,He);if(je!==0&&ve!==1/0){for(var bt=0;bt<qe.length&&qe[bt].end<=je;)bt++;for(qe.splice(0,bt),bt=0;bt<qe.length&&qe[bt].start<je;)qe[bt].start=je,bt++;for(bt=qe.length-1;bt>=0&&qe[bt].start>=ve;)bt--;for(qe.splice(bt,qe.length),bt=qe.length-1;bt>=0&&qe[bt].end>ve;)qe[bt].end=ve,bt--}var vt;if(Be!==void 0)vt=Math.max(je,Be);else{if(qe.length<=0){S.Z.warn("HTSB: Current text tracks have no cues nor start time. Aborting");return}S.Z.warn("HTSB: No start time given. Guessing from cues."),vt=qe[0].start}var et;if(Ke!==void 0)et=Math.min(ve,Ke);else{if(qe.length<=0){S.Z.warn("HTSB: Current text tracks have no cues nor end time. Aborting");return}S.Z.warn("HTSB: No end time given. Guessing from cues."),et=qe[qe.length-1].end}if(et<=vt){S.Z.warn("HTSB: Invalid text track appended: ","the start time is inferior or equal to the end time.");return}W.inventoryInfos!==null&&this._segmentInventory.insertChunk(W.inventoryInfos),this._buffer.insert(qe,vt,et),this._buffered.insert(vt,et)}},D.removeBufferSync=function(W,Y){S.Z.debug("HTSB: Removing html text track data",W,Y),this._buffer.remove(W,Y),this._buffered.remove(W,Y)},D._disableCurrentCues=function(){if(this._sizeUpdateCanceller.cancel(),this._currentCues.length>0){for(var W=0;W<this._currentCues.length;W++)Q(this._textTrackElement,this._currentCues[W].element);this._currentCues=[]}},D._displayCues=function(W){var Y=this._currentCues.length===W.length&&this._currentCues.every(function(kt,He){return kt.element===W[He]});if(!Y){this._sizeUpdateCanceller.cancel();for(var X=0;X<this._currentCues.length;X++)Q(this._textTrackElement,this._currentCues[X].element);this._currentCues=[];for(var ie=0;ie<W.length;ie++){var fe=W[ie],be=re(fe);this._currentCues.push({element:fe,resolution:be}),this._textTrackElement.appendChild(fe)}var ge=this._currentCues.filter(function(kt){return kt.resolution!==null});if(ge.length>0){this._sizeUpdateCanceller=new c.ZP({cancelOn:this._canceller.signal});var Be=k.Z.getCurrent(),Ke=Be.TEXT_TRACK_SIZE_CHECKS_INTERVAL,Ot=A(this._textTrackElement,Ke,this._sizeUpdateCanceller.signal);Ot.onUpdate(function(kt){for(var He=kt.height,je=kt.width,ve=0;ve<ge.length;ve++){var qe=ge[ve],bt=qe.resolution,vt=qe.element;z(He,je,bt,vt)}},{clearSignal:this._sizeUpdateCanceller.signal,emitCurrentValue:!0})}}},D.autoRefreshSubtitles=function(W){var Y=this,X=null,ie=k.Z.getCurrent(),fe=ie.MAXIMUM_HTML_TEXT_TRACK_UPDATE_INTERVAL,be=function(){ge(),X=new c.ZP({cancelOn:W});var Ke=setInterval(function(){return Y.refreshSubtitles()},fe);X.signal.register(function(){clearInterval(Ke)}),Y.refreshSubtitles()};Z(this._videoElement,function(){ge(),Y._disableCurrentCues()},W),x(this._videoElement,be,W),L(this._videoElement,be,W),be();function ge(){X!==null&&(X.cancel(),X=null)}},D.refreshSubtitles=function(){var W=k.Z.getCurrent(),Y=W.MAXIMUM_HTML_TEXT_TRACK_UPDATE_INTERVAL,X;this._videoElement.paused||this._videoElement.playbackRate<=0?X=this._videoElement.currentTime:X=Math.max(this._videoElement.currentTime+Y/1e3/2,0);var ie=this._buffer.get(X);ie.length===0?this._disableCurrentCues():this._displayCues(ie)},ae}(f.C),ee=j},9059:function(E,_,r){r.d(_,{Z:function(){return I}});var p=r(4578),g=r(3666);function S(M,C){var O,P,$,w,U="subtitles";if(g.YM){var z=M.textTracks.length;$=z>0?M.textTracks[z-1]:M.addTextTrack(U),$.mode=C?(O=$.HIDDEN)!==null&&O!==void 0?O:"hidden":(P=$.SHOWING)!==null&&P!==void 0?P:"showing"}else w=document.createElement("track"),M.appendChild(w),$=w.track,w.kind=U,$.mode=C?"hidden":"showing";return{track:$,trackElement:w}}var h=r(3887);function b(M,C){var O=M.activeCues;if(O===null)return!1;for(var P=0;P<O.length;P++)if(O[P]===C)return!0;return!1}function y(M,C){if(g.vU&&b(M,C)){var O=M.mode;M.mode="hidden";try{M.removeCue(C)}catch{h.Z.warn("Compat: Could not remove cue from text track.")}M.mode=O;return}try{M.removeCue(C)}catch{h.Z.warn("Compat: Could not remove cue from text track.")}}var A=r(9612),k=r(4309),c=r(7874);function f(M,C,O,P){h.Z.debug("NTSB: Finding parser for native text tracks:",M);var $=c.Z.nativeTextTracksParsers[M];if(typeof $!="function")throw new Error("no parser found for the given text track");h.Z.debug("NTSB: Parser found, parsing...");var w=$(C,O,P);return h.Z.debug("NTSB: Parsed successfully!",w.length),w}var l=function(M){(0,p.Z)(C,M);function C(P,$){var w;h.Z.debug("NTSB: Creating NativeTextSegmentBuffer"),w=M.call(this)||this;var U=S(P,$),z=U.track,L=U.trackElement;return w.bufferType="text",w._buffered=new k.Z,w._videoElement=P,w._track=z,w._trackElement=L,w}var O=C.prototype;return O.pushChunk=function($){var w,U;if(h.Z.debug("NTSB: Appending new native text tracks"),$.data.chunk===null)return Promise.resolve();var z=$.data,L=z.timestampOffset,x=z.appendWindow,Z=z.chunk,Q=Z.start,re=Z.end,j=Z.data,ee=Z.type,ue=Z.language,ae=(w=x[0])!==null&&w!==void 0?w:0,D=(U=x[1])!==null&&U!==void 0?U:1/0;try{var H=f(ee,j,L,ue);if(ae!==0&&D!==1/0){for(var W=0;W<H.length&&H[W].endTime<=ae;)W++;for(H.splice(0,W),W=0;W<H.length&&H[W].startTime<ae;)H[W].startTime=ae,W++;for(W=H.length-1;W>=0&&H[W].startTime>=D;)W--;for(H.splice(W,H.length),W=H.length-1;W>=0&&H[W].endTime>D;)H[W].endTime=D,W--}var Y;if(Q!==void 0)Y=Math.max(ae,Q);else{if(H.length<=0)return h.Z.warn("NTSB: Current text tracks have no cues nor start time. Aborting"),Promise.resolve();h.Z.warn("NTSB: No start time given. Guessing from cues."),Y=H[0].startTime}var X;if(re!==void 0)X=Math.min(D,re);else{if(H.length<=0)return h.Z.warn("NTSB: Current text tracks have no cues nor end time. Aborting"),Promise.resolve();h.Z.warn("NTSB: No end time given. Guessing from cues."),X=H[H.length-1].endTime}if(X<=Y)return h.Z.warn("NTSB: Invalid text track appended: ","the start time is inferior or equal to the end time."),Promise.resolve();if(H.length>0){var ie=H[0],fe=this._track.cues;fe!==null&&fe.length>0&&ie.startTime<fe[fe.length-1].startTime&&this._removeData(ie.startTime,1/0);for(var be=0;be<H.length;be++)this._track.addCue(H[be])}this._buffered.insert(Y,X),$.inventoryInfos!==null&&this._segmentInventory.insertChunk($.inventoryInfos)}catch(ge){return Promise.reject(ge)}return Promise.resolve()},O.removeBuffer=function($,w){return this._removeData($,w),Promise.resolve()},O.endOfSegment=function($){return this._segmentInventory.completeSegment($,this._buffered),Promise.resolve()},O.getBufferedRanges=function(){return this._buffered},O.dispose=function(){h.Z.debug("NTSB: Aborting NativeTextSegmentBuffer"),this._removeData(0,1/0);var $=this._trackElement,w=this._videoElement;if($!==void 0&&w.hasChildNodes())try{w.removeChild($)}catch{h.Z.warn("NTSB: Can't remove track element from the video")}this._track.mode="disabled",this._trackElement!==void 0&&(this._trackElement.innerHTML="")},O._removeData=function($,w){h.Z.debug("NTSB: Removing native text track data",$,w);var U=this._track,z=U.cues;if(z!==null)for(var L=z.length-1;L>=0;L--){var x=z[L],Z=x.startTime,Q=x.endTime;Z>=$&&Z<=w&&Q<=w&&y(U,x)}this._buffered.remove($,w)},C}(A.C),I=l},9612:function(E,_,r){r.d(_,{C:function(){return U},f:function(){return z}});var p=r(6872),g=r(3887),S=r(520),h=r(5278);function b(L,x){var Z=typeof Symbol<"u"&&L[Symbol.iterator]||L["@@iterator"];if(Z)return(Z=Z.call(L)).next.bind(Z);if(Array.isArray(L)||(Z=y(L))||x&&L&&typeof L.length=="number"){Z&&(L=Z);var Q=0;return function(){return Q>=L.length?{done:!0}:{done:!1,value:L[Q++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(L,x){if(L){if(typeof L=="string")return A(L,x);var Z=Object.prototype.toString.call(L).slice(8,-1);if(Z==="Object"&&L.constructor&&(Z=L.constructor.name),Z==="Map"||Z==="Set")return Array.from(L);if(Z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Z))return A(L,x)}}function A(L,x){(x==null||x>L.length)&&(x=L.length);for(var Z=0,Q=new Array(x);Z<x;Z++)Q[Z]=L[Z];return Q}var k=function(){function L(Z,Q){this._history=[],this._lifetime=Z,this._maxHistoryLength=Q}var x=L.prototype;return x.addBufferedSegment=function(Q,re){var j=performance.now();this._history.push({date:j,buffered:re,context:Q}),this._cleanHistory(j)},x.getHistoryFor=function(Q){return this._history.filter(function(re){return(0,S.z)(re.context,Q)})},x._cleanHistory=function(Q){for(var re=Q-this._lifetime,j=0,ee=b(this._history),ue;!(ue=ee()).done;){var ae=ue.value;if(ae.date<re)j++;else break}if(j>0&&(this._history=this._history.splice(j)),this._history.length>this._maxHistoryLength){var D=this._history.length-this._maxHistoryLength;this._history=this._history.splice(D)}},L}();function c(L,x){var Z=typeof Symbol<"u"&&L[Symbol.iterator]||L["@@iterator"];if(Z)return(Z=Z.call(L)).next.bind(Z);if(Array.isArray(L)||(Z=f(L))||x&&L&&typeof L.length=="number"){Z&&(L=Z);var Q=0;return function(){return Q>=L.length?{done:!0}:{done:!1,value:L[Q++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f(L,x){if(L){if(typeof L=="string")return l(L,x);var Z=Object.prototype.toString.call(L).slice(8,-1);if(Z==="Object"&&L.constructor&&(Z=L.constructor.name),Z==="Map"||Z==="Set")return Array.from(L);if(Z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Z))return l(L,x)}}function l(L,x){(x==null||x>L.length)&&(x=L.length);for(var Z=0,Q=new Array(x);Z<x;Z++)Q[Z]=L[Z];return Q}var I=function(){function L(){var Z=p.Z.getCurrent(),Q=Z.BUFFERED_HISTORY_RETENTION_TIME,re=Z.BUFFERED_HISTORY_MAXIMUM_ENTRIES;this._inventory=[],this._bufferedHistory=new k(Q,re)}var x=L.prototype;return x.reset=function(){this._inventory.length=0},x.synchronizeBuffered=function(Q){for(var re=this._inventory,j=0,ee=re[0],ue=p.Z.getCurrent(),ae=ue.MINIMUM_SEGMENT_SIZE,D=ee==null?void 0:ee.infos.adaptation.type,H=Q.length,W=0;W<H;W++){if(ee===void 0)return;var Y=Q.start(W),X=Q.end(W);if(X-Y<ae){g.Z.warn("SI: skipped TimeRange when synchronizing because it was too small",D,Y,X);continue}for(var ie=j;ee!==void 0&&(0,h.Z)(ee.bufferedEnd,ee.end)-Y<ae;)ee=re[++j];var fe=null,be=j-ie;if(be>0){var ge=re[ie+be-1];fe={end:(0,h.Z)(ge.bufferedEnd,ge.end),precizeEnd:ge.precizeEnd},g.Z.debug("SI: "+be+" segments GCed.",D);for(var Be=re.splice(ie,be),Ke=c(Be),Ot;!(Ot=Ke()).done;){var kt=Ot.value;kt.bufferedStart===void 0&&kt.bufferedEnd===void 0&&this._bufferedHistory.addBufferedSegment(kt.infos,null)}j=ie}if(ee===void 0)return;if(X-(0,h.Z)(ee.bufferedStart,ee.start)>=ae){if(O(ee,Y,fe,D),j===re.length-1){P(ee,X,D);return}ee=re[++j];for(var He=(0,h.Z)(ee.bufferedStart,ee.start),je=(0,h.Z)(ee.bufferedEnd,ee.end),ve=W<H-1?Q.start(W+1):void 0;ee!==void 0&&X-He>=ae&&(ve===void 0||X-He>=je-ve);){var qe=re[j-1];qe.bufferedEnd===void 0&&(qe.bufferedEnd=ee.precizeStart?ee.start:qe.end,g.Z.debug("SI: calculating buffered end of contiguous segment",D,qe.bufferedEnd,qe.end)),ee.bufferedStart=qe.bufferedEnd,ee=re[++j],ee!==void 0&&(He=(0,h.Z)(ee.bufferedStart,ee.start),je=(0,h.Z)(ee.bufferedEnd,ee.end))}}var bt=re[j-1];bt!==void 0&&P(bt,X,D)}if(ee!=null){g.Z.debug("SI: last segments have been GCed",D,j,re.length);for(var vt=re.splice(j,re.length-j),et=c(vt),mt;!(mt=et()).done;){var ht=mt.value;ht.bufferedStart===void 0&&ht.bufferedEnd===void 0&&this._bufferedHistory.addBufferedSegment(ht.infos,null)}}D!==void 0&&g.Z.hasLevel("DEBUG")&&g.Z.debug("SI: current "+D+` inventory timeline:
`+$(this._inventory))},x.insertChunk=function(Q){var re=Q.period,j=Q.adaptation,ee=Q.representation,ue=Q.segment,ae=Q.chunkSize,D=Q.start,H=Q.end;if(!ue.isInit){var W=j.type;if(D>=H){g.Z.warn("SI: Invalid chunked inserted: starts before it ends",W,D,H);return}for(var Y=this._inventory,X={partiallyPushed:!0,chunkSize:ae,splitted:!1,start:D,end:H,precizeStart:!1,precizeEnd:!1,bufferedStart:void 0,bufferedEnd:void 0,infos:{segment:ue,period:re,adaptation:j,representation:ee}},ie=Y.length-1;ie>=0;ie--){var fe=Y[ie];if(fe.start<=D)if(fe.end<=D){for(g.Z.debug("SI: Pushing segment strictly after previous one.",W,D,fe.end),this._inventory.splice(ie+1,0,X),ie+=2;ie<Y.length&&Y[ie].start<X.end;){if(Y[ie].end>X.end){g.Z.debug("SI: Segment pushed updates the start of the next one",W,X.end,Y[ie].start),Y[ie].start=X.end,Y[ie].bufferedStart=void 0,Y[ie].precizeStart=Y[ie].precizeStart&&X.precizeEnd;return}g.Z.debug("SI: Segment pushed removes the next one",W,D,H,Y[ie].start,Y[ie].end),Y.splice(ie,1)}return}else if(fe.start===D)if(fe.end<=H){for(g.Z.debug("SI: Segment pushed replace another one",W,D,H,fe.end),this._inventory.splice(ie,1,X),ie+=1;ie<Y.length&&Y[ie].start<X.end;){if(Y[ie].end>X.end){g.Z.debug("SI: Segment pushed updates the start of the next one",W,X.end,Y[ie].start),Y[ie].start=X.end,Y[ie].bufferedStart=void 0,Y[ie].precizeStart=Y[ie].precizeStart&&X.precizeEnd;return}g.Z.debug("SI: Segment pushed removes the next one",W,D,H,Y[ie].start,Y[ie].end),Y.splice(ie,1)}return}else{g.Z.debug("SI: Segment pushed ends before another with the same start",W,D,H,fe.end),Y.splice(ie,0,X),fe.start=X.end,fe.bufferedStart=void 0,fe.precizeStart=fe.precizeStart&&X.precizeEnd;return}else if(fe.end<=X.end){for(g.Z.debug("SI: Segment pushed updates end of previous one",W,D,H,fe.start,fe.end),this._inventory.splice(ie+1,0,X),fe.end=X.start,fe.bufferedEnd=void 0,fe.precizeEnd=fe.precizeEnd&&X.precizeStart,ie+=2;ie<Y.length&&Y[ie].start<X.end;){if(Y[ie].end>X.end){g.Z.debug("SI: Segment pushed updates the start of the next one",W,X.end,Y[ie].start),Y[ie].start=X.end,Y[ie].bufferedStart=void 0,Y[ie].precizeStart=Y[ie].precizeStart&&X.precizeEnd;return}g.Z.debug("SI: Segment pushed removes the next one",W,D,H,Y[ie].start,Y[ie].end),Y.splice(ie,1)}return}else{g.Z.warn("SI: Segment pushed is contained in a previous one",W,D,H,fe.start,fe.end);var be={partiallyPushed:fe.partiallyPushed,chunkSize:fe.chunkSize,splitted:!0,start:X.end,end:fe.end,precizeStart:fe.precizeStart&&fe.precizeEnd&&X.precizeEnd,precizeEnd:fe.precizeEnd,bufferedStart:void 0,bufferedEnd:fe.end,infos:fe.infos};fe.end=X.start,fe.splitted=!0,fe.bufferedEnd=void 0,fe.precizeEnd=fe.precizeEnd&&X.precizeStart,Y.splice(ie+1,0,X),Y.splice(ie+2,0,be);return}}var ge=this._inventory[0];if(ge===void 0){g.Z.debug("SI: first segment pushed",W,D,H),this._inventory.push(X);return}if(ge.start>=H)g.Z.debug("SI: Segment pushed comes before all previous ones",W,D,H,ge.start),this._inventory.splice(0,0,X);else if(ge.end<=H){for(g.Z.debug("SI: Segment pushed starts before and completely recovers the previous first one",W,D,H,ge.start,ge.end),this._inventory.splice(0,1,X);Y.length>1&&Y[1].start<X.end;){if(Y[1].end>X.end){g.Z.debug("SI: Segment pushed updates the start of the next one",W,X.end,Y[1].start),Y[1].start=X.end,Y[1].bufferedStart=void 0,Y[1].precizeStart=X.precizeEnd;return}g.Z.debug("SI: Segment pushed removes the next one",W,D,H,Y[1].start,Y[1].end),Y.splice(1,1)}return}else{g.Z.debug("SI: Segment pushed start of the next one",W,D,H,ge.start,ge.end),ge.start=H,ge.bufferedStart=void 0,ge.precizeStart=X.precizeEnd,this._inventory.splice(0,0,X);return}}},x.completeSegment=function(Q,re){if(!Q.segment.isInit){for(var j=this._inventory,ee=[],ue=0;ue<j.length;ue++)if((0,S.z)(j[ue].infos,Q)){var ae=!1;ee.length>0&&(ae=!0,ee.length===1&&(g.Z.warn("SI: Completed Segment is splitted.",Q.segment.id,Q.segment.time,Q.segment.end),ee[0].splitted=!0));var D=ue,H=j[ue].chunkSize;for(ue+=1;ue<j.length&&(0,S.z)(j[ue].infos,Q);){var W=j[ue].chunkSize;H!==void 0&&W!==void 0&&(H+=W),ue++}var Y=ue-1,X=Y-D,ie=j[Y].end,fe=j[Y].bufferedEnd;X>0&&(this._inventory.splice(D+1,X),ue-=X),this._inventory[D].partiallyPushed=!1,this._inventory[D].chunkSize=H,this._inventory[D].end=ie,this._inventory[D].bufferedEnd=fe,this._inventory[D].splitted=ae,ee.push(this._inventory[D])}if(ee.length===0)g.Z.warn("SI: Completed Segment not found",Q.segment.id,Q.segment.time);else{this.synchronizeBuffered(re);for(var be=c(ee),ge;!(ge=be()).done;){var Be=ge.value;Be.bufferedStart!==void 0&&Be.bufferedEnd!==void 0?this._bufferedHistory.addBufferedSegment(Be.infos,{start:Be.bufferedStart,end:Be.bufferedEnd}):g.Z.debug("SI: buffered range not known after sync. Skipping history.",Be.start,Be.end)}}}},x.getInventory=function(){return this._inventory},x.getHistoryFor=function(Q){return this._bufferedHistory.getHistoryFor(Q)},L}();function M(L){if(L.bufferedStart===void 0||L.partiallyPushed)return!1;var x=L.start,Z=L.end,Q=Z-x,re=p.Z.getCurrent(),j=re.MAX_MANIFEST_BUFFERED_START_END_DIFFERENCE,ee=re.MAX_MANIFEST_BUFFERED_DURATION_DIFFERENCE;return Math.abs(x-L.bufferedStart)<=j&&(L.bufferedEnd===void 0||L.bufferedEnd>L.bufferedStart&&Math.abs(L.bufferedEnd-L.bufferedStart-Q)<=Math.min(ee,Q/3))}function C(L){if(L.bufferedEnd===void 0||L.partiallyPushed)return!1;var x=L.start,Z=L.end,Q=Z-x,re=p.Z.getCurrent(),j=re.MAX_MANIFEST_BUFFERED_START_END_DIFFERENCE,ee=re.MAX_MANIFEST_BUFFERED_DURATION_DIFFERENCE;return Math.abs(Z-L.bufferedEnd)<=j&&L.bufferedStart!=null&&L.bufferedEnd>L.bufferedStart&&Math.abs(L.bufferedEnd-L.bufferedStart-Q)<=Math.min(ee,Q/3)}function O(L,x,Z,Q){var re=p.Z.getCurrent(),j=re.MAX_MANIFEST_BUFFERED_START_END_DIFFERENCE;L.bufferedStart!==void 0?(L.bufferedStart<x&&(g.Z.debug("SI: Segment partially GCed at the start",Q,L.bufferedStart,x),L.bufferedStart=x),!L.precizeStart&&M(L)&&(L.start=L.bufferedStart,L.precizeStart=!0)):L.precizeStart?(g.Z.debug("SI: buffered start is precize start",Q,L.start),L.bufferedStart=L.start):Z!==null&&Z.end>x&&(Z.precizeEnd||L.start-Z.end<=j)?(g.Z.debug("SI: buffered start is end of previous segment",Q,x,L.start,Z.end),L.bufferedStart=Z.end,M(L)&&(L.start=Z.end,L.precizeStart=!0)):L.start-x<=j?(g.Z.debug("SI: found true buffered start",Q,x,L.start),L.bufferedStart=x,M(L)&&(L.start=x,L.precizeStart=!0)):x<L.start?g.Z.debug("SI: range start too far from expected start",Q,x,L.start):(g.Z.debug("SI: Segment appears immediately garbage collected at the start",Q,L.bufferedStart,x),L.bufferedStart=x)}function P(L,x,Z){var Q=p.Z.getCurrent(),re=Q.MAX_MANIFEST_BUFFERED_START_END_DIFFERENCE;L.bufferedEnd!==void 0?(L.bufferedEnd>x&&(g.Z.debug("SI: Segment partially GCed at the end",Z,L.bufferedEnd,x),L.bufferedEnd=x),!L.precizeEnd&&x-L.end<=re&&C(L)&&(L.precizeEnd=!0,L.end=x)):L.precizeEnd?(g.Z.debug("SI: buffered end is precize end",Z,L.end),L.bufferedEnd=L.end):x-L.end<=re?(g.Z.debug("SI: found true buffered end",Z,x,L.end),L.bufferedEnd=x,C(L)&&(L.end=x,L.precizeEnd=!0)):x>L.end?(g.Z.debug("SI: range end too far from expected end",Z,x,L.end),L.bufferedEnd=L.end):(g.Z.debug("SI: Segment appears immediately garbage collected at the end",Z,L.bufferedEnd,x),L.bufferedEnd=x)}function $(L){var x=.016666666666666666,Z={},Q=[],re=null,j=null;function ee(fe){var be=String.fromCharCode(Q.length+65);return Q.push({letter:be,periodId:fe.period.id,representationId:fe.representation.id,bitrate:fe.representation.bitrate}),be}for(var ue="",ae=0;ae<L.length;ae++){var D=L[ae];if(D.bufferedStart!==void 0&&D.bufferedEnd!==void 0){var H=D.infos.period.id,W=D.infos.representation.id,Y=Z[H],X=void 0;if(Y===void 0){var ie;X=ee(D.infos),Z[H]=(ie={},ie[W]=X,ie)}else Y[W]===void 0?(X=ee(D.infos),Y[W]=X):X=Y[W];re===null?ue+=D.bufferedStart.toFixed(2)+"|"+X+"|":j===X?re.bufferedEnd+x<D.bufferedStart&&(ue+=re.bufferedEnd.toFixed(2)+" ~ "+(D.bufferedStart.toFixed(2)+"|"+X+"|")):ue+=re.bufferedEnd.toFixed(2)+" ~ "+(D.bufferedStart.toFixed(2)+"|"+X+"|"),re=D,j=X}}return re!==null&&(ue+=String(re.end.toFixed(2))),Q.forEach(function(fe){var be;ue+=`
[`+fe.letter+"] "+("P: "+fe.periodId+" || R: "+fe.representationId)+("("+((be=fe.bitrate)!==null&&be!==void 0?be:"unknown bitrate")+")")}),ue}var w=I,U=function(){function L(){this._segmentInventory=new w}var x=L.prototype;return x.synchronizeInventory=function(){this._segmentInventory.synchronizeBuffered(this.getBufferedRanges())},x.getInventory=function(){return this._segmentInventory.getInventory()},x.getPendingOperations=function(){return[]},x.getSegmentHistory=function(Q){return this._segmentInventory.getHistoryFor(Q)},L}(),z;(function(L){L[L.Push=0]="Push",L[L.Remove=1]="Remove",L[L.EndOfSegment=2]="EndOfSegment"})(z||(z={}))},4309:function(E,_,r){r.d(_,{Z:function(){return g}});var p=r(2829),g=function(){function S(){this._ranges=[],this.length=0}var h=S.prototype;return h.insert=function(y,A){(0,p.kR)(this._ranges,{start:y,end:A}),this.length=this._ranges.length},h.remove=function(y,A){var k=[];y>0&&k.push({start:0,end:y}),A<1/0&&k.push({start:A,end:1/0}),this._ranges=(0,p.tn)(this._ranges,k),this.length=this._ranges.length},h.start=function(y){if(y>=this._ranges.length)throw new Error("INDEX_SIZE_ERROR");return this._ranges[y].start},h.end=function(y){if(y>=this._ranges.length)throw new Error("INDEX_SIZE_ERROR");return this._ranges[y].end},S}()},8567:function(E,_,r){var p=r(8026),g={activePeriodChanged:function(h){return{type:"activePeriodChanged",value:{period:h}}},adaptationChange:function(h,b,y){return{type:"adaptationChange",value:{type:h,adaptation:b,period:y}}},addedSegment:function(h,b,y,A){return{type:"added-segment",value:{content:h,segment:b,segmentData:A,buffered:y}}},bitrateEstimationChange:function(h,b){return{type:"bitrateEstimationChange",value:{type:h,bitrate:b}}},streamComplete:function(h){return{type:"complete-stream",value:{type:h}}},endOfStream:function(){return{type:"end-of-stream",value:void 0}},needsManifestRefresh:function(){return{type:"needs-manifest-refresh",value:void 0}},manifestMightBeOufOfSync:function(){return{type:"manifest-might-be-out-of-sync",value:void 0}},needsMediaSourceReload:function(h,b){return{type:"needs-media-source-reload",value:{position:h,autoPlay:b}}},lockedStream:function(h,b){return{type:"locked-stream",value:{bufferType:h,period:b}}},needsBufferFlush:function(){return{type:"needs-buffer-flush",value:void 0}},needsDecipherabilityFlush:function(h,b,y){return{type:"needs-decipherability-flush",value:{position:h,autoPlay:b,duration:y}}},periodStreamReady:function(h,b,y){return{type:"periodStreamReady",value:{type:h,period:b,adaptation$:y}}},periodStreamCleared:function(h,b){return{type:"periodStreamCleared",value:{type:h,period:b}}},encryptionDataEncountered:function(h,b){return{type:"encryption-data-encountered",value:(0,p.Z)({content:b},h)}},representationChange:function(h,b,y){return{type:"representationChange",value:{type:h,period:b,representation:y}}},streamTerminating:function(){return{type:"stream-terminating",value:void 0}},resumeStream:function(){return{type:"resume-stream",value:void 0}},warning:function(h){return{type:"warning",value:h}},waitingMediaSourceReload:function(h,b,y,A){return{type:"waiting-media-source-reload",value:{bufferType:h,period:b,position:y,autoPlay:A}}}};_.Z=g},7839:function(E,_,r){r.d(_,{Z:function(){return h}});var p=r(7326),g=r(4578),S=r(2146),h=function(b){(0,g.Z)(y,b);function y(A,k,c,f){var l;return l=b.call(this)||this,Object.setPrototypeOf((0,p.Z)(l),y.prototype),l.name="CustomLoaderError",l.message=A,l.canRetry=k,l.isOfflineError=c,l.xhr=f,l}return y}((0,S.Z)(Error))},5157:function(E,_,r){r.d(_,{Z:function(){return y}});var p=r(7326),g=r(4578),S=r(2146),h=r(5992),b=r(7367),y=function(A){(0,g.Z)(k,A);function k(c,f,l){var I;return I=A.call(this)||this,Object.setPrototypeOf((0,p.Z)(I),k.prototype),I.name="EncryptedMediaError",I.type=h.ZB.ENCRYPTED_MEDIA_ERROR,I.code=c,I.message=(0,b.Z)(I.name,I.code,f),I.fatal=!1,typeof(l==null?void 0:l.keyStatuses)=="string"&&(I.keyStatuses=l.keyStatuses),I}return k}((0,S.Z)(Error))},5992:function(E,_,r){r.d(_,{SM:function(){return S},ZB:function(){return p},br:function(){return g}});var p={NETWORK_ERROR:"NETWORK_ERROR",MEDIA_ERROR:"MEDIA_ERROR",ENCRYPTED_MEDIA_ERROR:"ENCRYPTED_MEDIA_ERROR",OTHER_ERROR:"OTHER_ERROR"},g={TIMEOUT:"TIMEOUT",ERROR_EVENT:"ERROR_EVENT",ERROR_HTTP_CODE:"ERROR_HTTP_CODE",PARSE_ERROR:"PARSE_ERROR"},S={PIPELINE_LOAD_ERROR:"PIPELINE_LOAD_ERROR",PIPELINE_PARSE_ERROR:"PIPELINE_PARSE_ERROR",INTEGRITY_ERROR:"INTEGRITY_ERROR",MANIFEST_PARSE_ERROR:"MANIFEST_PARSE_ERROR",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"MANIFEST_INCOMPATIBLE_CODECS_ERROR",MANIFEST_UPDATE_ERROR:"MANIFEST_UPDATE_ERROR",MANIFEST_UNSUPPORTED_ADAPTATION_TYPE:"MANIFEST_UNSUPPORTED_ADAPTATION_TYPE",MEDIA_STARTING_TIME_NOT_FOUND:"MEDIA_STARTING_TIME_NOT_FOUND",MEDIA_TIME_BEFORE_MANIFEST:"MEDIA_TIME_BEFORE_MANIFEST",MEDIA_TIME_AFTER_MANIFEST:"MEDIA_TIME_AFTER_MANIFEST",MEDIA_TIME_NOT_FOUND:"MEDIA_TIME_NOT_FOUND",NO_PLAYABLE_REPRESENTATION:"NO_PLAYABLE_REPRESENTATION",MEDIA_IS_ENCRYPTED_ERROR:"MEDIA_IS_ENCRYPTED_ERROR",CREATE_MEDIA_KEYS_ERROR:"CREATE_MEDIA_KEYS_ERROR",KEY_ERROR:"KEY_ERROR",KEY_STATUS_CHANGE_ERROR:"KEY_STATUS_CHANGE_ERROR",KEY_UPDATE_ERROR:"KEY_UPDATE_ERROR",KEY_LOAD_ERROR:"KEY_LOAD_ERROR",KEY_LOAD_TIMEOUT:"KEY_LOAD_TIMEOUT",KEY_GENERATE_REQUEST_ERROR:"KEY_GENERATE_REQUEST_ERROR",INCOMPATIBLE_KEYSYSTEMS:"INCOMPATIBLE_KEYSYSTEMS",INVALID_ENCRYPTED_EVENT:"INVALID_ENCRYPTED_EVENT",INVALID_KEY_SYSTEM:"INVALID_KEY_SYSTEM",LICENSE_SERVER_CERTIFICATE_ERROR:"LICENSE_SERVER_CERTIFICATE_ERROR",MULTIPLE_SESSIONS_SAME_INIT_DATA:"MULTIPLE_SESSIONS_SAME_INIT_DATA",BUFFER_APPEND_ERROR:"BUFFER_APPEND_ERROR",BUFFER_FULL_ERROR:"BUFFER_FULL_ERROR",BUFFER_TYPE_UNKNOWN:"BUFFER_TYPE_UNKNOWN",MEDIA_ERR_BLOCKED_AUTOPLAY:"MEDIA_ERR_BLOCKED_AUTOPLAY",MEDIA_ERR_PLAY_NOT_ALLOWED:"MEDIA_ERR_PLAY_NOT_ALLOWED",MEDIA_ERR_NOT_LOADED_METADATA:"MEDIA_ERR_NOT_LOADED_METADATA",MEDIA_ERR_ABORTED:"MEDIA_ERR_ABORTED",MEDIA_ERR_NETWORK:"MEDIA_ERR_NETWORK",MEDIA_ERR_DECODE:"MEDIA_ERR_DECODE",MEDIA_ERR_SRC_NOT_SUPPORTED:"MEDIA_ERR_SRC_NOT_SUPPORTED",MEDIA_ERR_UNKNOWN:"MEDIA_ERR_UNKNOWN",MEDIA_SOURCE_NOT_SUPPORTED:"MEDIA_SOURCE_NOT_SUPPORTED",MEDIA_KEYS_NOT_SUPPORTED:"MEDIA_KEYS_NOT_SUPPORTED",DISCONTINUITY_ENCOUNTERED:"DISCONTINUITY_ENCOUNTERED",NONE:"NONE"}},7367:function(E,_,r){r.d(_,{Z:function(){return p}});function p(g,S,h){return g+" ("+S+") "+h}},8750:function(E,_,r){r.d(_,{Z:function(){return S}});var p=r(9822),g=r(5389);function S(h,b){var y=b.defaultCode,A=b.defaultReason;if((0,p.Z)(h))return h;var k=h instanceof Error?h.toString():A;return new g.Z(y,k)}},9822:function(E,_,r){r.d(_,{Z:function(){return y}});var p=r(5157),g=r(5992),S=r(3714),h=r(9362),b=r(5389);function y(A){return(A instanceof p.Z||A instanceof S.Z||A instanceof b.Z||A instanceof h.Z)&&Object.keys(g.ZB).indexOf(A.type)>=0}},3714:function(E,_,r){r.d(_,{Z:function(){return y}});var p=r(7326),g=r(4578),S=r(2146),h=r(5992),b=r(7367),y=function(A){(0,g.Z)(k,A);function k(c,f){var l;return l=A.call(this)||this,Object.setPrototypeOf((0,p.Z)(l),k.prototype),l.name="MediaError",l.type=h.ZB.MEDIA_ERROR,l.code=c,l.message=(0,b.Z)(l.name,l.code,f),l.fatal=!1,l}return k}((0,S.Z)(Error))},9362:function(E,_,r){r.d(_,{Z:function(){return y}});var p=r(7326),g=r(4578),S=r(2146),h=r(5992),b=r(7367),y=function(A){(0,g.Z)(k,A);function k(f,l){var I;return I=A.call(this)||this,Object.setPrototypeOf((0,p.Z)(I),k.prototype),I.name="NetworkError",I.type=h.ZB.NETWORK_ERROR,I.xhr=l.xhr===void 0?null:l.xhr,I.url=l.url,I.status=l.status,I.errorType=l.type,I.code=f,I.message=(0,b.Z)(I.name,I.code,l.message),I.fatal=!1,I}var c=k.prototype;return c.isHttpError=function(l){return this.errorType===h.br.ERROR_HTTP_CODE&&this.status===l},k}((0,S.Z)(Error))},5389:function(E,_,r){r.d(_,{Z:function(){return y}});var p=r(7326),g=r(4578),S=r(2146),h=r(5992),b=r(7367),y=function(A){(0,g.Z)(k,A);function k(c,f){var l;return l=A.call(this)||this,Object.setPrototypeOf((0,p.Z)(l),k.prototype),l.name="OtherError",l.type=h.ZB.OTHER_ERROR,l.code=c,l.message=(0,b.Z)(l.name,l.code,f),l.fatal=!1,l}return k}((0,S.Z)(Error))},9105:function(E,_,r){r.d(_,{Z:function(){return h}});var p=r(7326),g=r(4578),S=r(2146),h=function(b){(0,g.Z)(y,b);function y(A,k,c,f){var l;return l=b.call(this)||this,Object.setPrototypeOf((0,p.Z)(l),y.prototype),l.name="RequestError",l.url=A,f!==void 0&&(l.xhr=f),l.status=k,l.type=c,l.message=c,l}return y}((0,S.Z)(Error))},7273:function(E,_){var r={dashParsers:{wasm:null,js:null},directfile:null,ContentDecryptor:null,htmlTextTracksBuffer:null,htmlTextTracksParsers:{},imageBuffer:null,imageParser:null,nativeTextTracksBuffer:null,nativeTextTracksParsers:{},transports:{}};_.Z=r},7874:function(E,_,r){var p=r(7273);_.Z=p.Z},3887:function(E,_,r){r.d(_,{Z:function(){return b}});var p=r(8894),g="NONE",S=function(){function y(){this.error=p.Z,this.warn=p.Z,this.info=p.Z,this.debug=p.Z,this._levels={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4},this._currentLevel=g}var A=y.prototype;return A.setLevel=function(c){var f,l=this._levels[c];typeof l=="number"?(f=l,this._currentLevel=c):(f=0,this._currentLevel="NONE"),this.error=f>=this._levels.ERROR?console.error.bind(console):p.Z,this.warn=f>=this._levels.WARNING?console.warn.bind(console):p.Z,this.info=f>=this._levels.INFO?console.info.bind(console):p.Z,this.debug=f>=this._levels.DEBUG?console.log.bind(console):p.Z},A.getLevel=function(){return this._currentLevel},A.hasLevel=function(c){return this._levels[c]>=this._levels[this._currentLevel]},y}(),h=new S,b=h},8999:function(E,_,r){r.d(_,{r:function(){return P},Z:function(){return $}});var p=r(3274),g=r(1946),S=r(7829);function h(w){return w.filter(function(U,z,L){return L.indexOf(U)===z})}function b(w){return Array.from(new Set(w))}var y=typeof window<"u"&&typeof window.Set=="function"&&typeof Array.from=="function"?b:h,A=r(3774);function k(w){return A.J==null?!1:typeof A.J.isTypeSupported=="function"?A.J.isTypeSupported(w):!0}var c=r(3887),f=r(4791);function l(w,U){var z=typeof Symbol<"u"&&w[Symbol.iterator]||w["@@iterator"];if(z)return(z=z.call(w)).next.bind(z);if(Array.isArray(w)||(z=I(w))||U&&w&&typeof w.length=="number"){z&&(w=z);var L=0;return function(){return L>=w.length?{done:!0}:{done:!1,value:w[L++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I(w,U){if(w){if(typeof w=="string")return M(w,U);var z=Object.prototype.toString.call(w).slice(8,-1);if(z==="Object"&&w.constructor&&(z=w.constructor.name),z==="Map"||z==="Set")return Array.from(w);if(z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(z))return M(w,U)}}function M(w,U){(U==null||U>w.length)&&(U=w.length);for(var z=0,L=new Array(U);z<U;z++)L[z]=w[z];return L}var C=function(){function w(z,L){this.id=z.id,this.bitrate=z.bitrate,this.codec=z.codecs,z.height!==void 0&&(this.height=z.height),z.width!==void 0&&(this.width=z.width),z.mimeType!==void 0&&(this.mimeType=z.mimeType),z.contentProtections!==void 0&&(this.contentProtections=z.contentProtections),z.frameRate!==void 0&&(this.frameRate=z.frameRate),z.hdrInfo!==void 0&&(this.hdrInfo=z.hdrInfo),this.cdnMetadata=z.cdnMetadata,this.index=z.index,this.isSupported=L.type==="audio"||L.type==="video"?k(this.getMimeTypeString()):!0}var U=w.prototype;return U.getMimeTypeString=function(){var L,x;return((L=this.mimeType)!==null&&L!==void 0?L:"")+';codecs="'+((x=this.codec)!==null&&x!==void 0?x:"")+'"'},U.getEncryptionData=function(L){for(var x,Z,Q=this.getAllEncryptionData(),re=[],j=0;j<Q.length;j++)for(var ee=!1,ue=Q[j],ae=0;ae<ue.values.length;ae++)if(ue.values[ae].systemId.toLowerCase()===L.toLowerCase())if(ee)re[re.length-1].values.push(ue.values[ae]);else{var D=(Z=(x=this.contentProtections)===null||x===void 0?void 0:x.keyIds)===null||Z===void 0?void 0:Z.map(function(H){return H.keyId});re.push({type:ue.type,keyIds:D,values:[ue.values[ae]]}),ee=!0}return re},U.getAllEncryptionData=function(){var L,x;if(this.contentProtections===void 0||this.contentProtections.initData.length===0)return[];var Z=(x=(L=this.contentProtections)===null||L===void 0?void 0:L.keyIds)===null||x===void 0?void 0:x.map(function(Q){return Q.keyId});return this.contentProtections.initData.map(function(Q){return{type:Q.type,keyIds:Z,values:Q.values}})},U._addProtectionData=function(L,x,Z){var Q=!1;if(this.contentProtections===void 0)return this.contentProtections={keyIds:x!==void 0?[{keyId:x}]:[],initData:[{type:L,values:Z}]},!0;if(x!==void 0){var re=this.contentProtections.keyIds;if(re===void 0)this.contentProtections.keyIds=[{keyId:x}];else{for(var j=!1,ee=l(re),ue;!(ue=ee()).done;){var ae=ue.value;(0,f.Z)(ae.keyId,x)&&(j=!0)}j||(c.Z.warn("Manifest: found unanounced key id."),re.push({keyId:x}))}}for(var D=this.contentProtections.initData,H=0;H<D.length;H++)if(D[H].type===L){for(var W=D[H].values,Y=0;Y<Z.length;Y++){var X=Z[Y],ie=void 0;for(ie=0;ie<W.length;ie++)if(X.systemId===W[ie].systemId){if((0,f.Z)(X.data,W[ie].data))break;c.Z.warn("Manifest: different init data for the same system ID")}ie===W.length&&(W.push(X),Q=!0)}return Q}return this.contentProtections.initData.push({type:L,values:Z}),!0},w}(),O=C,P=["audio","video","text","image"],$=function(){function w(z,L){L===void 0&&(L={});var x=z.trickModeTracks,Z=L,Q=Z.representationFilter,re=Z.isManuallyAdded;this.id=z.id,this.type=z.type,z.isTrickModeTrack!==void 0&&(this.isTrickModeTrack=z.isTrickModeTrack),z.language!==void 0&&(this.language=z.language,this.normalizedLanguage=(0,S.ZP)(z.language)),z.closedCaption!==void 0&&(this.isClosedCaption=z.closedCaption),z.audioDescription!==void 0&&(this.isAudioDescription=z.audioDescription),z.isDub!==void 0&&(this.isDub=z.isDub),z.isSignInterpreted!==void 0&&(this.isSignInterpreted=z.isSignInterpreted),z.label!==void 0&&(this.label=z.label),x!==void 0&&x.length>0&&(this.trickModeTracks=x.map(function(W){return new w(W)}));for(var j=z.representations,ee=[],ue=!1,ae=0;ae<j.length;ae++){var D=new O(j[ae],{type:this.type}),H=(0,g.Z)(Q)||Q(D,{bufferType:this.type,language:this.language,normalizedLanguage:this.normalizedLanguage,isClosedCaption:this.isClosedCaption,isDub:this.isDub,isAudioDescription:this.isAudioDescription,isSignInterpreted:this.isSignInterpreted});H&&(ee.push(D),!ue&&D.isSupported&&(ue=!0))}ee.sort(function(W,Y){return W.bitrate-Y.bitrate}),this.representations=ee,this.isSupported=ue,this.manuallyAdded=re===!0}var U=w.prototype;return U.getAvailableBitrates=function(){for(var L=[],x=0;x<this.representations.length;x++){var Z=this.representations[x];Z.decipherable!==!1&&L.push(Z.bitrate)}return y(L)},U.getPlayableRepresentations=function(){return this.representations.filter(function(L){return L.isSupported&&L.decipherable!==!1})},U.getRepresentation=function(L){return(0,p.Z)(this.representations,function(x){var Z=x.id;return L===Z})},w}()},1989:function(E,_,r){r.d(_,{ZP:function(){return re}});var p=r(4578),g=r(3714),S=r(3274),h=r(1959),b=r(908),y=r(9829),A=r(8806),k=r(8999),c=r(1679),f=function(){function j(ue,ae){var D=this;if(this.contentWarnings=[],this.id=ue.id,this.adaptations=Object.keys(ue.adaptations).reduce(function(H,W){var Y=ue.adaptations[W];if(Y==null)return H;var X=Y.map(function(ie){var fe=new k.Z(ie,{representationFilter:ae});if(fe.representations.length>0&&!fe.isSupported){var be=new g.Z("MANIFEST_INCOMPATIBLE_CODECS_ERROR","An Adaptation contains only incompatible codecs.");D.contentWarnings.push(be)}return fe}).filter(function(ie){return ie.representations.length>0});if(X.every(function(ie){return!ie.isSupported})&&Y.length>0&&(W==="video"||W==="audio"))throw new g.Z("MANIFEST_PARSE_ERROR","No supported "+W+" adaptations");return X.length>0&&(H[W]=X),H},{}),!Array.isArray(this.adaptations.video)&&!Array.isArray(this.adaptations.audio))throw new g.Z("MANIFEST_PARSE_ERROR","No supported audio and video tracks.");this.duration=ue.duration,this.start=ue.start,this.duration!=null&&this.start!=null&&(this.end=this.start+this.duration),this.streamEvents=ue.streamEvents===void 0?[]:ue.streamEvents}var ee=j.prototype;return ee.getAdaptations=function(){var ae=this.adaptations;return(0,c.Z)(ae).reduce(function(D,H){return H!=null?D.concat(H):D},[])},ee.getAdaptationsForType=function(ae){var D=this.adaptations[ae];return D??[]},ee.getAdaptation=function(ae){return(0,S.Z)(this.getAdaptations(),function(D){var H=D.id;return ae===H})},ee.getSupportedAdaptations=function(ae){if(ae===void 0)return this.getAdaptations().filter(function(H){return H.isSupported});var D=this.adaptations[ae];return D===void 0?[]:D.filter(function(H){return H.isSupported})},ee.containsTime=function(ae){return ae>=this.start&&(this.end===void 0||ae<this.end)},j}(),l=r(3887),I=function(){function j(ue){this._url=ue.media}var ee=j.prototype;return ee.getInitSegment=function(){return null},ee.getSegments=function(){return[{id:"0",isInit:!1,number:0,url:this._url,time:0,end:Number.MAX_VALUE,duration:Number.MAX_VALUE,complete:!0,privateInfos:{},timescale:1}]},ee.getFirstAvailablePosition=function(){},ee.getLastAvailablePosition=function(){},ee.getEnd=function(){},ee.awaitSegmentBetween=function(){return!1},ee.shouldRefresh=function(){return!1},ee.checkDiscontinuity=function(){return null},ee.isSegmentStillAvailable=function(){return!0},ee.canBeOutOfSyncError=function(){return!1},ee.isFinished=function(){return!0},ee.isInitialized=function(){return!0},ee._replace=function(){l.Z.warn("Tried to replace a static RepresentationIndex")},ee._update=function(){l.Z.warn("Tried to update a static RepresentationIndex")},j}(),M;(function(j){j[j.Full=0]="Full",j[j.Partial=1]="Partial"})(M||(M={}));var C=r(5138);function O(j,ee,ue){j.start=ee.start,j.end=ee.end,j.duration=ee.duration,j.streamEvents=ee.streamEvents;for(var ae=j.getAdaptations(),D=ee.getAdaptations(),H=function(X){var ie=ae[X],fe=(0,S.Z)(D,function(Ot){return Ot.id===ie.id});if(fe===void 0)l.Z.warn('Manifest: Adaptation "'+ae[X].id+'" not found when merging.');else for(var be=ae[X].representations,ge=fe.representations,Be=function(kt){var He=be[kt],je=(0,S.Z)(ge,function(ve){return ve.id===He.id});je===void 0?l.Z.warn('Manifest: Representation "'+be[kt].id+'" not found when merging.'):(He.cdnMetadata=je.cdnMetadata,ue===M.Full?He.index._replace(je.index):He.index._update(je.index))},Ke=0;Ke<be.length;Ke++)Be(Ke)},W=0;W<ae.length;W++)H(W)}function P(j,ee){for(var ue=0,ae=0;ae<ee.length;ae++){for(var D=ee[ae],H=ue,W=j[H];W!=null&&W.id!==D.id;)H++,W=j[H];if(W!=null){O(W,D,M.Full);var Y=ee.slice(ue,ae),X=H-ue;j.splice.apply(j,[ue,X].concat(Y)),ue=ae+1}}if(ue>j.length){l.Z.error("Manifest: error when updating Periods");return}ue<j.length&&j.splice(ue,j.length-ue);var ie=ee.slice(ue,ee.length);ie.length>0&&j.push.apply(j,ie)}function $(j,ee){if(j.length===0){j.splice.apply(j,[0,0].concat(ee));return}if(ee.length!==0){var ue=j[j.length-1];if(ue.start<ee[0].start){if(ue.end!==ee[0].start)throw new g.Z("MANIFEST_UPDATE_ERROR","Cannot perform partial update: not enough data");j.push.apply(j,ee);return}var ae=(0,C.Z)(j,function(ie){var fe=ie.id;return fe===ee[0].id});if(ae<0)throw new g.Z("MANIFEST_UPDATE_ERROR","Cannot perform partial update: incoherent data");O(j[ae],ee[0],M.Partial);for(var D=ae+1,H=1;H<ee.length;H++){for(var W=ee[H],Y=-1,X=D;X<j.length;X++)if(W.id===j[X].id){Y=X;break}if(Y<0){j.splice.apply(j,[D,j.length-D].concat(ee.slice(H,ee.length)));return}Y>D&&(j.splice(D,Y-D),Y=D),O(j[Y],W,M.Full),D++}D<j.length&&j.splice(D,j.length-D)}}function w(j,ee){var ue=typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if(ue)return(ue=ue.call(j)).next.bind(ue);if(Array.isArray(j)||(ue=U(j))||ee&&j&&typeof j.length=="number"){ue&&(j=ue);var ae=0;return function(){return ae>=j.length?{done:!0}:{done:!1,value:j[ae++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U(j,ee){if(j){if(typeof j=="string")return z(j,ee);var ue=Object.prototype.toString.call(j).slice(8,-1);if(ue==="Object"&&j.constructor&&(ue=j.constructor.name),ue==="Map"||ue==="Set")return Array.from(j);if(ue==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ue))return z(j,ee)}}function z(j,ee){(ee==null||ee>j.length)&&(ee=j.length);for(var ue=0,ae=new Array(ee);ue<ee;ue++)ae[ue]=j[ue];return ae}var L=(0,b.Z)(),x=(0,b.Z)(),Z=function(j){(0,p.Z)(ee,j);function ee(ae,D){var H,W;H=j.call(this)||this;var Y=D.supplementaryTextTracks,X=Y===void 0?[]:Y,ie=D.supplementaryImageTracks,fe=ie===void 0?[]:ie,be=D.representationFilter,ge=D.manifestUpdateUrl;return H.contentWarnings=[],H.id=x(),H.expired=(W=ae.expired)!==null&&W!==void 0?W:null,H.transport=ae.transportType,H.clockOffset=ae.clockOffset,H.periods=ae.periods.map(function(Be){var Ke,Ot=new f(Be,be);return(Ke=H.contentWarnings).push.apply(Ke,Ot.contentWarnings),Ot}).sort(function(Be,Ke){return Be.start-Ke.start}),H.adaptations=H.periods[0]===void 0?{}:H.periods[0].adaptations,H._timeBounds=ae.timeBounds,H.isDynamic=ae.isDynamic,H.isLive=ae.isLive,H.isLastPeriodKnown=ae.isLastPeriodKnown,H.uris=ae.uris===void 0?[]:ae.uris,H.updateUrl=ge,H.lifetime=ae.lifetime,H.suggestedPresentationDelay=ae.suggestedPresentationDelay,H.availabilityStartTime=ae.availabilityStartTime,H.publishTime=ae.publishTime,fe.length>0&&H._addSupplementaryImageAdaptations(fe),X.length>0&&H._addSupplementaryTextAdaptations(X),H}var ue=ee.prototype;return ue.getPeriod=function(D){return(0,S.Z)(this.periods,function(H){return D===H.id})},ue.getPeriodForTime=function(D){return(0,S.Z)(this.periods,function(H){return D>=H.start&&(H.end===void 0||H.end>D)})},ue.getNextPeriod=function(D){return(0,S.Z)(this.periods,function(H){return H.start>D})},ue.getPeriodAfter=function(D){var H=D.end;if(H===void 0)return null;var W=(0,S.Z)(this.periods,function(Y){return Y.end===void 0||H<Y.end});return W===void 0?null:W},ue.getUrl=function(){return this.uris[0]},ue.replace=function(D){this._performUpdate(D,M.Full)},ue.update=function(D){this._performUpdate(D,M.Partial)},ue.getMinimumSafePosition=function(){var D,H,W=this._timeBounds;if(W.timeshiftDepth===null)return(D=W.minimumSafePosition)!==null&&D!==void 0?D:0;var Y=W.maximumTimeData,X;if(!W.maximumTimeData.isLinear)X=Y.maximumSafePosition;else{var ie=performance.now()-Y.time;X=Y.maximumSafePosition+ie/1e3}var fe=X-W.timeshiftDepth;return Math.max((H=W.minimumSafePosition)!==null&&H!==void 0?H:0,fe)},ue.getLivePosition=function(){var D=this._timeBounds.maximumTimeData;if(!(!this.isLive||D.livePosition===void 0)){if(!D.isLinear)return D.livePosition;var H=performance.now()-D.time;return D.livePosition+H/1e3}},ue.getMaximumSafePosition=function(){var D=this._timeBounds.maximumTimeData;if(!D.isLinear)return D.maximumSafePosition;var H=performance.now()-D.time;return D.maximumSafePosition+H/1e3},ue.updateRepresentationsDeciperability=function(D){var H=Q(this,D);H.length>0&&this.trigger("decipherabilityUpdate",H)},ue.getAdaptations=function(){(0,A.Z)("manifest.getAdaptations() is deprecated. Please use manifest.period[].getAdaptations() instead");var D=this.periods[0];if(D===void 0)return[];var H=D.adaptations,W=[];for(var Y in H)if(H.hasOwnProperty(Y)){var X=H[Y];W.push.apply(W,X)}return W},ue.getAdaptationsForType=function(D){(0,A.Z)("manifest.getAdaptationsForType(type) is deprecated. Please use manifest.period[].getAdaptationsForType(type) instead");var H=this.periods[0];if(H===void 0)return[];var W=H.adaptations[D];return W===void 0?[]:W},ue.getAdaptation=function(D){return(0,A.Z)("manifest.getAdaptation(id) is deprecated. Please use manifest.period[].getAdaptation(id) instead"),(0,S.Z)(this.getAdaptations(),function(H){var W=H.id;return D===W})},ue._addSupplementaryImageAdaptations=function(D){var H=this,W=Array.isArray(D)?D:[D],Y=W.map(function(ie){var fe=ie.mimeType,be=ie.url,ge="gen-image-ada-"+L(),Be="gen-image-rep-"+L(),Ke=(0,y.$)(be),Ot=be.substring(0,Ke),kt=be.substring(Ke),He=new k.Z({id:ge,type:"image",representations:[{bitrate:0,cdnMetadata:[{baseUrl:Ot}],id:Be,mimeType:fe,index:new I({media:kt})}]},{isManuallyAdded:!0});if(He.representations.length>0&&!He.isSupported){var je=new g.Z("MANIFEST_INCOMPATIBLE_CODECS_ERROR","An Adaptation contains only incompatible codecs.");H.contentWarnings.push(je)}return He});if(Y.length>0&&this.periods.length>0){var X=this.periods[0].adaptations;X.image=X.image!=null?X.image.concat(Y):Y}},ue._addSupplementaryTextAdaptations=function(D){var H=this,W=Array.isArray(D)?D:[D],Y=W.reduce(function(ie,fe){var be=fe.mimeType,ge=fe.codecs,Be=fe.url,Ke=fe.language,Ot=fe.languages,kt=fe.closedCaption,He=Ke!=null?[Ke]:Ot??[],je=(0,y.$)(Be),ve=Be.substring(0,je),qe=Be.substring(je);return ie.concat(He.map(function(bt){var vt="gen-text-ada-"+L(),et="gen-text-rep-"+L(),mt=new k.Z({id:vt,type:"text",language:bt,closedCaption:kt,representations:[{bitrate:0,cdnMetadata:[{baseUrl:ve}],id:et,mimeType:be,codecs:ge,index:new I({media:qe})}]},{isManuallyAdded:!0});if(mt.representations.length>0&&!mt.isSupported){var ht=new g.Z("MANIFEST_INCOMPATIBLE_CODECS_ERROR","An Adaptation contains only incompatible codecs.");H.contentWarnings.push(ht)}return mt}))},[]);if(Y.length>0&&this.periods.length>0){var X=this.periods[0].adaptations;X.text=X.text!=null?X.text.concat(Y):Y}},ue._performUpdate=function(D,H){if(this.availabilityStartTime=D.availabilityStartTime,this.expired=D.expired,this.isDynamic=D.isDynamic,this.isLive=D.isLive,this.isLastPeriodKnown=D.isLastPeriodKnown,this.lifetime=D.lifetime,this.contentWarnings=D.contentWarnings,this.suggestedPresentationDelay=D.suggestedPresentationDelay,this.transport=D.transport,this.publishTime=D.publishTime,H===M.Full)this._timeBounds=D._timeBounds,this.uris=D.uris,P(this.periods,D.periods);else{this._timeBounds.maximumTimeData=D._timeBounds.maximumTimeData,this.updateUrl=D.uris[0],$(this.periods,D.periods);for(var W=this.getMinimumSafePosition();this.periods.length>0;){var Y=this.periods[0];if(Y.end===void 0||Y.end>W)break;this.periods.shift()}}this.adaptations=this.periods[0]===void 0?{}:this.periods[0].adaptations,this.trigger("manifestUpdate",null)},ee}(h.Z);function Q(j,ee){for(var ue=[],ae=w(j.periods),D;!(D=ae()).done;)for(var H=D.value,W=w(H.getAdaptations()),Y;!(Y=W()).done;)for(var X=Y.value,ie=w(X.representations),fe;!(fe=ie()).done;){var be=fe.value,ge=ee(be);ge!==be.decipherable&&(ue.push({manifest:j,period:H,adaptation:X,representation:be}),be.decipherable=ge)}return ue}var re=Z},520:function(E,_,r){r.d(_,{K:function(){return S},z:function(){return g}});var p=r(1946);function g(h,b){return h.segment.id===b.segment.id&&h.representation.id===b.representation.id&&h.adaptation.id===b.adaptation.id&&h.period.id===b.period.id}function S(h){if((0,p.Z)(h))return"";var b=h.period,y=h.adaptation,A=h.representation,k=h.segment;return y.type+" P: "+b.id+" A: "+y.id+" "+("R: "+A.id+" S: ")+(k.isInit?"init":k.complete?k.time+"-"+k.duration:""+k.time)}},2689:function(E,_,r){r.d(_,{s:function(){return p}});var p=Math.pow(2,32)-1},2297:function(E,_,r){r.d(_,{Qy:function(){return l},Xj:function(){return M},iz:function(){return f},lp:function(){return c},nR:function(){return I},t_:function(){return k},vA:function(){return A}});var p=r(3887),g=r(811),S=r(6968);function h(C,O){var P=typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(P)return(P=P.call(C)).next.bind(P);if(Array.isArray(C)||(P=b(C))||O&&C&&typeof C.length=="number"){P&&(C=P);var $=0;return function(){return $>=C.length?{done:!0}:{done:!1,value:C[$++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b(C,O){if(C){if(typeof C=="string")return y(C,O);var P=Object.prototype.toString.call(C).slice(8,-1);if(P==="Object"&&C.constructor&&(P=C.constructor.name),P==="Map"||P==="Set")return Array.from(C);if(P==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return y(C,O)}}function y(C,O){(O==null||O>C.length)&&(O=C.length);for(var P=0,$=new Array(O);P<O;P++)$[P]=C[P];return $}function A(C,O){for(var P=C,$=h(O),w;!(w=$()).done;){var U=w.value,z=k(P,U);if(z===null)return null;P=z}return P}function k(C,O){var P=l(C,O);return P!==null?C.subarray(P[1],P[2]):null}function c(C,O){for(var P=[],$=C;;){var w=l($,O);if(w===null)return P;(0,g.Z)(w[2]!==0&&$.length!==0),P.push($.subarray(w[1],w[2])),$=$.subarray(w[2])}}function f(C,O){var P=l(C,O);return P!==null?C.subarray(P[0],P[2]):null}function l(C,O){for(var P=C.length,$=0,w,U=0,z;$+8<=P;){if(z=$,U=(0,S.pX)(C,z),z+=4,w=(0,S.pX)(C,z),z+=4,U===0)U=P-$;else if(U===1){if(z+8>P)return null;U=(0,S.pV)(C,z),z+=8}if(U<0)throw new Error("ISOBMFF: Size out of range");if(w===O)return O===1970628964&&(z+=16),[$,z,$+U];$+=U}return null}function I(C,O,P,$,w){for(var U=C.length,z,L=0;L<U;L+=z){var x=L;z=(0,S.pX)(C,x),x+=4;var Z=(0,S.pX)(C,x);if(x+=4,z===0)z=U-L;else if(z===1){if(x+8>U)return;z=(0,S.pV)(C,x),x+=8}if(Z===1970628964&&x+16<=U&&(0,S.pX)(C,x)===O&&(0,S.pX)(C,x+4)===P&&(0,S.pX)(C,x+8)===$&&(0,S.pX)(C,x+12)===w)return x+=16,C.subarray(x,L+z)}}function M(C){var O=C.length;if(O<8)return p.Z.warn("ISOBMFF: box inferior to 8 bytes, cannot find offsets"),null;var P=0,$=(0,S.pX)(C,P);P+=4;var w=(0,S.pX)(C,P);if(P+=4,$===0)$=O;else if($===1){if(P+8>O)return p.Z.warn("ISOBMFF: box too short, cannot find offsets"),null;$=(0,S.pV)(C,P),P+=8}if($<0)throw new Error("ISOBMFF: Size out of range");return w===1970628964&&(P+=16),[0,P,$]}},6807:function(E,_,r){r.d(_,{E3:function(){return y},Le:function(){return h},XA:function(){return g},fs:function(){return b},uq:function(){return S}});var p=r(2297);function g(A){var k=(0,p.t_)(A,1836019558);return k===null?null:(0,p.t_)(k,1953653094)}function S(A){var k=(0,p.lp)(A,1836019558);return k.reduce(function(c,f){var l=(0,p.t_)(f,1953653094);return l!==null&&c.push(l),c},[])}function h(A){return(0,p.t_)(A,1835295092)}function b(A){var k=(0,p.t_)(A,1836019574);if(k===null)return null;var c=(0,p.t_)(k,1953653099);return c===null?null:(0,p.t_)(c,1835297121)}function y(A,k){return k===void 0&&(k=0),(0,p.t_)(A.subarray(k),1701671783)}},6490:function(E,_,r){r.d(_,{Z:function(){return A},Y:function(){return k}});var p=r(3887);function g(c,f,l){return new Uint8Array(Array.prototype.slice.call(c,f,l))}function S(c,f,l){return c.slice(f,l)}var h=typeof Uint8Array.prototype.slice=="function"?S:g,b=r(3635),y=r(2297);function A(c){var f=0,l=(0,y.t_)(c,1836019574);if(l===null)return[];for(var I=[];f<l.length;){var M=void 0;try{M=(0,y.Qy)(l,1886614376)}catch($){var C=$ instanceof Error?$:"";return p.Z.warn("Error while removing PSSH from ISOBMFF",C),I}if(M==null)return I;var O=h(l,M[0],M[2]),P=k(O,M[1]-M[0]);P!==void 0&&I.push({systemId:P,data:O}),l[M[0]+4]=102,l[M[0]+5]=114,l[M[0]+6]=101,l[M[0]+7]=101,f=M[2]}return I}function k(c,f){if(c[f]>1){p.Z.warn("ISOBMFF: un-handled PSSH version");return}var l=f+4;if(!(l+16>c.length)){var I=h(c,l,l+16);return(0,b.ci)(I)}}},4644:function(E,_,r){r.d(_,{J6:function(){return O},LD:function(){return C},MM:function(){return M},Qx:function(){return l},R0:function(){return $},Wf:function(){return f},s9:function(){return P}});var p=r(3887),g=r(6968),S=r(3635),h=r(2689),b=r(2297),y=r(6807);function A(w,U){var z=typeof Symbol<"u"&&w[Symbol.iterator]||w["@@iterator"];if(z)return(z=z.call(w)).next.bind(z);if(Array.isArray(w)||(z=k(w))||U&&w&&typeof w.length=="number"){z&&(w=z);var L=0;return function(){return L>=w.length?{done:!0}:{done:!1,value:w[L++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k(w,U){if(w){if(typeof w=="string")return c(w,U);var z=Object.prototype.toString.call(w).slice(8,-1);if(z==="Object"&&w.constructor&&(z=w.constructor.name),z==="Map"||z==="Set")return Array.from(w);if(z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(z))return c(w,U)}}function c(w,U){(U==null||U>w.length)&&(U=w.length);for(var z=0,L=new Array(U);z<U;z++)L[z]=w[z];return L}function f(w,U){var z=(0,b.Qy)(w,1936286840);if(z===null)return null;var L=U,x=z[2]-z[0],Z=z[1],Q=w[Z];Z+=8;var re=(0,g.pX)(w,Z);Z+=4;var j;if(Q===0)j=(0,g.pX)(w,Z),Z+=4,L+=(0,g.pX)(w,Z)+x,Z+=4;else if(Q===1)j=(0,g.pV)(w,Z),Z+=8,L+=(0,g.pV)(w,Z)+x,Z+=8;else return null;var ee=[];Z+=2;var ue=(0,g.zK)(w,Z);for(Z+=2;--ue>=0;){var ae=(0,g.pX)(w,Z);Z+=4;var D=(ae&2147483648)>>>31,H=ae&2147483647;if(D===1)throw new Error("sidx with reference_type `1` not yet implemented");var W=(0,g.pX)(w,Z);Z+=4,Z+=4,ee.push({time:j,duration:W,timescale:re,range:[L,L+H-1]}),j+=W,L+=H}return ee}function l(w){var U=(0,y.XA)(w);if(U!==null){var z=(0,b.t_)(U,1952867444);if(z!==null){var L=z[0];return L===1?(0,g.pV)(z,4):L===0?(0,g.pX)(z,4):void 0}}}function I(w){var U=(0,b.t_)(w,1952868452);if(U!==null){var z=1,L=(0,g.QI)(U,z);z+=3;var x=(L&1)>0,Z=(L&2)>0,Q=(L&8)>0;if(Q){z+=4,x&&(z+=8),Z&&(z+=4);var re=(0,g.pX)(U,z);return re}}}function M(w){var U=(0,y.uq)(w);if(U.length!==0){for(var z=0,L=A(U),x;!(x=L()).done;){var Z=x.value,Q=(0,b.t_)(Z,1953658222);if(Q===null)return;var re=0,j=Q[re];if(re+=1,j>1)return;var ee=(0,g.QI)(Q,re);re+=3;var ue=(ee&256)>0,ae=0;if(!ue&&(ae=I(Z),ae===void 0))return;var D=(ee&1)>0,H=(ee&4)>0,W=(ee&512)>0,Y=(ee&1024)>0,X=(ee&2048)>0,ie=(0,g.pX)(Q,re);re+=4,D&&(re+=4),H&&(re+=4);for(var fe=ie,be=0;fe-- >0;)ue?(be+=(0,g.pX)(Q,re),re+=4):be+=ae,W&&(re+=4),Y&&(re+=4),X&&(re+=4);z+=be}return z}}function C(w){var U=(0,y.fs)(w);if(U!==null){var z=(0,b.t_)(U,1835296868);if(z!==null){var L=0,x=z[L];return L+=4,x===1?(0,g.pX)(z,L+16):x===0?(0,g.pX)(z,L+8):void 0}}}function O(w){var U=w.length;if(U<4)throw new Error("Cannot update box length: box too short");var z=(0,g.pX)(w,0);if(z===0)if(U>h.s){var L=new Uint8Array(U+8);return L.set((0,g.kh)(1),0),L.set(w.subarray(4,8),4),L.set((0,g.el)(U+8),8),L.set(w.subarray(8,U),16),L}else return w.set((0,g.kh)(U),0),w;else if(z===1){if(U<16)throw new Error("Cannot update box length: box too short");return w.set((0,g.el)(U),8),w}else{if(U<=h.s)return w.set((0,g.kh)(U),0),w;var x=new Uint8Array(U+8);return x.set((0,g.kh)(1),0),x.set(w.subarray(4,8),4),x.set((0,g.el)(U+8),8),x.set(w.subarray(8,U),16),x}}function P(w){for(var U=[],z=0;z<w.length;){var L=(0,y.E3)(w,z);if(L===null)break;var x=L.length;z+=x;var Z=L[0];if(Z!==0)p.Z.warn("ISOBMFF: EMSG version "+Z.toString()+" not supported.");else{var Q=4,re=(0,S.DM)(L,Q),j=re.end,ee=re.string;Q=j;var ue=(0,S.DM)(L,Q),ae=ue.end,D=ue.string;Q=ae;var H=(0,g.pX)(L,Q);Q+=4;var W=(0,g.pX)(L,Q);Q+=4;var Y=(0,g.pX)(L,Q);Q+=4;var X=(0,g.pX)(L,Q);Q+=4;var ie=L.subarray(Q,x),fe={schemeIdUri:ee,value:D,timescale:H,presentationTimeDelta:W,eventDuration:Y,id:X,messageData:ie};U.push(fe)}}if(U.length!==0)return U}function $(w){var U=(0,b.vA)(w,[1836019574,1953653099,1835297121,1835626086,1937007212,1937011556]);if(U===null)return null;var z=U.subarray(8),L=(0,b.t_)(z,1701733238),x=0;if(L===null?(x=28,L=(0,b.t_)(z,1701733217)):x=78,L===null)return null;var Z=(0,b.vA)(L.subarray(x),[1936289382,1935894633,1952804451]);return Z===null||Z.byteLength<24?null:Z.subarray(8,24)}},3203:function(E,_,r){var p=r(6968),g=r(3635);function S(h){var b=0,y=h.length,A=(0,g.uR)(h.subarray(b+1,b+8));if(b+=8,h[0]!==137||A!==`BIF\r

`)throw new Error("Invalid BIF file");var k=h[b];b+=1;var c=h[b];b+=1;var f=h[b];b+=1;var l=h[b];b+=1;var I=[k,c,f,l].join(".");if(c>0)throw new Error("Unhandled version: "+c);var M=(0,p.dN)(h,b);b+=4;var C=(0,p.dN)(h,b);b+=4;var O=(0,g.uR)(h.subarray(b,b+4));b+=4;var P=(0,p.qb)(h,b);b+=2;var $=(0,p.qb)(h,b);b+=2;var w=[h[b],h[b+1]].join(":");b+=2;var U=h[b]===1;b=64;var z=[];if(M===0)throw new Error("bif: no images to parse");for(var L=0,x=null;b<y;){var Z=(0,p.dN)(h,b);b+=4;var Q=(0,p.dN)(h,b);if(b+=4,x!==null){var re=x.timestamp*C,j=C,ee=h.slice(x.offset,Q);z.push({index:L,duration:j,ts:re,data:ee}),L++}if(Z===4294967295)break;x={timestamp:Z,offset:Q}}return{fileFormat:"BIF",version:I,imageCount:M,timescale:1e3,format:O,width:P,height:$,aspectRatio:w,isVod:U,thumbs:z}}_.Z=S},7403:function(E,_,r){r.d(_,{Z:function(){return A}});var p=r(3887),g=r(3911),S=r(1915),h=r(6394),b=r(4784);function y(k,c){if(c.timescale!==k.timescale){var f=k.timescale;k.timeline.push({start:c.time/c.timescale*f,duration:c.duration/c.timescale*f,repeatCount:c.count===void 0?0:c.count,range:c.range})}else k.timeline.push({start:c.time,duration:c.duration,repeatCount:c.count===void 0?0:c.count,range:c.range});return!0}var A=function(){function k(f,l){var I,M,C,O=l.periodStart,P=l.periodEnd,$=l.representationId,w=l.representationBitrate,U=l.isEMSGWhitelisted,z=(I=f.timescale)!==null&&I!==void 0?I:1,L=f.presentationTimeOffset!=null?f.presentationTimeOffset:0,x=L-O*z,Z=((M=f.initialization)===null||M===void 0?void 0:M.media)===void 0?null:(0,b.zA)(f.initialization.media,$,w),Q=f.media===void 0?null:(0,b.zA)(f.media,$,w),re=f.initialization!==void 0?f.initialization.range:f.indexRange!==void 0?[0,f.indexRange[0]-1]:void 0;this._index={indexRange:f.indexRange,indexTimeOffset:x,initialization:{url:Z,range:re},segmentUrlTemplate:Q,startNumber:f.startNumber,timeline:(C=f.timeline)!==null&&C!==void 0?C:[],timescale:z},this._scaledPeriodStart=(0,g.gT)(O,this._index),this._scaledPeriodEnd=P==null?void 0:(0,g.gT)(P,this._index),this._isInitialized=this._index.timeline.length>0,this._isEMSGWhitelisted=U}var c=k.prototype;return c.getInitSegment=function(){return(0,S.Z)(this._index,this._isEMSGWhitelisted)},c.getSegments=function(l,I){return(0,h.Z)(this._index,l,I,this._isEMSGWhitelisted,this._scaledPeriodEnd)},c.shouldRefresh=function(){return!1},c.getFirstAvailablePosition=function(){var l=this._index;return l.timeline.length===0?null:(0,g.zG)(Math.max(this._scaledPeriodStart,l.timeline[0].start),l)},c.getLastAvailablePosition=function(){var l,I=this._index.timeline;if(I.length===0)return null;var M=I[I.length-1],C=Math.min((0,g.jH)(M,null,this._scaledPeriodEnd),(l=this._scaledPeriodEnd)!==null&&l!==void 0?l:1/0);return(0,g.zG)(C,this._index)},c.getEnd=function(){return this.getLastAvailablePosition()},c.awaitSegmentBetween=function(){return!1},c.isSegmentStillAvailable=function(){return!0},c.checkDiscontinuity=function(){return null},c.initializeIndex=function(l){for(var I=0;I<l.length;I++)y(this._index,l[I]);this._isInitialized=!0},c.canBeOutOfSyncError=function(){return!1},c.isFinished=function(){return!0},c.isInitialized=function(){return this._isInitialized},c._replace=function(l){this._index=l._index,this._isInitialized=l._isInitialized,this._scaledPeriodEnd=l._scaledPeriodEnd,this._isEMSGWhitelisted=l._isEMSGWhitelisted},c._update=function(){p.Z.error("Base RepresentationIndex: Cannot update a SegmentList")},k}()},1915:function(E,_,r){r.d(_,{Z:function(){return p}});function p(g,S){var h,b=g.initialization,y={};return S!==void 0&&(y.isEMSGWhitelisted=S),{id:"init",isInit:!0,time:0,end:0,duration:0,timescale:1,range:b!=null?b.range:void 0,indexRange:g.indexRange,url:(h=b==null?void 0:b.url)!==null&&h!==void 0?h:null,complete:!0,privateInfos:y,timestampOffset:-(g.indexTimeOffset/g.timescale)}}},6394:function(E,_,r){r.d(_,{Z:function(){return h}});var p=r(3911),g=r(4784);function S(b,y,A){var k=A-b;return k>0?Math.floor(k/y):0}function h(b,y,A,k,c){for(var f=(0,p.gT)(y,b),l=(0,p.gT)(y+A,b),I=b.timeline,M=b.timescale,C=b.segmentUrlTemplate,O=b.startNumber,P=O??1,$=[],w=I.length,U=0;U<w;U++){for(var z=I[U],L=z.duration,x=z.start,Z=z.range,Q=(0,p.KF)(z,I[U+1],c),re=b.availabilityTimeComplete!==!1||U!==w-1&&Q!==0,j=S(x,L,f),ee=x+j*L;ee<l&&j<=Q;){var ue=P+j,ae=C===null?null:(0,g.QB)(ee,ue)(C),D=ee-b.indexTimeOffset,H=L;D<0&&(H=L+D,D=0);var W={id:String(ee),time:D/M,end:(D+H)/M,duration:H/M,isInit:!1,range:Z,timescale:1,url:ae,number:ue,timestampOffset:-(b.indexTimeOffset/M),complete:re,privateInfos:{isEMSGWhitelisted:k}};$.push(W),j++,ee=x+j*L}if(ee>=l)return $;P+=Q+1}return $}},4784:function(E,_,r){r.d(_,{QB:function(){return y},zA:function(){return h}});var p=r(6923);function g(A,k){var c=A.toString();if(c.length>=k)return c;var f=new Array(k+1).join("0")+c;return f.slice(-k)}function S(A){return function(k,c,f){var l=(0,p.Z)(f)?parseInt(f,10):1;return g(String(A),l)}}function h(A,k,c){return b(A,k,c)}function b(A,k,c){return A.indexOf("$")===-1?A:A.replace(/\$\$/g,"$").replace(/\$RepresentationID\$/g,String(k)).replace(/\$Bandwidth(\%0(\d+)d)?\$/g,S(c===void 0?0:c))}function y(A,k){return function(f){return f.indexOf("$")===-1?f:f.replace(/\$\$/g,"$").replace(/\$Number(\%0(\d+)d)?\$/g,function(l,I,M){if(k===void 0)throw new Error("Segment number not defined in a $Number$ scheme");return S(k)(l,I,M)}).replace(/\$Time(\%0(\d+)d)?\$/g,function(l,I,M){if(A===void 0)throw new Error("Segment time not defined in a $Time$ scheme");return S(A)(l,I,M)})}}},4541:function(E,_,r){r.d(_,{Z:function(){return xn}});var p=r(7904),g=r(1946),S=r(6872),h=r(3887),b=r(3274),y=r(9829);function A(K){var B=Date.parse(K)-performance.now();if(isNaN(B)){h.Z.warn("DASH Parser: Invalid clock received: ",K);return}return B}function k(K){var B=K.children.utcTimings.filter(function(V){return(V.schemeIdUri==="urn:mpeg:dash:utc:http-iso:2014"||V.schemeIdUri==="urn:mpeg:dash:utc:http-xsdate:2014")&&V.value!==void 0});return B.length>0?B[0].value:void 0}function c(K){for(var B=K.representations,V=null,F=0;F<B.length;F++){var se=B[F].index.getLastAvailablePosition();if(se===void 0)return;se!==null&&(V=V==null?se:Math.min(V,se))}return V===null?null:V}function f(K){for(var B=K.length-1;B>=0;B--){var V=K[B].adaptations,F=V.audio===void 0?void 0:V.audio[0],se=V.video===void 0?void 0:V.video[0];if(F!==void 0||se!==void 0){var ne=null,Se=null;if(F!==void 0){var Re=c(F);if(Re===void 0)return{safe:void 0,unsafe:void 0};ne=Re}if(se!==void 0){var Ce=c(se);if(Ce===void 0)return{safe:void 0,unsafe:void 0};Se=Ce}if(F!==void 0&&ne===null||se!==void 0&&Se===null)return h.Z.info("Parser utils: found Period with no segment. ","Going to previous one to calculate last position"),{safe:void 0,unsafe:void 0};if(Se!==null)return ne!==null?{safe:Math.min(ne,Se),unsafe:Math.max(ne,Se)}:{safe:Se,unsafe:Se};if(ne!==null)return{safe:ne,unsafe:ne}}}return{safe:void 0,unsafe:void 0}}function l(K){for(var B=K.representations,V=null,F=0;F<B.length;F++){var se=B[F].index.getFirstAvailablePosition();if(se===void 0)return;se!==null&&(V=V==null?se:Math.max(V,se))}return V===null?null:V}function I(K){for(var B=0;B<=K.length-1;B++){var V=K[B].adaptations,F=V.audio===void 0?void 0:V.audio[0],se=V.video===void 0?void 0:V.video[0];if(F!==void 0||se!==void 0){var ne=null,Se=null;if(F!==void 0){var Re=l(F);if(Re===void 0)return;ne=Re}if(se!==void 0){var Ce=l(se);if(Ce===void 0)return;Se=Ce}if(F!==void 0&&ne===null||se!==void 0&&Se===null){h.Z.info("Parser utils: found Period with no segment. ","Going to next one to calculate first position");return}if(Se!==null)return ne!==null?Math.max(ne,Se):Se;if(ne!==null)return ne}}}function M(K){if(K.length===0)throw new Error("DASH Parser: no period available for a dynamic content");var B=I(K),V=f(K);return{minimumSafePosition:B,maximumSafePosition:V.safe,maximumUnsafePosition:V.unsafe}}function C(K,B){return K.type!=="dynamic"?0:K.availabilityStartTime==null?B??0:K.availabilityStartTime}var O=r(9592),P=r(908),$=r(1679),w=r(3635);function U(K){if(K.length===0)return[];for(var B=[K[0]],V=1;V<K.length;V++){for(var F=K[V],se=B[B.length-1];(se.duration===void 0||se.start+se.duration>F.start)&&(h.Z.warn("DASH: Updating overlapping Periods.",se==null?void 0:se.start,F.start),se.duration=F.start-se.start,se.end=F.start,!(se.duration>0));)B.pop(),se=B[B.length-1];B.push(F)}return B}function z(K,B){var V=[];return K.forEach(function(F,se){var ne;if(F.attributes.start!=null)ne=F.attributes.start;else if(se===0)ne=!B.isDynamic||B.availabilityStartTime==null?0:B.availabilityStartTime;else{var Se=V[V.length-1];if(Se!=null&&Se.periodEnd!=null)ne=Se.periodEnd;else throw new Error("Missing start time when parsing periods.")}var Re,Ce=K[se+1];F.attributes.duration!=null?Re=F.attributes.duration:se===K.length-1?Re=B.duration:Ce.attributes.start!=null&&(Re=Ce.attributes.start-ne);var We=Re!=null?ne+Re:void 0;V.push({periodStart:ne,periodDuration:Re,periodEnd:We})}),V}var L=function(){function K(V){this._isDynamic=V.isDynamic,this._timeShiftBufferDepth=!V.isDynamic||V.timeShiftBufferDepth===void 0?null:V.timeShiftBufferDepth}var B=K.prototype;return B.setLastPosition=function(F,se){this._lastPosition=F,this._positionTime=se},B.lastPositionIsKnown=function(){return this._isDynamic?this._positionTime!=null&&this._lastPosition!=null:this._lastPosition!=null},B.estimateMinimumBound=function(){if(!this._isDynamic||this._timeShiftBufferDepth===null)return 0;var F=this.estimateMaximumBound();if(F!==void 0){var se=F-this._timeShiftBufferDepth;return se}},B.estimateMaximumBound=function(){return this._isDynamic&&this._positionTime!=null&&this._lastPosition!=null?Math.max(this._lastPosition-this._positionTime+performance.now()/1e3,0):this._lastPosition},K}(),x=r(8999),Z=r(5138),Q=r(7714),re=r(6923);function j(K,B){var V=typeof Symbol<"u"&&K[Symbol.iterator]||K["@@iterator"];if(V)return(V=V.call(K)).next.bind(V);if(Array.isArray(K)||(V=ee(K))||B&&K&&typeof K.length=="number"){V&&(K=V);var F=0;return function(){return F>=K.length?{done:!0}:{done:!1,value:K[F++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ee(K,B){if(K){if(typeof K=="string")return ue(K,B);var V=Object.prototype.toString.call(K).slice(8,-1);if(V==="Object"&&K.constructor&&(V=K.constructor.name),V==="Map"||V==="Set")return Array.from(K);if(V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return ue(K,B)}}function ue(K,B){(B==null||B>K.length)&&(B=K.length);for(var V=0,F=new Array(B);V<B;V++)F[V]=K[V];return F}function ae(K,B){for(var V=j(B),F;!(F=V()).done;)for(var se=F.value,ne=se.adaptation,Se=se.trickModeAttachedAdaptationIds,Re=j(Se),Ce;!(Ce=Re()).done;)for(var We=Ce.value,Je=j(x.r),at;!(at=Je()).done;){var Le=at.value,ut=K[Le];if(ut!==void 0)for(var yt=j(ut),lt;!(lt=yt()).done;){var _t=lt.value;_t.id===We&&(_t.trickModeTracks===void 0&&(_t.trickModeTracks=[]),_t.trickModeTracks.push(ne))}}}var D=ae,H=["subtitle","caption"];function W(K,B,V,F){function se(lt,_t){var Et=lt.split("/")[0];if((0,Q.Z)(x.r,Et))return Et;if(lt==="application/bif")return"image";if(lt==="application/ttml+xml")return"text";if(lt==="application/mp4")return _t!=null&&(0,b.Z)(_t,function(Pt){return Pt.schemeIdUri==="urn:mpeg:dash:role:2011"&&(0,Q.Z)(H,Pt.value)})!=null?"text":void 0}function ne(lt){switch(lt.substring(0,3)){case"avc":case"hev":case"hvc":case"vp8":case"vp9":case"av1":return"video";case"vtt":return"text";case"bif":return"image"}switch(lt.substring(0,4)){case"mp4a":return"audio";case"wvtt":case"stpp":return"text"}}if(B!==null){var Se=se(B,F);if(Se!==void 0)return Se}if(V!==null){var Re=ne(V);if(Re!==void 0)return Re}for(var Ce=0;Ce<K.length;Ce++){var We=K[Ce],Je=We.attributes,at=Je.mimeType,Le=Je.codecs;if(at!==void 0){var ut=se(at,F);if(ut!==void 0)return ut}if(Le!==void 0){var yt=ne(Le);if(yt!==void 0)return yt}}}var Y=r(8026);function X(K){var B=K.split("."),V=B[0];B[1],B[2];var F=B[3];B[4];var se=B[5],ne=B[6],Se=B[7];if(!(V!=="vp08"&&V!=="vp09"&&V!=="vp10")){var Re,Ce,We;if((F!==void 0&&F==="10"||F==="12")&&(Re=parseInt(F,10)),ne!==void 0&&(ne==="16"?Ce="pq":ne==="18"&&(Ce="hlg")),se!==void 0&&Se!==void 0&&se==="09"&&Se==="09"&&(We="rec2020"),!(Re===void 0||Ce===void 0))return{colorDepth:Re,eotf:Ce,colorSpace:We}}}var ie=r(7403),fe=r(3911),be=r(1915),ge=r(4784),Be=function(){function K(V,F){var se,ne;if(V.duration===void 0)throw new Error("Invalid SegmentList: no duration");var Se=F.periodStart,Re=F.periodEnd,Ce=F.representationId,We=F.representationBitrate,Je=F.isEMSGWhitelisted;this._isEMSGWhitelisted=Je,this._periodStart=Se,this._periodEnd=Re;var at=V.presentationTimeOffset!=null?V.presentationTimeOffset:0,Le=(se=V.timescale)!==null&&se!==void 0?se:1,ut=at-Se*Le,yt=((ne=V.initialization)===null||ne===void 0?void 0:ne.media)===void 0?null:(0,ge.zA)(V.initialization.media,Ce,We),lt=V.list.map(function(_t){return{url:_t.media===void 0?null:(0,ge.zA)(_t.media,Ce,We),mediaRange:_t.mediaRange}});this._index={list:lt,timescale:Le,duration:V.duration,indexTimeOffset:ut,indexRange:V.indexRange,initialization:V.initialization==null?void 0:{url:yt,range:V.initialization.range}}}var B=K.prototype;return B.getInitSegment=function(){var F=(0,be.Z)(this._index);return F.privateInfos===void 0&&(F.privateInfos={}),F.privateInfos.isEMSGWhitelisted=this._isEMSGWhitelisted,F},B.getSegments=function(F,se){for(var ne=this._index,Se=ne.duration,Re=ne.list,Ce=ne.timescale,We=Se/Ce,Je=F-this._periodStart,at=(0,fe.PZ)(Je,se,Ce),Le=at[0],ut=at[1],yt=Math.min(Re.length-1,Math.floor(ut/Se)),lt=[],_t=Math.floor(Le/Se);_t<=yt;){var Et=Re[_t].mediaRange,Pt=Re[_t].url,qt=_t*We+this._periodStart,an={id:String(_t),time:qt,isInit:!1,range:Et,duration:We,timescale:1,end:qt+We,url:Pt,timestampOffset:-(ne.indexTimeOffset/Ce),complete:!0,privateInfos:{isEMSGWhitelisted:this._isEMSGWhitelisted}};lt.push(an),_t++}return lt},B.shouldRefresh=function(F,se){return!1},B.getFirstAvailablePosition=function(){return this._periodStart},B.getLastAvailablePosition=function(){var F,se=this._index,ne=se.duration,Se=se.list;return Math.min(Se.length*ne/se.timescale+this._periodStart,(F=this._periodEnd)!==null&&F!==void 0?F:1/0)},B.getEnd=function(){return this.getLastAvailablePosition()},B.awaitSegmentBetween=function(){return!1},B.isSegmentStillAvailable=function(){return!0},B.checkDiscontinuity=function(){return null},B.canBeOutOfSyncError=function(){return!1},B.isFinished=function(){return!0},B.isInitialized=function(){return!0},B._replace=function(F){this._index=F._index},B._update=function(){h.Z.error("List RepresentationIndex: Cannot update a SegmentList")},K}(),Ke=r(9362),Ot=r(811),kt=r(8232),He=r(1091),je=r(5505),ve=r(6394);function qe(K){return S.Z.getCurrent().DEFAULT_MAXIMUM_TIME_ROUNDING_ERROR*K}function bt(K,B,V){var F=K.start,se=K.duration,ne=K.repeatCount;return F===void 0&&(B===null?F=0:(0,g.Z)(B.duration)||(F=B.start+B.duration*(B.repeatCount+1))),(se===void 0||isNaN(se))&&V!==null&&V.start!==void 0&&!isNaN(V.start)&&F!==void 0&&!isNaN(F)&&(se=V.start-F),F!==void 0&&!isNaN(F)&&se!==void 0&&!isNaN(se)&&(ne===void 0||!isNaN(ne))?{start:F,duration:se,repeatCount:ne===void 0?0:ne}:(h.Z.warn('DASH: A "S" Element could not have been parsed.'),null)}function vt(K){for(var B={},V=0;V<K.attributes.length;V++){var F=K.attributes[V];switch(F.name){case"t":var se=parseInt(F.value,10);isNaN(se)?h.Z.warn('DASH: invalid t ("'+F.value+'")'):B.start=se;break;case"d":var ne=parseInt(F.value,10);isNaN(ne)?h.Z.warn('DASH: invalid d ("'+F.value+'")'):B.duration=ne;break;case"r":var Se=parseInt(F.value,10);isNaN(Se)?h.Z.warn('DASH: invalid r ("'+F.value+'")'):B.repeatCount=Se;break}}return B}function et(K){for(var B=[],V=0;V<K.length;V++)B.push(vt(K[V]));for(var F=[],se=0;se<B.length;se++){var ne=B[se],Se=F[F.length-1]===void 0?null:F[F.length-1],Re=B[se+1]===void 0?null:B[se+1],Ce=bt(ne,Se,Re);Ce!==null&&F.push(Ce)}return F}function mt(K,B){if(K.length===0||B.length===0)return null;var V=K[0].start,F=B[0].getAttribute("t"),se=F===null?null:parseInt(F,10);if(se===null||Number.isNaN(se))return null;if(V===se)return{prevSegmentsIdx:0,newElementsIdx:0,repeatNumberInPrevSegments:0,repeatNumberInNewElements:0};if(V<se)for(var ne=K[0],Se=0;;){if(ne.repeatCount>0){var Re=se-ne.start;if(Re%ne.duration===0&&Re/ne.duration<=ne.repeatCount){var Ce=Re/ne.duration;return{repeatNumberInPrevSegments:Ce,prevSegmentsIdx:Se,newElementsIdx:0,repeatNumberInNewElements:0}}}if(Se++,Se>=K.length)return null;if(ne=K[Se],ne.start===se)return{prevSegmentsIdx:Se,newElementsIdx:0,repeatNumberInPrevSegments:0,repeatNumberInNewElements:0};if(ne.start>se)return null}else for(var We=0,Je=B[0],at=se;;){var Le=Je.getAttribute("d"),ut=Le===null?null:parseInt(Le,10);if(ut===null||Number.isNaN(ut))return null;var yt=Je.getAttribute("r"),lt=yt===null?null:parseInt(yt,10);if(lt!==null){if(Number.isNaN(lt)||lt<0)return null;if(lt>0){var _t=V-at;if(_t%ut===0&&_t/ut<=lt){var Et=_t/ut;return{repeatNumberInPrevSegments:0,repeatNumberInNewElements:Et,prevSegmentsIdx:0,newElementsIdx:We}}}at+=ut*(lt+1)}else at+=ut;if(We++,We>=B.length)return null;Je=B[We];var Pt=Je.getAttribute("t"),qt=Pt===null?null:parseInt(Pt,10);if(qt!==null){if(Number.isNaN(qt))return null;at=qt}if(at===V)return{newElementsIdx:We,prevSegmentsIdx:0,repeatNumberInPrevSegments:0,repeatNumberInNewElements:0};if(at>se)return null}}function ht(K,B){var V,F=mt(B,K);if(F===null)return h.Z.warn('DASH: Cannot perform "based" update. Common segment not found.'),et(K);var se=F.prevSegmentsIdx,ne=F.newElementsIdx,Se=F.repeatNumberInPrevSegments,Re=F.repeatNumberInNewElements,Ce=B.length-se,We=Ce+ne-1;if(We>=K.length)return h.Z.info('DASH: Cannot perform "based" update. New timeline too short'),et(K);var Je=B.slice(se);if(Se>0){var at=Je[0];at.start+=at.duration*Se,Je[0].repeatCount-=Se}if(Re>0&&ne!==0)return h.Z.info('DASH: Cannot perform "based" update. The new timeline has a different form.'),et(K);var Le=Je[Je.length-1],ut=vt(K[We]),yt=((V=ut.repeatCount)!==null&&V!==void 0?V:0)-Re;if(ut.duration!==Le.duration||Le.repeatCount>yt)return h.Z.info('DASH: Cannot perform "based" update. The new timeline has a different form at the beginning.'),et(K);ut.repeatCount!==void 0&&ut.repeatCount>Le.repeatCount&&(Le.repeatCount=ut.repeatCount);for(var lt=[],_t=[],Et=We+1;Et<K.length;Et++)_t.push(vt(K[Et]));for(var Pt=0;Pt<_t.length;Pt++){var qt=_t[Pt],an=lt[lt.length-1]===void 0?Le:lt[lt.length-1],un=_t[Pt+1]===void 0?null:_t[Pt+1],cn=bt(qt,an,un);cn!==null&&lt.push(cn)}return Je.concat(lt)}var St=function(){function K(V,F){var se,ne,Se,Re;if(!K.isTimelineIndexArgument(V))throw new Error("The given index is not compatible with a TimelineRepresentationIndex.");var Ce=F.availabilityTimeComplete,We=F.manifestBoundsCalculator,Je=F.isDynamic,at=F.isLastPeriod,Le=F.representationId,ut=F.representationBitrate,yt=F.periodStart,lt=F.periodEnd,_t=F.isEMSGWhitelisted,Et=(se=V.timescale)!==null&&se!==void 0?se:1,Pt=V.presentationTimeOffset!=null?V.presentationTimeOffset:0,qt=yt*Et,an=Pt-qt;this._manifestBoundsCalculator=We,this._isEMSGWhitelisted=_t,this._isLastPeriod=at,this._lastUpdate=F.receivedTime==null?performance.now():F.receivedTime,this._unsafelyBaseOnPreviousIndex=null,F.unsafelyBaseOnPreviousRepresentation!==null&&F.unsafelyBaseOnPreviousRepresentation.index instanceof K&&(F.unsafelyBaseOnPreviousRepresentation.index._unsafelyBaseOnPreviousIndex=null,this._unsafelyBaseOnPreviousIndex=F.unsafelyBaseOnPreviousRepresentation.index),this._isDynamic=Je,this._parseTimeline=(ne=V.timelineParser)!==null&&ne!==void 0?ne:null;var un=((Se=V.initialization)===null||Se===void 0?void 0:Se.media)===void 0?null:(0,ge.zA)(V.initialization.media,Le,ut),cn=V.media===void 0?null:(0,ge.zA)(V.media,Le,ut);this._index={availabilityTimeComplete:Ce,indexRange:V.indexRange,indexTimeOffset:an,initialization:V.initialization==null?void 0:{url:un,range:V.initialization.range},segmentUrlTemplate:cn,startNumber:V.startNumber,timeline:(Re=V.timeline)!==null&&Re!==void 0?Re:null,timescale:Et},this._scaledPeriodStart=(0,fe.gT)(yt,this._index),this._scaledPeriodEnd=lt===void 0?void 0:(0,fe.gT)(lt,this._index)}var B=K.prototype;return B.getInitSegment=function(){return(0,be.Z)(this._index,this._isEMSGWhitelisted)},B.getSegments=function(F,se){this._refreshTimeline(),this._index.timeline===null&&(this._index.timeline=this._getTimeline());var ne=this._index,Se=ne.segmentUrlTemplate,Re=ne.startNumber,Ce=ne.timeline,We=ne.timescale,Je=ne.indexTimeOffset;return(0,ve.Z)({segmentUrlTemplate:Se,startNumber:Re,timeline:Ce,timescale:We,indexTimeOffset:Je},F,se,this._isEMSGWhitelisted,this._scaledPeriodEnd)},B.shouldRefresh=function(){return!1},B.getFirstAvailablePosition=function(){this._refreshTimeline(),this._index.timeline===null&&(this._index.timeline=this._getTimeline());var F=this._index.timeline;return F.length===0?null:(0,fe.zG)(Math.max(this._scaledPeriodStart,F[0].start),this._index)},B.getLastAvailablePosition=function(){this._refreshTimeline(),this._index.timeline===null&&(this._index.timeline=this._getTimeline());var F=K.getIndexEnd(this._index.timeline,this._scaledPeriodEnd);return F===null?null:(0,fe.zG)(F,this._index)},B.getEnd=function(){if(!this._isDynamic||!this._isLastPeriod)return this.getLastAvailablePosition()},B.awaitSegmentBetween=function(F,se){var ne;if((0,Ot.Z)(F<=se),!this._isDynamic||!this._isLastPeriod)return!1;this._refreshTimeline(),this._index.timeline===null&&(this._index.timeline=this._getTimeline());var Se=this._index,Re=Se.timeline,Ce=Se.timescale,We=qe(Ce),Je=(0,fe.gT)(se,this._index);if(Re.length>0){var at=Re[Re.length-1],Le=(0,fe.jH)(at,null,this._scaledPeriodEnd),ut=Le+We;if(ut>=Math.min(Je,(ne=this._scaledPeriodEnd)!==null&&ne!==void 0?ne:1/0))return!1}if(this._scaledPeriodEnd===void 0)return Je+We>this._scaledPeriodStart?void 0:!1;var yt=(0,fe.gT)(F,this._index);return yt-We<this._scaledPeriodEnd&&Je+We>this._scaledPeriodStart},B.isSegmentStillAvailable=function(F){if(F.isInit)return!0;this._refreshTimeline(),this._index.timeline===null&&(this._index.timeline=this._getTimeline());var se=this._index,ne=se.timeline,Se=se.timescale,Re=se.indexTimeOffset;return(0,He.Z)(F,ne,Se,Re)},B.checkDiscontinuity=function(F){this._refreshTimeline();var se=this._index.timeline;return se===null&&(se=this._getTimeline(),this._index.timeline=se),(0,fe._j)({timeline:se,timescale:this._index.timescale,indexTimeOffset:this._index.indexTimeOffset},F,this._scaledPeriodEnd)},B.canBeOutOfSyncError=function(F){return this._isDynamic?F instanceof Ke.Z&&F.isHttpError(404):!1},B._replace=function(F){this._parseTimeline=F._parseTimeline,this._index=F._index,this._isDynamic=F._isDynamic,this._scaledPeriodStart=F._scaledPeriodStart,this._scaledPeriodEnd=F._scaledPeriodEnd,this._lastUpdate=F._lastUpdate,this._manifestBoundsCalculator=F._manifestBoundsCalculator,this._isLastPeriod=F._isLastPeriod},B._update=function(F){this._index.timeline===null&&(this._index.timeline=this._getTimeline()),F._index.timeline===null&&(F._index.timeline=F._getTimeline());var se=(0,je.Z)(this._index.timeline,F._index.timeline);se&&(this._index.startNumber=F._index.startNumber),this._isDynamic=F._isDynamic,this._scaledPeriodStart=F._scaledPeriodStart,this._scaledPeriodEnd=F._scaledPeriodEnd,this._lastUpdate=F._lastUpdate,this._isLastPeriod=F._isLastPeriod},B.isFinished=function(){if(!this._isDynamic||!this._isLastPeriod)return!0;this._index.timeline===null&&(this._index.timeline=this._getTimeline());var F=this._index.timeline;if(this._scaledPeriodEnd===void 0||F.length===0)return!1;var se=F[F.length-1],ne=(0,fe.jH)(se,null,this._scaledPeriodEnd),Se=qe(this._index.timescale);return ne+Se>=this._scaledPeriodEnd},B.isInitialized=function(){return!0},K.isTimelineIndexArgument=function(F){return typeof F.timelineParser=="function"||Array.isArray(F.timeline)},B._refreshTimeline=function(){if(this._index.timeline===null&&(this._index.timeline=this._getTimeline()),!!this._isDynamic){var F=this._manifestBoundsCalculator.estimateMinimumBound();if(F!=null){var se=(0,fe.gT)(F,this._index),ne=(0,kt.Z)(this._index.timeline,se);this._index.startNumber!==void 0&&(this._index.startNumber+=ne)}}},K.getIndexEnd=function(F,se){return F.length<=0?null:Math.min((0,fe.jH)(F[F.length-1],null,se),se??1/0)},B._getTimeline=function(){if(this._parseTimeline===null)return this._index.timeline!==null?this._index.timeline:(h.Z.error("DASH: Timeline already lazily parsed."),[]);var F=this._parseTimeline();this._parseTimeline=null;var se=S.Z.getCurrent(),ne=se.MIN_DASH_S_ELEMENTS_TO_PARSE_UNSAFELY;if(this._unsafelyBaseOnPreviousIndex===null||F.length<ne)return et(F);var Se;return this._unsafelyBaseOnPreviousIndex._index.timeline===null?(Se=this._unsafelyBaseOnPreviousIndex._getTimeline(),this._unsafelyBaseOnPreviousIndex._index.timeline=Se):Se=this._unsafelyBaseOnPreviousIndex._index.timeline,this._unsafelyBaseOnPreviousIndex=null,ht(F,Se)},K}(),tt=St,dt=function(){function K(V,F){var se,ne,Se=F.aggressiveMode,Re=F.availabilityTimeOffset,Ce=F.manifestBoundsCalculator,We=F.isDynamic,Je=F.periodEnd,at=F.periodStart,Le=F.representationId,ut=F.representationBitrate,yt=F.isEMSGWhitelisted,lt=(se=V.timescale)!==null&&se!==void 0?se:1;this._availabilityTimeOffset=Re,this._manifestBoundsCalculator=Ce,this._aggressiveMode=Se;var _t=V.presentationTimeOffset!=null?V.presentationTimeOffset:0,Et=at*lt,Pt=_t-Et;if(V.duration===void 0)throw new Error("Invalid SegmentTemplate: no duration");var qt=((ne=V.initialization)===null||ne===void 0?void 0:ne.media)===void 0?null:(0,ge.zA)(V.initialization.media,Le,ut),an=V.media===void 0?null:(0,ge.zA)(V.media,Le,ut);this._index={duration:V.duration,timescale:lt,indexRange:V.indexRange,indexTimeOffset:Pt,initialization:V.initialization==null?void 0:{url:qt,range:V.initialization.range},url:an,presentationTimeOffset:_t,startNumber:V.startNumber},this._isDynamic=We,this._periodStart=at,this._scaledRelativePeriodEnd=Je===void 0?void 0:(Je-at)*lt,this._isEMSGWhitelisted=yt}var B=K.prototype;return B.getInitSegment=function(){return(0,be.Z)(this._index,this._isEMSGWhitelisted)},B.getSegments=function(F,se){var ne=this._index,Se=ne.duration,Re=ne.startNumber,Ce=ne.timescale,We=ne.url,Je=this._periodStart*Ce,at=this._scaledRelativePeriodEnd,Le=F*Ce-Je,ut=(F+se)*Ce-Je,yt=this._getFirstSegmentStart(),lt=this._getLastSegmentStart();if(yt==null||lt==null)return[];var _t=Math.max(yt,Le),Et=Math.min(lt,ut);if(Et+Se<=_t)return[];for(var Pt=[],qt=Re??1,an=Math.floor(_t/Se),un=an*Se;un<=Et;un+=Se){var cn=an+qt,ln=at!=null&&un+Se>at?at-un:Se,dn=un+Je,Cn=un+this._index.presentationTimeOffset,wn=We===null?null:(0,ge.QB)(Cn,cn)(We),gn={id:String(cn),number:cn,time:dn/Ce,end:(dn+ln)/Ce,duration:ln/Ce,timescale:1,isInit:!1,scaledDuration:ln/Ce,url:wn,timestampOffset:-(ne.indexTimeOffset/Ce),complete:!0,privateInfos:{isEMSGWhitelisted:this._isEMSGWhitelisted}};Pt.push(gn),an++}return Pt},B.getFirstAvailablePosition=function(){var F=this._getFirstSegmentStart();return F==null?F:F/this._index.timescale+this._periodStart},B.getLastAvailablePosition=function(){var F,se=this._getLastSegmentStart();if(se==null)return se;var ne=Math.min(se+this._index.duration,(F=this._scaledRelativePeriodEnd)!==null&&F!==void 0?F:1/0);return ne/this._index.timescale+this._periodStart},B.getEnd=function(){if(!this._isDynamic)return this.getLastAvailablePosition();if(this._scaledRelativePeriodEnd!==void 0){var F=this._index.timescale,se=this._scaledRelativePeriodEnd+this._periodStart*F;return se/this._index.timescale}},B.awaitSegmentBetween=function(F,se){if((0,Ot.Z)(F<=se),!this._isDynamic)return!1;var ne=this._index.timescale,Se=qe(ne),Re=this._periodStart*ne,Ce=se*ne-Re;if(this._scaledRelativePeriodEnd===void 0)return Ce+Se>=0;var We=this._scaledRelativePeriodEnd,Je=F*ne-Re;return Je-Se<We&&Ce+Se>=0},B.shouldRefresh=function(){return!1},B.checkDiscontinuity=function(){return null},B.isSegmentStillAvailable=function(F){if(F.isInit)return!0;var se=this.getSegments(F.time,.1);return se.length===0?!1:se[0].time===F.time&&se[0].end===F.end&&se[0].number===F.number},B.canBeOutOfSyncError=function(){return!1},B.isFinished=function(){if(!this._isDynamic)return!0;if(this._scaledRelativePeriodEnd===void 0)return!1;var F=this._index.timescale,se=this._getLastSegmentStart();if(se==null)return!1;var ne=se+this._index.duration,Se=qe(F);return ne+Se>=this._scaledRelativePeriodEnd},B.isInitialized=function(){return!0},B._replace=function(F){this._index=F._index,this._aggressiveMode=F._aggressiveMode,this._isDynamic=F._isDynamic,this._periodStart=F._periodStart,this._scaledRelativePeriodEnd=F._scaledRelativePeriodEnd,this._manifestBoundsCalculator=F._manifestBoundsCalculator},B._update=function(F){this._replace(F)},B._getFirstSegmentStart=function(){if(!this._isDynamic)return 0;if(this._scaledRelativePeriodEnd===0||this._scaledRelativePeriodEnd===void 0){var F=this._manifestBoundsCalculator.estimateMaximumBound();if(F!==void 0&&F<this._periodStart)return null}var se=this._index,ne=se.duration,Se=se.timescale,Re=this._manifestBoundsCalculator.estimateMinimumBound();if(Re!==void 0){var Ce=Re>this._periodStart?(Re-this._periodStart)*Se:0,We=Math.floor(Ce/ne);return We*ne}},B._getLastSegmentStart=function(){var F,se=this._index,ne=se.duration,Se=se.timescale;if(this._isDynamic){var Re=this._manifestBoundsCalculator.estimateMaximumBound();if(Re===void 0)return;var Ce=this._aggressiveMode?ne/Se:0;if(this._scaledRelativePeriodEnd!=null&&this._scaledRelativePeriodEnd<(Re+Ce-this._periodStart)*this._index.timescale)return this._scaledRelativePeriodEnd<ne?null:(Math.floor(this._scaledRelativePeriodEnd/ne)-1)*ne;var We=(Re-this._periodStart)*Se;if(We<0)return null;var Je=((this._availabilityTimeOffset!==void 0?this._availabilityTimeOffset:0)+Ce)*Se,at=Math.floor((We+Je)/ne);return at<=0?null:(at-1)*ne}else{var Le=(F=this._scaledRelativePeriodEnd)!==null&&F!==void 0?F:0,ut=Math.ceil(Le/ne)-1,yt=ut*ne,lt=S.Z.getCurrent().MINIMUM_SEGMENT_SIZE*Se;return Le-yt>lt||ut===0?yt:(ut-1)*ne}},K}();function Dt(K,B){var V,F,se=B.aggressiveMode,ne=B.availabilityTimeOffset,Se=B.manifestBoundsCalculator,Re=B.isDynamic,Ce=B.end,We=B.start,Je=B.receivedTime,at=B.timeShiftBufferDepth,Le=B.unsafelyBaseOnPreviousRepresentation,ut=B.inbandEventStreams,yt=B.isLastPeriod,lt=function(gn){return ut===void 0?!1:ut.some(function(En){var Kn=En.schemeIdUri;return Kn===gn.schemeIdUri})},_t={aggressiveMode:se,availabilityTimeComplete:!0,availabilityTimeOffset:ne,unsafelyBaseOnPreviousRepresentation:Le,isEMSGWhitelisted:lt,isLastPeriod:yt,manifestBoundsCalculator:Se,isDynamic:Re,periodEnd:Ce,periodStart:We,receivedTime:Je,representationBitrate:K.attributes.bitrate,representationId:K.attributes.id,timeShiftBufferDepth:at},Et;if(K.children.segmentBase!==void 0){var Pt=K.children.segmentBase;Et=new ie.Z(Pt,_t)}else if(K.children.segmentList!==void 0){var qt=K.children.segmentList;Et=new Be(qt,_t)}else if(K.children.segmentTemplate!==void 0||B.parentSegmentTemplates.length>0){var an=B.parentSegmentTemplates.slice(),un=K.children.segmentTemplate;un!==void 0&&an.push(un);var cn=Y.Z.apply(void 0,[{}].concat(an));_t.availabilityTimeComplete=(V=cn.availabilityTimeComplete)!==null&&V!==void 0?V:B.availabilityTimeComplete,_t.availabilityTimeOffset=((F=cn.availabilityTimeOffset)!==null&&F!==void 0?F:0)+B.availabilityTimeOffset,Et=tt.isTimelineIndexArgument(cn)?new tt(cn,_t):new dt(cn,_t)}else{var ln=B.adaptation.children;if(ln.segmentBase!==void 0){var dn=ln.segmentBase;Et=new ie.Z(dn,_t)}else if(ln.segmentList!==void 0){var Cn=ln.segmentList;Et=new Be(Cn,_t)}else Et=new dt({duration:Number.MAX_VALUE,timescale:1,startNumber:0,media:""},_t)}return Et}function Ue(K,B){var V;if(B.length===0)return K;var F=B.map(function(Je){return{url:Je.value}});if(K.length===0)return F;for(var se=[],ne=0;ne<K.length;ne++)for(var Se=K[ne],Re=0;Re<F.length;Re++){var Ce=F[Re],We=(0,y.Z)(Se.url,Ce.url);se.push({url:We,serviceLocation:(V=Ce.serviceLocation)!==null&&V!==void 0?V:Se.serviceLocation})}return se}function jt(K,B){var V=typeof Symbol<"u"&&K[Symbol.iterator]||K["@@iterator"];if(V)return(V=V.call(K)).next.bind(V);if(Array.isArray(K)||(V=hn(K))||B&&K&&typeof K.length=="number"){V&&(K=V);var F=0;return function(){return F>=K.length?{done:!0}:{done:!1,value:K[F++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hn(K,B){if(K){if(typeof K=="string")return Xt(K,B);var V=Object.prototype.toString.call(K).slice(8,-1);if(V==="Object"&&K.constructor&&(V=K.constructor.name),V==="Map"||V==="Set")return Array.from(K);if(V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return Xt(K,B)}}function Xt(K,B){(B==null||B>K.length)&&(B=K.length);for(var V=0,F=new Array(B);V<B;V++)F[V]=K[V];return F}function bn(K,B){var V=[];if(K.children.inbandEventStreams!==void 0&&V.push.apply(V,K.children.inbandEventStreams),B.children.inbandEventStreams!==void 0&&V.push.apply(V,B.children.inbandEventStreams),V.length!==0)return V}function Fn(K){var B=K.adaptationProfiles,V=K.manifestProfiles,F=K.codecs,se=(B??"")+(V??"");if(F!==void 0){if(se.indexOf("http://dashif.org/guidelines/dash-if-uhd#hevc-hdr-pq10")!==-1&&(F==="hvc1.2.4.L153.B0"||F==="hev1.2.4.L153.B0"))return{colorDepth:10,eotf:"pq",colorSpace:"rec2020"};if(/^vp(08|09|10)/.exec(F))return X(F)}}function gr(K,B,V){for(var F,se,ne,Se,Re=[],Ce=function(){for(var Le=Je.value,ut=Le.attributes.id!=null?Le.attributes.id:String(Le.attributes.bitrate)+(Le.attributes.height!=null?"-"+Le.attributes.height:"")+(Le.attributes.width!=null?"-"+Le.attributes.width:"")+(Le.attributes.mimeType!=null?"-"+Le.attributes.mimeType:"")+(Le.attributes.codecs!=null?"-"+Le.attributes.codecs:"");Re.some(function(gn){return gn.id===ut});)ut+="-dup";var yt=(se=(F=V.unsafelyBaseOnPreviousAdaptation)===null||F===void 0?void 0:F.getRepresentation(ut))!==null&&se!==void 0?se:null,lt=bn(Le,B),_t=(ne=Le.attributes.availabilityTimeComplete)!==null&&ne!==void 0?ne:V.availabilityTimeComplete,Et=((Se=Le.attributes.availabilityTimeOffset)!==null&&Se!==void 0?Se:0)+V.availabilityTimeOffset,Pt=(0,Y.Z)({},V,{availabilityTimeOffset:Et,availabilityTimeComplete:_t,unsafelyBaseOnPreviousRepresentation:yt,adaptation:B,inbandEventStreams:lt}),qt=Dt(Le,Pt),an=void 0;Le.attributes.bitrate==null?(h.Z.warn("DASH: No usable bitrate found in the Representation."),an=0):an=Le.attributes.bitrate;var un=Ue(V.baseURLs,Le.children.baseURLs),cn=un.map(function(gn){return{baseUrl:gn.url,id:gn.serviceLocation}}),ln={bitrate:an,cdnMetadata:cn,index:qt,id:ut},dn=void 0;Le.attributes.codecs!=null?dn=Le.attributes.codecs:B.attributes.codecs!=null&&(dn=B.attributes.codecs),dn!=null&&(dn=dn==="mp4a.40.02"?"mp4a.40.2":dn,ln.codecs=dn),Le.attributes.frameRate!=null?ln.frameRate=Le.attributes.frameRate:B.attributes.frameRate!=null&&(ln.frameRate=B.attributes.frameRate),Le.attributes.height!=null?ln.height=Le.attributes.height:B.attributes.height!=null&&(ln.height=B.attributes.height),Le.attributes.mimeType!=null?ln.mimeType=Le.attributes.mimeType:B.attributes.mimeType!=null&&(ln.mimeType=B.attributes.mimeType),Le.attributes.width!=null?ln.width=Le.attributes.width:B.attributes.width!=null&&(ln.width=B.attributes.width);var Cn=B.children.contentProtections!==void 0?B.children.contentProtections:[];if(Le.children.contentProtections!==void 0&&Cn.push.apply(Cn,Le.children.contentProtections),Cn.length>0){var wn=Cn.reduce(function(gn,En){var Kn;if(En.attributes.schemeIdUri!==void 0&&En.attributes.schemeIdUri.substring(0,9)==="urn:uuid:"&&(Kn=En.attributes.schemeIdUri.substring(9).replace(/-/g,"").toLowerCase()),En.attributes.keyId!==void 0&&En.attributes.keyId.length>0){var J={keyId:En.attributes.keyId,systemId:Kn};gn.keyIds===void 0?gn.keyIds=[J]:gn.keyIds.push(J)}if(Kn!==void 0){for(var oe=En.children.cencPssh,q=[],le=jt(oe),he;!(he=le()).done;){var me=he.value;q.push({systemId:Kn,data:me})}if(q.length>0){var _e=(0,b.Z)(gn.initData,function(we){return we.type==="cenc"});if(_e===void 0)gn.initData.push({type:"cenc",values:q});else{var ke;(ke=_e.values).push.apply(ke,q)}}}return gn},{keyIds:void 0,initData:[]});(Object.keys(wn.initData).length>0||wn.keyIds!==void 0&&wn.keyIds.length>0)&&(ln.contentProtections=wn)}ln.hdrInfo=Fn({adaptationProfiles:B.attributes.profiles,manifestProfiles:V.manifestProfiles,codecs:dn}),Re.push(ln)},We=jt(K),Je;!(Je=We()).done;)Ce();return Re}function Ur(K,B){var V=typeof Symbol<"u"&&K[Symbol.iterator]||K["@@iterator"];if(V)return(V=V.call(K)).next.bind(V);if(Array.isArray(K)||(V=Hn(K))||B&&K&&typeof K.length=="number"){V&&(K=V);var F=0;return function(){return F>=K.length?{done:!0}:{done:!1,value:K[F++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hn(K,B){if(K){if(typeof K=="string")return Fr(K,B);var V=Object.prototype.toString.call(K).slice(8,-1);if(V==="Object"&&K.constructor&&(V=K.constructor.name),V==="Map"||V==="Set")return Array.from(K);if(V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return Fr(K,B)}}function Fr(K,B){(B==null||B>K.length)&&(B=K.length);for(var V=0,F=new Array(B);V<B;V++)F[V]=K[V];return F}function zr(K){if(K===void 0)return!1;var B=K.schemeIdUri==="urn:tva:metadata:cs:AudioPurposeCS:2007"&&K.value==="1",V=K.schemeIdUri==="urn:mpeg:dash:role:2011"&&K.value==="description";return B||V}function Oi(K){return K===void 0?!1:K.schemeIdUri==="urn:tva:metadata:cs:AudioPurposeCS:2007"&&K.value==="2"}function Ei(K){return K===void 0?!1:K.schemeIdUri==="urn:mpeg:dash:role:2011"&&K.value==="sign"}function Vi(K,B){if((0,re.Z)(K.attributes.id))return K.attributes.id;var V=B.isClosedCaption,F=B.isAudioDescription,se=B.isSignInterpreted,ne=B.isTrickModeTrack,Se=B.type,Re=Se;return(0,re.Z)(K.attributes.language)&&(Re+="-"+K.attributes.language),V===!0&&(Re+="-cc"),F===!0&&(Re+="-ad"),se===!0&&(Re+="-si"),ne&&(Re+="-trickMode"),(0,re.Z)(K.attributes.contentType)&&(Re+="-"+K.attributes.contentType),(0,re.Z)(K.attributes.codecs)&&(Re+="-"+K.attributes.codecs),(0,re.Z)(K.attributes.mimeType)&&(Re+="-"+K.attributes.mimeType),(0,re.Z)(K.attributes.frameRate)&&(Re+="-"+K.attributes.frameRate),Re}function Di(K){if(K.children.supplementalProperties!=null)for(var B=K.children.supplementalProperties,V=Ur(B),F;!(F=V()).done;){var se=F.value;if(se.schemeIdUri==="urn:mpeg:dash:adaptation-set-switching:2016"&&se.value!=null)return se.value.split(",").map(function(ne){return ne.trim()}).filter(function(ne){return ne})}return[]}function xi(K,B){for(var V,F,se,ne,Se,Re,Ce,We,Je={video:[],audio:[],text:[],image:[]},at=[],Le={},ut=[],yt=-1,lt=0;lt<K.length;lt++){var _t=K[lt],Et=_t.children,Pt=Et.essentialProperties,qt=Et.roles,an=Et.label,un=Array.isArray(qt)&&qt.some(function(fr){return fr.value==="main"})&&qt.some(function(fr){return fr.schemeIdUri==="urn:mpeg:dash:role:2011"}),cn=_t.children.representations,ln=(V=_t.attributes.availabilityTimeComplete)!==null&&V!==void 0?V:B.availabilityTimeComplete,dn=((F=_t.attributes.availabilityTimeOffset)!==null&&F!==void 0?F:0)+B.availabilityTimeOffset,Cn=_t.attributes.mimeType,wn=_t.attributes.codecs,gn=W(cn,(0,re.Z)(Cn)?Cn:null,(0,re.Z)(wn)?wn:null,Et.roles!=null?Et.roles:null);if(gn!==void 0){var En=(se=_t.attributes.selectionPriority)!==null&&se!==void 0?se:1,Kn=_t.attributes.id,J=void 0,oe=Di(_t),q=[];B.segmentTemplate!==void 0&&q.push(B.segmentTemplate),_t.children.segmentTemplate!==void 0&&q.push(_t.children.segmentTemplate);var le={aggressiveMode:B.aggressiveMode,availabilityTimeComplete:ln,availabilityTimeOffset:dn,baseURLs:Ue(B.baseURLs,Et.baseURLs),manifestBoundsCalculator:B.manifestBoundsCalculator,end:B.end,isDynamic:B.isDynamic,isLastPeriod:B.isLastPeriod,manifestProfiles:B.manifestProfiles,parentSegmentTemplates:q,receivedTime:B.receivedTime,start:B.start,timeShiftBufferDepth:B.timeShiftBufferDepth,unsafelyBaseOnPreviousAdaptation:null},he=Array.isArray(Pt)?(0,b.Z)(Pt,function(fr){return fr.schemeIdUri==="http://dashif.org/guidelines/trickmode"}):void 0,me=(ne=he==null?void 0:he.value)===null||ne===void 0?void 0:ne.split(" "),_e=me!==void 0;if(gn==="video"&&un&&yt>=0&&Je.video.length>yt&&!_e){var ke,we=Je.video[yt][0];le.unsafelyBaseOnPreviousAdaptation=(Re=(Se=B.unsafelyBaseOnPreviousPeriod)===null||Se===void 0?void 0:Se.getAdaptation(we.id))!==null&&Re!==void 0?Re:null;var Ze=gr(cn,_t,le);(ke=we.representations).push.apply(ke,Ze),J=we.id}else{var xt=Et,Ge=xt.accessibilities,ft=void 0;qt!==void 0&&qt.some(function(fr){return fr.value==="dub"})&&(ft=!0);var pt=void 0;gn!=="text"?pt=!1:Ge!==void 0&&(pt=Ge.some(Oi));var yn=void 0;gn!=="audio"?yn=!1:Ge!==void 0&&(yn=Ge.some(zr));var _n=void 0;gn!=="video"?_n=!1:Ge!==void 0&&(_n=Ge.some(Ei));for(var Tn=Vi(_t,{isAudioDescription:yn,isClosedCaption:pt,isSignInterpreted:_n,isTrickModeTrack:_e,type:gn});(0,Q.Z)(ut,Tn);)Tn+="-dup";J=Tn,ut.push(Tn),le.unsafelyBaseOnPreviousAdaptation=(We=(Ce=B.unsafelyBaseOnPreviousPeriod)===null||Ce===void 0?void 0:Ce.getAdaptation(Tn))!==null&&We!==void 0?We:null;var Rn=gr(cn,_t,le),kn={id:Tn,representations:Rn,type:gn,isTrickModeTrack:_e};if(_t.attributes.language!=null&&(kn.language=_t.attributes.language),pt!=null&&(kn.closedCaption=pt),yn!=null&&(kn.audioDescription=yn),ft===!0&&(kn.isDub=!0),_n===!0&&(kn.isSignInterpreted=!0),an!==void 0&&(kn.label=an),me!==void 0)at.push({adaptation:kn,trickModeAttachedAdaptationIds:me});else{for(var nr=-1,Dn=function(){var Tr=Xr.value,Vr=Le[Tr];if(Vr!==void 0&&Vr.newID!==J&&(0,Q.Z)(Vr.adaptationSetSwitchingIDs,Kn)){nr=(0,Z.Z)(Je[gn],function(di){return di[0].id===Tr});var ir=Je[gn][nr];if(ir!==void 0&&ir[0].audioDescription===kn.audioDescription&&ir[0].closedCaption===kn.closedCaption&&ir[0].language===kn.language){var Or;h.Z.info('DASH Parser: merging "switchable" AdaptationSets',Kn,Tr),(Or=ir[0].representations).push.apply(Or,kn.representations),gn==="video"&&un&&!ir[1].isMainAdaptation&&(yt=Math.max(yt,nr)),ir[1]={priority:Math.max(En,ir[1].priority),isMainAdaptation:un||ir[1].isMainAdaptation,indexInMpd:Math.min(lt,ir[1].indexInMpd)}}}},Li=Ur(oe),Xr;!(Xr=Li()).done;)Dn();nr<0&&(Je[gn].push([kn,{priority:En,isMainAdaptation:un,indexInMpd:lt}]),gn==="video"&&un&&(yt=Je.video.length-1))}}Kn!=null&&Le[Kn]==null&&(Le[Kn]={newID:J,adaptationSetSwitchingIDs:oe})}}var Wr=x.r.reduce(function(fr,Tr){var Vr=Je[Tr];return Vr.length>0&&(Vr.sort(Yr),fr[Tr]=Vr.map(function(ir){var Or=ir[0];return Or})),fr},{});return Je.video.sort(Yr),D(Wr,at),Wr}function Yr(K,B){var V=B[1].priority-K[1].priority;return V!==0?V:K[1].isMainAdaptation!==B[1].isMainAdaptation?K[1].isMainAdaptation?-1:1:K[1].indexInMpd-B[1].indexInMpd}function kr(K,B){var V=typeof Symbol<"u"&&K[Symbol.iterator]||K["@@iterator"];if(V)return(V=V.call(K)).next.bind(V);if(Array.isArray(K)||(V=Kr(K))||B&&K&&typeof K.length=="number"){V&&(K=V);var F=0;return function(){return F>=K.length?{done:!0}:{done:!1,value:K[F++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kr(K,B){if(K){if(typeof K=="string")return Pr(K,B);var V=Object.prototype.toString.call(K).slice(8,-1);if(V==="Object"&&K.constructor&&(V=K.constructor.name),V==="Map"||V==="Set")return Array.from(K);if(V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return Pr(K,B)}}function Pr(K,B){(B==null||B>K.length)&&(B=K.length);for(var V=0,F=new Array(B);V<B;V++)F[V]=K[V];return F}var Hi=(0,P.Z)();function Gi(K,B){var V,F,se,ne,Se,Re,Ce=[],We=z(K,B);if(We.length!==K.length)throw new Error("MPD parsing error: the time information are incoherent.");var Je=B.isDynamic,at=B.timeShiftBufferDepth,Le=new L({isDynamic:Je,timeShiftBufferDepth:at});!Je&&B.duration!=null&&Le.setLastPosition(B.duration);for(var ut=function(qt){var an=qt===K.length-1,un=K[qt],cn=B.xlinkInfos.get(un),ln=Ue(B.baseURLs,un.children.baseURLs),dn=We[qt],Cn=dn.periodStart,wn=dn.periodDuration,gn=dn.periodEnd,En=void 0;for(un.attributes.id==null?(h.Z.warn("DASH: No usable id found in the Period. Generating one."),En="gen-dash-period-"+Hi()):En=un.attributes.id;Ce.some(function(Tn){return Tn.id===En});)En+="-dup";var Kn=cn!==void 0?cn.receivedTime:B.receivedTime,J=(F=(V=B.unsafelyBaseOnPreviousManifest)===null||V===void 0?void 0:V.getPeriod(En))!==null&&F!==void 0?F:null,oe=(se=un.attributes.availabilityTimeComplete)!==null&&se!==void 0?se:!0,q=(ne=un.attributes.availabilityTimeOffset)!==null&&ne!==void 0?ne:0,le=B.aggressiveMode,he=B.manifestProfiles,me=un.children.segmentTemplate,_e={aggressiveMode:le,availabilityTimeComplete:oe,availabilityTimeOffset:q,baseURLs:ln,manifestBoundsCalculator:Le,end:gn,isDynamic:Je,isLastPeriod:an,manifestProfiles:he,receivedTime:Kn,segmentTemplate:me,start:Cn,timeShiftBufferDepth:at,unsafelyBaseOnPreviousPeriod:J},ke=xi(un.children.adaptations,_e),we=((Se=B.xmlNamespaces)!==null&&Se!==void 0?Se:[]).concat((Re=un.attributes.namespaces)!==null&&Re!==void 0?Re:[]),Ze=na(un.children.eventStreams,Cn,we),xt={id:En,start:Cn,end:gn,duration:wn,adaptations:ke,streamEvents:Ze};if(Ce.unshift(xt),!Le.lastPositionIsKnown()){var Ge=ji(ke);if(!Je)typeof Ge=="number"&&Le.setLastPosition(Ge);else if(typeof Ge=="number"){var ft=performance.now()/1e3;Le.setLastPosition(Ge,ft)}else{var pt=$i(B,Cn);if(pt!==void 0){var yn=pt[0],_n=pt[1];Le.setLastPosition(yn,_n)}}}},yt=K.length-1;yt>=0;yt--)ut(yt);if(B.isDynamic&&!Le.lastPositionIsKnown()){var lt=$i(B,0);if(lt!==void 0){var _t=lt[0],Et=lt[1];Le.setLastPosition(_t,Et)}}return U(Ce)}function $i(K,B){if(K.clockOffset!=null){var V=K.clockOffset/1e3-K.availabilityStartTime,F=performance.now()/1e3,se=F+V;if(se>=B)return[se,F]}else{var ne=Date.now()/1e3;if(ne>=B){h.Z.warn("DASH Parser: no clock synchronization mechanism found. Using the system clock instead.");var Se=ne-K.availabilityStartTime,Re=performance.now()/1e3;return[Se,Re]}}}function ji(K){for(var B=null,V=!0,F=(0,$.Z)(K).filter(function(ut){return ut!=null}),se=(0,O.Z)(F,function(ut){return ut}),ne=kr(se),Se;!(Se=ne()).done;)for(var Re=Se.value,Ce=Re.representations,We=kr(Ce),Je;!(Je=We()).done;){var at=Je.value,Le=at.index.getLastAvailablePosition();Le!==null&&(V=!1,typeof Le=="number"&&(B=B==null?Le:Math.max(B,Le)))}if(B!=null)return B;if(V)return null}function na(K,B,V){for(var F,se,ne=[],Se=kr(K),Re;!(Re=Se()).done;)for(var Ce=Re.value,We=Ce.attributes,Je=We.schemeIdUri,at=Je===void 0?"":Je,Le=We.timescale,ut=Le===void 0?1:Le,yt=V.concat((F=Ce.attributes.namespaces)!==null&&F!==void 0?F:[]),lt=kr(Ce.children.events),_t;!(_t=lt()).done;){var Et=_t.value;if(Et.eventStreamData!==void 0){var Pt=((se=Et.presentationTime)!==null&&se!==void 0?se:0)/ut+B,qt=Et.duration===void 0?void 0:Pt+Et.duration/ut,an=void 0;if(Et.eventStreamData instanceof Element)an=Et.eventStreamData;else{var un=yt.reduce(function(ln,dn){return ln+"xmlns:"+dn.key+'="'+dn.value+'" '},"<toremove ");un+=">";var cn=(0,w.uR)(new Uint8Array(Et.eventStreamData));an=new DOMParser().parseFromString(un+cn+"</toremove>","application/xml").documentElement.childNodes[0]}ne.push({start:Pt,end:qt,id:Et.id,data:{type:"dash-event-stream",value:{schemeIdUri:at,timescale:ut,element:an}}})}}return ne}function li(K,B){var V=typeof Symbol<"u"&&K[Symbol.iterator]||K["@@iterator"];if(V)return(V=V.call(K)).next.bind(V);if(Array.isArray(K)||(V=Ti(K))||B&&K&&typeof K.length=="number"){V&&(K=V);var F=0;return function(){return F>=K.length?{done:!0}:{done:!1,value:K[F++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ti(K,B){if(K){if(typeof K=="string")return Me(K,B);var V=Object.prototype.toString.call(K).slice(8,-1);if(V==="Object"&&K.constructor&&(V=K.constructor.name),V==="Map"||V==="Set")return Array.from(K);if(V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return Me(K,B)}}function Me(K,B){(B==null||B>K.length)&&(B=K.length);for(var V=0,F=new Array(B);V<B;V++)F[V]=K[V];return F}function Fe(K,B,V,F,se){se===void 0&&(se=new WeakMap);var ne=K.children,Se=K.attributes;if(B.externalClockOffset==null){var Re=Se.type==="dynamic",Ce=(0,b.Z)(ne.utcTimings,function(Et){return Et.schemeIdUri==="urn:mpeg:dash:utc:direct:2014"&&Et.value!=null}),We=Ce!=null&&Ce.value!=null?A(Ce.value):void 0,Je=We!=null&&!isNaN(We)?We:void 0;if(Je!=null&&F!==!0)B.externalClockOffset=Je;else if(Re&&F!==!0){var at=k(K);if(at!=null&&at.length>0)return{type:"needs-clock",value:{url:at,continue:function(Pt){return Pt.success?(B.externalClockOffset=A(Pt.data),Fe(K,B,V,!0)):(V.push(Pt.error),h.Z.warn("DASH Parser: Error on fetching the clock ressource",Pt.error),Fe(K,B,V,!0))}}}}}for(var Le=[],ut=0;ut<ne.periods.length;ut++){var yt=ne.periods[ut].attributes,lt=yt.xlinkHref,_t=yt.xlinkActuate;lt!=null&&_t==="onLoad"&&Le.push({index:ut,ressource:lt})}return Le.length===0?Qe(K,B,V,se):{type:"needs-xlinks",value:{xlinksUrls:Le.map(function(Et){var Pt=Et.ressource;return Pt}),continue:function(Pt){if(Pt.length!==Le.length)throw new Error("DASH parser: wrong number of loaded ressources.");for(var qt=Pt.length-1;qt>=0;qt--){var an,un=Le[qt].index,cn=Pt[qt],ln=cn.parsed,dn=cn.warnings,Cn=cn.receivedTime,wn=cn.sendingTime,gn=cn.url;dn.length>0&&V.push.apply(V,dn);for(var En=li(ln),Kn;!(Kn=En()).done;){var J=Kn.value;se.set(J,{receivedTime:Cn,sendingTime:wn,url:gn})}(an=ne.periods).splice.apply(an,[un,1].concat(ln))}return Fe(K,B,V,F,se)}}}}function Qe(K,B,V,F){var se,ne,Se,Re=K.children,Ce=K.attributes,We=Ce.type==="dynamic",Je=B.url!==void 0?[{url:B.url.substring(0,(0,y.$)(B.url))}]:[],at=Ue(Je,Re.baseURLs),Le=C(Ce,B.referenceDateTime),ut=Ce.timeShiftBufferDepth,yt=B.externalClockOffset,lt=B.unsafelyBaseOnPreviousManifest,_t={aggressiveMode:B.aggressiveMode,availabilityStartTime:Le,baseURLs:at,clockOffset:yt,duration:Ce.duration,isDynamic:We,manifestProfiles:K.attributes.profiles,receivedTime:B.manifestReceivedTime,timeShiftBufferDepth:ut,unsafelyBaseOnPreviousManifest:lt,xlinkInfos:F,xmlNamespaces:K.attributes.namespaces},Et=Gi(Re.periods,_t),Pt=Ce.duration,qt,an,un=null,cn;Ce.minimumUpdatePeriod!==void 0&&Ce.minimumUpdatePeriod>=0&&(qt=Ce.minimumUpdatePeriod===0?S.Z.getCurrent().DASH_FALLBACK_LIFETIME_WHEN_MINIMUM_UPDATE_PERIOD_EQUAL_0:Ce.minimumUpdatePeriod);var ln=M(Et),dn=ln.minimumSafePosition,Cn=ln.maximumSafePosition,wn=ln.maximumUnsafePosition,gn=performance.now();if(We){an=dn,un=ut??null;var oe,q;if(wn!==void 0&&(q=wn),Cn!==void 0)oe=Cn;else{var le=Le??0,he=B.externalClockOffset;if(he===void 0)h.Z.warn("DASH Parser: use system clock to define maximum position"),oe=Date.now()/1e3-le;else{var me=performance.now()+he;oe=me/1e3-le}}q===void 0&&(q=oe),cn={isLinear:!0,maximumSafePosition:oe,livePosition:q,time:gn},un!==null&&an!==void 0&&oe-an>un&&(un=oe-an)}else{an=dn!==void 0?dn:((se=Et[0])===null||se===void 0?void 0:se.start)!==void 0?Et[0].start:0;var En=Pt??1/0;if(Et[Et.length-1]!==void 0){var Kn=Et[Et.length-1],J=(ne=Kn.end)!==null&&ne!==void 0?ne:Kn.duration!==void 0?Kn.start+Kn.duration:void 0;J!==void 0&&J<En&&(En=J)}Cn!==void 0&&Cn<En&&(En=Cn),cn={isLinear:!1,maximumSafePosition:En,livePosition:void 0,time:gn}}var _e=!We||K.attributes.minimumUpdatePeriod===void 0&&(((Se=Et[Et.length-1])===null||Se===void 0?void 0:Se.end)!==void 0||K.attributes.duration!==void 0),ke={availabilityStartTime:Le,clockOffset:B.externalClockOffset,isDynamic:We,isLive:We,isLastPeriodKnown:_e,periods:Et,publishTime:Ce.publishTime,suggestedPresentationDelay:Ce.suggestedPresentationDelay,transportType:"dash",timeBounds:{minimumSafePosition:an,timeshiftDepth:un,maximumTimeData:cn},lifetime:qt,uris:B.url==null?Re.locations:[B.url].concat(Re.locations)};return{type:"done",value:{parsed:ke,warnings:V}}}var Ye=Fe;function ot(K){var B=K.textContent,V=[];return B===null||B.length===0?[void 0,V]:[{value:B},V]}function Ht(K){for(var B={},V=0;V<K.attributes.length;V++){var F=K.attributes[V];switch(F.name){case"id":B.id=F.value;break;case"lang":B.language=F.value;break;case"contentType":B.contentType=F.value;break;case"par":B.par=F.value;break}}return B}var Rt=r(7326),ct=r(4578),wt=r(2146),on=r(9689),Wt=/^P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,fn=/([0-9]+)-([0-9]+)/;function Jt(K,B){if(K==="true")return[!0,null];if(K==="false")return[!1,null];var V=new $n("`"+B+'` property is not a boolean value but "'+K+'"');return[!1,V]}function Zt(K,B){var V=parseInt(K,10);if(isNaN(V)){var F=new $n("`"+B+'` property is not an integer value but "'+K+'"');return[null,F]}return[V,null]}function pn(K,B){if(K==="INF")return[1/0,null];var V=parseFloat(K);if(isNaN(V)){var F=new $n("`"+B+'` property is not an integer value but "'+K+'"');return[null,F]}return[V,null]}function On(K,B){if(K==="true")return[!0,null];if(K==="false")return[!1,null];var V=parseInt(K,10);if(isNaN(V)){var F=new $n("`"+B+'` property is not a boolean nor an integer but "'+K+'"');return[null,F]}return[V,null]}function Sn(K,B){var V=Date.parse(K);if(isNaN(V)){var F=new $n("`"+B+'` is in an invalid date format: "'+K+'"');return[null,F]}return[new Date(Date.parse(K)).getTime()/1e3,null]}function Mn(K,B){if(!(0,re.Z)(K)){var V=new $n("`"+B+"` property is empty");return[0,V]}var F=Wt.exec(K);if(F===null){var se=new $n("`"+B+'` property has an unrecognized format "'+K+'"');return[null,se]}var ne=parseFloat((0,re.Z)(F[2])?F[2]:"0")*365*24*60*60+parseFloat((0,re.Z)(F[4])?F[4]:"0")*30*24*60*60+parseFloat((0,re.Z)(F[6])?F[6]:"0")*24*60*60+parseFloat((0,re.Z)(F[8])?F[8]:"0")*60*60+parseFloat((0,re.Z)(F[10])?F[10]:"0")*60+parseFloat((0,re.Z)(F[12])?F[12]:"0");return[ne,null]}function Gn(K,B){var V=fn.exec(K);if(V===null){var F=new $n("`"+B+'` property has an unrecognized format "'+K+'"');return[null,F]}else return[[+V[1],+V[2]],null]}function dr(K,B){try{return[(0,on.K)(K),null]}catch{var V=new $n("`"+B+'` is not a valid base64 string: "'+K+'"');return[null,V]}}function Ln(K){for(var B,V,F=0;F<K.attributes.length;F++){var se=K.attributes[F];switch(se.name){case"schemeIdUri":B=se.value;break;case"value":V=se.value;break}}return{schemeIdUri:B,value:V}}function Nn(K,B){return function(V,F){var se=F.asKey,ne=F.parser,Se=F.dashName,Re=ne(V,Se),Ce=Re[0],We=Re[1];We!==null&&(h.Z.warn(We.message),B.push(We)),Ce!==null&&(K[se]=Ce)}}var $n=function(K){(0,ct.Z)(B,K);function B(V){var F;return F=K.call(this)||this,Object.setPrototypeOf((0,Rt.Z)(F),B.prototype),F.name="MPDError",F.message=V,F}return B}((0,wt.Z)(Error));function Yn(K){for(var B=[],V=[],F=0;F<K.length;F++)if(K[F].nodeType===Node.ELEMENT_NODE){var se=K[F];if(se.nodeName==="cenc:pssh"){var ne=se.textContent;if(ne!==null&&ne.length>0){var Se=dr(ne,"cenc:pssh"),Re=Se[0],Ce=Se[1];Ce!==null&&(h.Z.warn(Ce.message),B.push(Ce)),Re!==null&&V.push(Re)}}}return[{cencPssh:V},B]}function qn(K){for(var B={},V=0;V<K.attributes.length;V++){var F=K.attributes[V];switch(F.name){case"schemeIdUri":B.schemeIdUri=F.value;break;case"value":B.value=F.value;break;case"cenc:default_KID":B.keyId=(0,w.nr)(F.value.replace(/-/g,""))}}return B}function sr(K){var B=Yn(K.childNodes),V=B[0],F=B[1],se=qn(K);return[{children:V,attributes:se},F]}function or(K){for(var B={},V=[],F=Nn(B,V),se=0;se<K.attributes.length;se++){var ne=K.attributes[se];switch(ne.name){case"range":F(ne.value,{asKey:"range",parser:Gn,dashName:"range"});break;case"sourceURL":B.media=ne.value;break}}return[B,V]}function Zn(K){for(var B={},V=[],F=Nn(B,V),se=K.childNodes,ne=0;ne<se.length;ne++)if(se[ne].nodeType===Node.ELEMENT_NODE){var Se=se[ne];if(Se.nodeName==="Initialization"){var Re=or(Se),Ce=Re[0],We=Re[1];B.initialization=Ce,V=V.concat(We)}}for(var Je=0;Je<K.attributes.length;Je++){var at=K.attributes[Je];switch(at.name){case"timescale":F(at.value,{asKey:"timescale",parser:Zt,dashName:"timescale"});break;case"presentationTimeOffset":F(at.value,{asKey:"presentationTimeOffset",parser:pn,dashName:"presentationTimeOffset"});break;case"indexRange":F(at.value,{asKey:"indexRange",parser:Gn,dashName:"indexRange"});break;case"indexRangeExact":F(at.value,{asKey:"indexRangeExact",parser:Jt,dashName:"indexRangeExact"});break;case"availabilityTimeOffset":F(at.value,{asKey:"availabilityTimeOffset",parser:pn,dashName:"availabilityTimeOffset"});break;case"availabilityTimeComplete":F(at.value,{asKey:"availabilityTimeComplete",parser:Jt,dashName:"availabilityTimeComplete"});break;case"duration":F(at.value,{asKey:"duration",parser:Zt,dashName:"duration"});break;case"startNumber":F(at.value,{asKey:"startNumber",parser:Zt,dashName:"startNumber"});break}}return[B,V]}function ye(K){for(var B={},V=[],F=Nn(B,V),se=0;se<K.attributes.length;se++){var ne=K.attributes[se];switch(ne.name){case"media":B.media=ne.value;break;case"indexRange":F(ne.value,{asKey:"indexRange",parser:Gn,dashName:"indexRange"});break;case"index":B.index=ne.value;break;case"mediaRange":F(ne.value,{asKey:"mediaRange",parser:Gn,dashName:"mediaRange"});break}}return[B,V]}function Te(K){for(var B=Zn(K),V=B[0],F=B[1],se=F,ne=[],Se=K.childNodes,Re=0;Re<Se.length;Re++)if(Se[Re].nodeType===Node.ELEMENT_NODE){var Ce=Se[Re];if(Ce.nodeName==="SegmentURL"){var We=ye(Ce),Je=We[0],at=We[1];ne.push(Je),se=se.concat(at)}}var Le=(0,Y.Z)(V,{list:ne});return[Le,se]}function xe(K){var B=null;return function(){if(B===null){var V=K.getElementsByTagName("S");return B=V,V}return B}}function Oe(K){for(var B=Zn(K),V=B[0],F=B[1],se=F,ne,Se=0;Se<K.childNodes.length;Se++)if(K.childNodes[Se].nodeType===Node.ELEMENT_NODE){var Re=K.childNodes[Se];Re.nodeName==="SegmentTimeline"&&(ne=xe(Re))}for(var Ce=(0,Y.Z)({},V,{duration:V.duration,timelineParser:ne}),We=Nn(Ce,se),Je=0;Je<K.attributes.length;Je++){var at=K.attributes[Je];switch(at.nodeName){case"initialization":Ce.initialization==null&&(Ce.initialization={media:at.value});break;case"index":Ce.index=at.value;break;case"availabilityTimeOffset":We(at.value,{asKey:"availabilityTimeOffset",parser:pn,dashName:"availabilityTimeOffset"});break;case"availabilityTimeComplete":We(at.value,{asKey:"availabilityTimeComplete",parser:Jt,dashName:"availabilityTimeComplete"});break;case"media":Ce.media=at.value;break;case"bitstreamSwitching":We(at.value,{asKey:"bitstreamSwitching",parser:Jt,dashName:"bitstreamSwitching"});break}}return[Ce,se]}function Xe(K){for(var B={baseURLs:[]},V=[],F=[],se=0;se<K.length;se++)if(K[se].nodeType===Node.ELEMENT_NODE){var ne=K[se];switch(ne.nodeName){case"BaseURL":var Se=ot(ne),Re=Se[0],Ce=Se[1];Re!==void 0&&B.baseURLs.push(Re),F=F.concat(Ce);break;case"InbandEventStream":B.inbandEventStreams===void 0&&(B.inbandEventStreams=[]),B.inbandEventStreams.push(Ln(ne));break;case"SegmentBase":var We=Zn(ne),Je=We[0],at=We[1];B.segmentBase=Je,at.length>0&&(F=F.concat(at));break;case"SegmentList":var Le=Te(ne),ut=Le[0],yt=Le[1];F=F.concat(yt),B.segmentList=ut;break;case"SegmentTemplate":var lt=Oe(ne),_t=lt[0],Et=lt[1];F=F.concat(Et),B.segmentTemplate=_t;break;case"ContentProtection":var Pt=sr(ne),qt=Pt[0],an=Pt[1];an.length>0&&(F=F.concat(an)),qt!==void 0&&V.push(qt);break}}return V.length>0&&(B.contentProtections=V),[B,F]}function it(K){for(var B={},V=[],F=Nn(B,V),se=0;se<K.attributes.length;se++){var ne=K.attributes[se];switch(ne.name){case"audioSamplingRate":B.audioSamplingRate=ne.value;break;case"bandwidth":F(ne.value,{asKey:"bitrate",parser:Zt,dashName:"bandwidth"});break;case"codecs":B.codecs=ne.value;break;case"codingDependency":F(ne.value,{asKey:"codingDependency",parser:Jt,dashName:"codingDependency"});break;case"frameRate":B.frameRate=ne.value;break;case"height":F(ne.value,{asKey:"height",parser:Zt,dashName:"height"});break;case"id":B.id=ne.value;break;case"maxPlayoutRate":F(ne.value,{asKey:"maxPlayoutRate",parser:pn,dashName:"maxPlayoutRate"});break;case"maximumSAPPeriod":F(ne.value,{asKey:"maximumSAPPeriod",parser:pn,dashName:"maximumSAPPeriod"});break;case"mimeType":B.mimeType=ne.value;break;case"profiles":B.profiles=ne.value;break;case"qualityRanking":F(ne.value,{asKey:"qualityRanking",parser:Zt,dashName:"qualityRanking"});break;case"segmentProfiles":B.segmentProfiles=ne.value;break;case"width":F(ne.value,{asKey:"width",parser:Zt,dashName:"width"});break;case"availabilityTimeOffset":F(ne.value,{asKey:"availabilityTimeOffset",parser:pn,dashName:"availabilityTimeOffset"});break;case"availabilityTimeComplete":F(ne.value,{asKey:"availabilityTimeComplete",parser:Jt,dashName:"availabilityTimeComplete"});break}}return B.bitrate===void 0&&V.push(new $n("No bitrate found on a Representation")),[B,V]}function At(K){var B=Xe(K.childNodes),V=B[0],F=B[1],se=it(K),ne=se[0],Se=se[1],Re=F.concat(Se);return[{children:V,attributes:ne},Re]}function Ft(K){for(var B={baseURLs:[],representations:[]},V=[],F=[],se=0;se<K.length;se++)if(K[se].nodeType===Node.ELEMENT_NODE){var ne=K[se];switch(ne.nodeName){case"Accessibility":B.accessibilities===void 0?B.accessibilities=[Ln(ne)]:B.accessibilities.push(Ln(ne));break;case"BaseURL":var Se=ot(ne),Re=Se[0],Ce=Se[1];Re!==void 0&&B.baseURLs.push(Re),Ce.length>0&&(F=F.concat(Ce));break;case"ContentComponent":B.contentComponent=Ht(ne);break;case"EssentialProperty":B.essentialProperties==null?B.essentialProperties=[Ln(ne)]:B.essentialProperties.push(Ln(ne));break;case"InbandEventStream":B.inbandEventStreams===void 0&&(B.inbandEventStreams=[]),B.inbandEventStreams.push(Ln(ne));break;case"Label":var We=ne.textContent;We!=null&&(B.label=We);break;case"Representation":var Je=At(ne),at=Je[0],Le=Je[1];B.representations.push(at),Le.length>0&&(F=F.concat(Le));break;case"Role":B.roles==null?B.roles=[Ln(ne)]:B.roles.push(Ln(ne));break;case"SupplementalProperty":B.supplementalProperties==null?B.supplementalProperties=[Ln(ne)]:B.supplementalProperties.push(Ln(ne));break;case"SegmentBase":var ut=Zn(ne),yt=ut[0],lt=ut[1];B.segmentBase=yt,lt.length>0&&(F=F.concat(lt));break;case"SegmentList":var _t=Te(ne),Et=_t[0],Pt=_t[1];B.segmentList=Et,Pt.length>0&&(F=F.concat(Pt));break;case"SegmentTemplate":var qt=Oe(ne),an=qt[0],un=qt[1];B.segmentTemplate=an,un.length>0&&(F=F.concat(un));break;case"ContentProtection":var cn=sr(ne),ln=cn[0],dn=cn[1];dn.length>0&&(F=F.concat(dn)),ln!==void 0&&V.push(ln);break}}return V.length>0&&(B.contentProtections=V),[B,F]}function Qt(K){for(var B={},V=[],F=Nn(B,V),se=0;se<K.attributes.length;se++){var ne=K.attributes[se];switch(ne.name){case"id":B.id=ne.value;break;case"group":F(ne.value,{asKey:"group",parser:Zt,dashName:"group"});break;case"lang":B.language=ne.value;break;case"contentType":B.contentType=ne.value;break;case"par":B.par=ne.value;break;case"minBandwidth":F(ne.value,{asKey:"minBitrate",parser:Zt,dashName:"minBandwidth"});break;case"maxBandwidth":F(ne.value,{asKey:"maxBitrate",parser:Zt,dashName:"maxBandwidth"});break;case"minWidth":F(ne.value,{asKey:"minWidth",parser:Zt,dashName:"minWidth"});break;case"maxWidth":F(ne.value,{asKey:"maxWidth",parser:Zt,dashName:"maxWidth"});break;case"minHeight":F(ne.value,{asKey:"minHeight",parser:Zt,dashName:"minHeight"});break;case"maxHeight":F(ne.value,{asKey:"maxHeight",parser:Zt,dashName:"maxHeight"});break;case"minFrameRate":B.minFrameRate=ne.value;break;case"maxFrameRate":B.maxFrameRate=ne.value;break;case"selectionPriority":F(ne.value,{asKey:"selectionPriority",parser:Zt,dashName:"selectionPriority"});break;case"segmentAlignment":F(ne.value,{asKey:"segmentAlignment",parser:On,dashName:"segmentAlignment"});break;case"subsegmentAlignment":F(ne.value,{asKey:"subsegmentAlignment",parser:On,dashName:"subsegmentAlignment"});break;case"bitstreamSwitching":F(ne.value,{asKey:"bitstreamSwitching",parser:Jt,dashName:"bitstreamSwitching"});break;case"audioSamplingRate":B.audioSamplingRate=ne.value;break;case"codecs":B.codecs=ne.value;break;case"codingDependency":F(ne.value,{asKey:"codingDependency",parser:Jt,dashName:"codingDependency"});break;case"frameRate":B.frameRate=ne.value;break;case"height":F(ne.value,{asKey:"height",parser:Zt,dashName:"height"});break;case"maxPlayoutRate":F(ne.value,{asKey:"maxPlayoutRate",parser:pn,dashName:"maxPlayoutRate"});break;case"maximumSAPPeriod":F(ne.value,{asKey:"maximumSAPPeriod",parser:pn,dashName:"maximumSAPPeriod"});break;case"mimeType":B.mimeType=ne.value;break;case"profiles":B.profiles=ne.value;break;case"segmentProfiles":B.segmentProfiles=ne.value;break;case"width":F(ne.value,{asKey:"width",parser:Zt,dashName:"width"});break;case"availabilityTimeOffset":F(ne.value,{asKey:"availabilityTimeOffset",parser:pn,dashName:"availabilityTimeOffset"});break;case"availabilityTimeComplete":F(ne.value,{asKey:"availabilityTimeComplete",parser:Jt,dashName:"availabilityTimeComplete"});break}}return[B,V]}function Gt(K){var B=K.childNodes,V=Ft(B),F=V[0],se=V[1],ne=Qt(K),Se=ne[0],Re=ne[1],Ce=se.concat(Re);return[{children:F,attributes:Se},Ce]}function Mt(K){for(var B={children:{events:[]},attributes:{}},V=[],F=Nn(B.attributes,V),se=0;se<K.attributes.length;se++){var ne=K.attributes[se];switch(ne.name){case"schemeIdUri":B.attributes.schemeIdUri=ne.value;break;case"timescale":F(ne.value,{asKey:"timescale",parser:Zt,dashName:"timescale"});break;case"value":B.attributes.value=ne.value;break}}for(var Se=0;Se<K.childNodes.length;Se++)if(K.childNodes[Se].nodeType===Node.ELEMENT_NODE){var Re=K.childNodes[Se];switch(Re.nodeName){case"Event":var Ce=Vt(Re),We=Ce[0],Je=Ce[1];B.children.events.push(We),Je.length>0&&(V=V.concat(Je));break}}return[B,V]}function Vt(K){for(var B={eventStreamData:K},V=[],F=Nn(B,V),se=0;se<K.attributes.length;se++){var ne=K.attributes[se];switch(ne.name){case"presentationTime":F(ne.value,{asKey:"presentationTime",parser:Zt,dashName:"presentationTime"});break;case"duration":F(ne.value,{asKey:"duration",parser:Zt,dashName:"duration"});break;case"id":B.id=ne.value;break}}return[B,V]}function Bt(K){for(var B=[],V=[],F,se=[],ne=[],Se=0;Se<K.length;Se++)if(K[Se].nodeType===Node.ELEMENT_NODE){var Re=K[Se];switch(Re.nodeName){case"BaseURL":var Ce=ot(Re),We=Ce[0],Je=Ce[1];We!==void 0&&B.push(We),se=se.concat(Je);break;case"AdaptationSet":var at=Gt(Re),Le=at[0],ut=at[1];V.push(Le),se=se.concat(ut);break;case"EventStream":var yt=Mt(Re),lt=yt[0],_t=yt[1];ne.push(lt),se=se.concat(_t);break;case"SegmentTemplate":var Et=Oe(Re),Pt=Et[0],qt=Et[1];F=Pt,qt.length>0&&(se=se.concat(qt));break}}return[{baseURLs:B,adaptations:V,eventStreams:ne,segmentTemplate:F},se]}function Yt(K){for(var B={},V=[],F=Nn(B,V),se=0;se<K.attributes.length;se++){var ne=K.attributes[se];switch(ne.name){case"id":B.id=ne.value;break;case"start":F(ne.value,{asKey:"start",parser:Mn,dashName:"start"});break;case"duration":F(ne.value,{asKey:"duration",parser:Mn,dashName:"duration"});break;case"bitstreamSwitching":F(ne.value,{asKey:"bitstreamSwitching",parser:Jt,dashName:"bitstreamSwitching"});break;case"xlink:href":B.xlinkHref=ne.value;break;case"xlink:actuate":B.xlinkActuate=ne.value;break}}return[B,V]}function Lt(K){var B=Bt(K.childNodes),V=B[0],F=B[1],se=Yt(K),ne=se[0],Se=se[1],Re=F.concat(Se);return[{children:V,attributes:ne},Re]}function tn(K){for(var B=[],V=[],F=[],se=[],ne=[],Se=0;Se<K.length;Se++)if(K[Se].nodeType===Node.ELEMENT_NODE){var Re=K[Se];switch(Re.nodeName){case"BaseURL":var Ce=ot(Re),We=Ce[0],Je=Ce[1];We!==void 0&&B.push(We),ne=ne.concat(Je);break;case"Location":V.push(Re.textContent===null?"":Re.textContent);break;case"Period":var at=Lt(Re),Le=at[0],ut=at[1];F.push(Le),ne=ne.concat(ut);break;case"UTCTiming":var yt=Ln(Re);se.push(yt);break}}return[{baseURLs:B,locations:V,periods:F,utcTimings:se},ne]}function An(K){for(var B={},V=[],F=Nn(B,V),se=0;se<K.attributes.length;se++){var ne=K.attributes[se];switch(ne.name){case"id":B.id=ne.value;break;case"profiles":B.profiles=ne.value;break;case"type":B.type=ne.value;break;case"availabilityStartTime":F(ne.value,{asKey:"availabilityStartTime",parser:Sn,dashName:"availabilityStartTime"});break;case"availabilityEndTime":F(ne.value,{asKey:"availabilityEndTime",parser:Sn,dashName:"availabilityEndTime"});break;case"publishTime":F(ne.value,{asKey:"publishTime",parser:Sn,dashName:"publishTime"});break;case"mediaPresentationDuration":F(ne.value,{asKey:"duration",parser:Mn,dashName:"mediaPresentationDuration"});break;case"minimumUpdatePeriod":F(ne.value,{asKey:"minimumUpdatePeriod",parser:Mn,dashName:"minimumUpdatePeriod"});break;case"minBufferTime":F(ne.value,{asKey:"minBufferTime",parser:Mn,dashName:"minBufferTime"});break;case"timeShiftBufferDepth":F(ne.value,{asKey:"timeShiftBufferDepth",parser:Mn,dashName:"timeShiftBufferDepth"});break;case"suggestedPresentationDelay":F(ne.value,{asKey:"suggestedPresentationDelay",parser:Mn,dashName:"suggestedPresentationDelay"});break;case"maxSegmentDuration":F(ne.value,{asKey:"maxSegmentDuration",parser:Mn,dashName:"maxSegmentDuration"});break;case"maxSubsegmentDuration":F(ne.value,{asKey:"maxSubsegmentDuration",parser:Mn,dashName:"maxSubsegmentDuration"});break}}return[B,V]}function vn(K){var B=tn(K.childNodes),V=B[0],F=B[1],se=An(K),ne=se[0],Se=se[1],Re=F.concat(Se);return[{children:V,attributes:ne},Re]}function In(K,B){var V=K.documentElement;if((0,g.Z)(V)||V.nodeName!=="MPD")throw new Error("DASH Parser: document root should be MPD");var F=vn(V),se=F[0],ne=F[1],Se=Ye(se,B,ne);return Re(Se);function Re(Ce){if(Ce.type==="done")return Ce;if(Ce.type==="needs-clock")return{type:"needs-resources",value:{urls:[Ce.value.url],format:"string",continue:function(Je){if(Je.length!==1)throw new Error("DASH parser: wrong number of loaded ressources.");var at=Ce.value.continue(Je[0].responseData);return Re(at)}}};if(Ce.type==="needs-xlinks")return{type:"needs-resources",value:{urls:Ce.value.xlinksUrls,format:"string",continue:function(Je){for(var at=[],Le=0;Le<Je.length;Le++){var ut=Je[Le],yt=ut.responseData,lt=ut.receivedTime,_t=ut.sendingTime,Et=ut.url;if(!yt.success)throw yt.error;var Pt="<root>"+yt.data+"</root>",qt=new DOMParser().parseFromString(Pt,"text/xml");if(qt==null||qt.children.length===0)throw new Error("DASH parser: Invalid external ressources");for(var an=qt.children[0].children,un=[],cn=[],ln=0;ln<an.length;ln++)if(an[ln].nodeType===Node.ELEMENT_NODE){var dn,Cn=Lt(an[ln]),wn=Cn[0],gn=Cn[1];(dn=cn).push.apply(dn,gn),un.push(wn)}at.push({url:Et,receivedTime:lt,sendingTime:_t,parsed:un,warnings:cn})}var En=Ce.value.continue(at);return Re(En)}}};(0,p.Z)(Ce)}}var xn=In},8232:function(E,_,r){r.d(_,{Z:function(){return p}});function p(g,S){for(var h=0;g.length>0;){var b=g[0];if(b.start>=S||b.repeatCount===-1)return h;if(b.repeatCount===0)g.shift(),h+=1;else{var y=g[1];if(y!==void 0&&y.start<=S)g.shift(),h+=1;else{if(b.duration<=0)return h;for(var A=b.start+b.duration,k=1;A<S&&k<=b.repeatCount;)A+=b.duration,k++;if(k>b.repeatCount)g.shift(),h=b.repeatCount+1;else{var c=b.repeatCount-k;return b.start=A,b.repeatCount=c,h+=k,h}}}}return h}},3911:function(E,_,r){r.d(_,{KF:function(){return g},PZ:function(){return y},_j:function(){return k},gT:function(){return h},jH:function(){return S},zG:function(){return b}});var p=r(1946);function g(c,f,l){var I=c.repeatCount;if(I>=0)return I;var M;return(0,p.Z)(f)?l!==void 0?M=l:M=Number.MAX_VALUE:M=f.start,Math.ceil((M-c.start)/c.duration)-1}function S(c,f,l){var I=c.start,M=c.duration;if(M<=0)return I;var C=g(c,f,l);return I+(C+1)*M}function h(c,f){var l;return c*f.timescale+((l=f.indexTimeOffset)!==null&&l!==void 0?l:0)}function b(c,f){var l;return(c-((l=f.indexTimeOffset)!==null&&l!==void 0?l:0))/f.timescale}function y(c,f,l){return[c*l,(c+f)*l]}function A(c,f){for(var l=0,I=c.length;l<I;){var M=l+I>>>1;c[M].start<=f?l=M+1:I=M}return l-1}function k(c,f,l){var I=c.timeline,M=h(f,c);if(M<0)return null;var C=A(I,M);if(C<0||C>=I.length-1)return null;var O=I[C];if(O.duration<=0)return null;var P=I[C+1];if(P===void 0)return null;var $=P.start,w=S(O,P,l);return M>=w&&M<$?b($,c):null}},1091:function(E,_,r){r.d(_,{Z:function(){return p}});function p(g,S,h,b){for(var y=0;y<S.length;y++){var A=S[y],k=(A.start-b)/h;if(k>g.time)return!1;if(k===g.time)return A.range===void 0?g.range===void 0:g.range!=null&&A.range[0]===g.range[0]&&A.range[1]===g.range[1];if(A.repeatCount>=0&&A.duration!==void 0){var c=k-A.start,f=c/A.duration-1;return f%1===0&&f<=A.repeatCount}}return!1}},5505:function(E,_,r){r.d(_,{Z:function(){return h}});var p=r(3714),g=r(3887),S=r(3911);function h(b,y){if(b.length===0)return b.push.apply(b,y),!0;if(y.length===0)return!1;var A=b.length,k=y[0].start,c=b[A-1],f=(0,S.jH)(c,y[0]);if(f<k)throw new p.Z("MANIFEST_UPDATE_ERROR","Cannot perform partial update: not enough data");for(var l=A-1;l>=0;l--){var I=b[l].start;if(I===k){var M=A-l;return b.splice.apply(b,[l,M].concat(y)),!1}else if(I<k){var C=b[l];if(C.start+C.duration>k)return g.Z.warn("RepresentationIndex: Manifest update removed all previous segments"),b.splice.apply(b,[0,A].concat(y)),!0;if(C.repeatCount===void 0||C.repeatCount<=0)return C.repeatCount<0&&(C.repeatCount=Math.floor((k-C.start)/C.duration)-1),b.splice.apply(b,[l+1,A-(l+1)].concat(y)),!1;var O=C.start+C.duration*(C.repeatCount+1);if(O<=k)return b.splice.apply(b,[l+1,A-(l+1)].concat(y)),!1;var P=(k-C.start)/C.duration-1;if(P%1===0&&C.duration===y[0].duration){var $=y[0].repeatCount<0?-1:y[0].repeatCount+P+1;return b.splice.apply(b,[l,A-l].concat(y)),b[l].start=C.start,b[l].repeatCount=$,!1}return g.Z.warn("RepresentationIndex: Manifest update removed previous segments"),b[l].repeatCount=Math.floor(P),b.splice.apply(b,[l+1,A-(l+1)].concat(y)),!1}}var w=b[b.length-1],U=y[y.length-1];if(w.repeatCount!==void 0&&w.repeatCount<0)return w.start>U.start?(g.Z.warn("RepresentationIndex: The new index is older than the previous one"),!1):(g.Z.warn('RepresentationIndex: The new index is "bigger" than the previous one'),b.splice.apply(b,[0,A].concat(y)),!0);var z=w.start+w.duration*(w.repeatCount+1),L=U.start+U.duration*(U.repeatCount+1);return z>=L?(g.Z.warn("RepresentationIndex: The new index is older than the previous one"),!1):(g.Z.warn('RepresentationIndex: The new index is "bigger" than the previous one'),b.splice.apply(b,[0,A].concat(y)),!0)}},5734:function(E,_,r){var p=r(6923),g=/&#([0-9]+);/g,S=/<br>/gi,h=/<style[^>]*>([\s\S]*?)<\/style[^>]*>/i,b=/\s*<p (?:class=([^>]+))?>(.*)/i,y=/<sync[^>]+?start="?([0-9]*)"?[^0-9]/i;function A(I){for(var M=/\.(\S+)\s*{([^}]*)}/gi,C={},O=M.exec(I);O!==null;){var P=O[1],$=c(O[2],"lang");P!=null&&$!=null&&(C[$]=P),O=M.exec(I)}return C}function k(I){var M=/p\s*{([^}]*)}/gi,C=M.exec(I);return C===null?"":C[1]}function c(I,M){var C=new RegExp("\\s*"+M+":\\s*(\\S+);","i").exec(I);return Array.isArray(C)?C[1]:null}function f(I){return I.replace(g,function(M,C){return String.fromCharCode(Number(C))})}function l(I,M,C){var O=/<sync[ >]/ig,P=/<sync[ >]|<\/body>/ig,$=[],w=h.exec(I),U=Array.isArray(w)?w[1]:"",z,L;P.exec(I);var x=A(U),Z=k(U),Q;if((0,p.Z)(C)&&(Q=x[C],Q===void 0))throw new Error("sami: could not find lang "+C+" in CSS");for(;z=O.exec(I),L=P.exec(I),!(z===null&&L===null);){if(z===null||L===null||z.index>=L.index)throw new Error("parse error");var re=I.slice(z.index,L.index),j=y.exec(re);if(!Array.isArray(j))throw new Error("parse error (sync time attribute)");var ee=+j[1];if(isNaN(ee))throw new Error("parse error (sync time attribute NaN)");ue(re.split(`
`),ee/1e3)}return $;function ue(ae,D){for(var H=ae.length;--H>=0;){var W=b.exec(ae[H]);if(Array.isArray(W)){var Y=W[1],X=W[2];if(Q===Y)if(X==="&nbsp;")$[$.length-1].end=D;else{var ie=document.createElement("DIV");ie.className="rxp-texttrack-region";var fe=document.createElement("DIV");fe.className="rxp-texttrack-div",fe.style.position="absolute",fe.style.bottom="0",fe.style.width="100%",fe.style.color="#fff",fe.style.textShadow="-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000";var be=document.createElement("div");be.className="rxp-texttrack-p",(0,p.Z)(Z)&&(be.style.cssText=Z);for(var ge=X.split(S),Be=0;Be<ge.length;Be++){Be!==0&&be.appendChild(document.createElement("BR"));var Ke=document.createElement("SPAN");Ke.className="rxp-texttrack-span",Ke.textContent=f(ge[Be]),be.appendChild(Ke)}fe.appendChild(be),ie.appendChild(fe),$.push({element:ie,start:D+M,end:-1})}}}}}_.Z=l},1812:function(E,_,r){var p=r(7253),g=r(6923),S=/&#([0-9]+);/g,h=/<br>/gi,b=/<style[^>]*>([\s\S]*?)<\/style[^>]*>/i,y=/\s*<p (?:class=([^>]+))?>(.*)/i,A=/<sync[^>]+?start="?([0-9]*)"?[^0-9]/i;function k(M){for(var C=[],O=0;O<M.length;O++){var P=M[O],$=P.start,w=P.end,U=P.text;if((0,g.Z)(U)&&w!=null){var z=(0,p.Z)($,w,U);z!=null&&C.push(z)}}return C}function c(M){for(var C=/\.(\S+)\s*{([^}]*)}/gi,O={},P=C.exec(M);Array.isArray(P);){var $=P[1],w=f(P[2],"lang");$!=null&&w!=null&&(O[w]=$),P=C.exec(M)}return O}function f(M,C){var O=new RegExp("\\s*"+C+":\\s*(\\S+);","i").exec(M);return Array.isArray(O)?O[1]:null}function l(M){return M.replace(h,`
`).replace(S,function(C,O){return String.fromCharCode(Number(O))})}function I(M,C,O){var P=/<sync[ >]/ig,$=/<sync[ >]|<\/body>/ig,w=[],U=b.exec(M),z=U!==null?U[1]:"",L,x;$.exec(M);var Z=c(z),Q;if((0,g.Z)(O)&&(Q=Z[O],Q===void 0))throw new Error("sami: could not find lang "+O+" in CSS");for(;L=P.exec(M),x=$.exec(M),!(L===null&&x===null);){if(L===null||x===null||L.index>=x.index)throw new Error("parse error");var re=M.slice(L.index,x.index),j=A.exec(re);if(j===null)throw new Error("parse error (sync time attribute)");var ee=+j[1];if(isNaN(ee))throw new Error("parse error (sync time attribute NaN)");ue(re.split(`
`),ee/1e3)}return k(w);function ue(ae,D){for(var H=ae.length,W;--H>=0;)if(W=y.exec(ae[H]),W!==null){var Y=W,X=Y[1],ie=Y[2];Q===X&&(ie==="&nbsp;"?w[w.length-1].end=D:w.push({text:l(ie),start:D+C}))}}}_.Z=I},2061:function(E,_,r){r.d(_,{Z:function(){return S}});var p=r(6923);function g(h,b){for(var y=b+1;(0,p.Z)(h[y]);)y++;return y}function S(h){for(var b=[],y=0;y<h.length;y++)if((0,p.Z)(h[y])){var A=g(h,y),k=h.slice(y,A);k.length>0&&(k.length===1?k[0].indexOf("-->")>=0&&b.push(k):(k[1].indexOf("-->")>=0||k[0].indexOf("-->")>=0)&&b.push(k)),y=A}return b}},8675:function(E,_,r){r.d(_,{Z:function(){return S}});var p=r(2061),g=r(788);function S(A,k){for(var c=A.split(/\r\n|\n|\r/),f=(0,p.Z)(c),l=[],I=0;I<f.length;I++){var M=(0,g.Z)(f[I],k);if(M!=null){var C=h(M);C!=null&&l.push(C)}}return l}function h(A){var k=A.start,c=A.end,f=A.payload,l=document.createElement("div");l.className="rxp-texttrack-p",l.style.fontSize="28px",l.style.position="absolute",l.style.bottom="5%",l.style.width="100%",l.style.textAlign="center",l.style.color="#fff",l.style.textShadow="-1px -1px 2px #000,1px -1px 2px #000,-1px 1px 2px #000,1px 1px 2px #000";for(var I=0;I<f.length;I++){I!==0&&l.appendChild(document.createElement("br"));var M=b(f[I]);l.appendChild(M)}return{start:k,end:c,element:l}}function b(A){var k=document.createElement("div");k.innerHTML=A;var c=function f(l){var I=l.childNodes,M=document.createElement("span");M.className="rxp-texttrack-span";for(var C=0;C<I.length;C++){var O=I[C];if(O.nodeName==="#text"){for(var P=O.wholeText.split(`
`),$=0;$<P.length;$++)if($!==0&&M.appendChild(document.createElement("br")),P[$].length>0){var w=document.createTextNode(P[$]);M.appendChild(w)}}else if(O.nodeName==="B"){var U=f(O);U.style.fontWeight="bold",M.appendChild(U)}else if(O.nodeName==="I"){var z=f(O);z.style.fontStyle="italic",M.appendChild(z)}else if(O.nodeName==="U"){var L=f(O);L.style.textDecoration="underline",M.appendChild(L)}else if(y(O)&&typeof O.color=="string"){var x=f(O);x.style.color=O.color,M.appendChild(x)}else{var Z=f(O);M.appendChild(Z)}}return M};return c(k)}function y(A){return A.nodeName==="FONT"&&"color"in A}},8057:function(E,_,r){r.d(_,{Z:function(){return h}});var p=r(7253),g=r(2061),S=r(788);function h(y,A){for(var k=y.split(/\r\n|\n|\r/),c=(0,g.Z)(k),f=[],l=0;l<c.length;l++){var I=(0,S.Z)(c[l],A);if(I!==null){var M=b(I);M!==null&&f.push(M)}}return f}function b(y){var A=y.start,k=y.end,c=y.payload,f=c.join(`
`);return(0,p.Z)(A,k,f)}},788:function(E,_,r){r.d(_,{Z:function(){return S}});var p=r(6923);function g(h){var b=h.split(":");if((0,p.Z)(b[2])){var y=parseInt(b[0],10),A=parseInt(b[1],10),k=parseFloat(b[2].replace(",","."));return isNaN(y)||isNaN(A)||isNaN(k)?void 0:y*60*60+A*60+k}}function S(h,b){if(h.length===0)return null;var y,A,k=[];if((0,p.Z)(h[1])&&h[1].indexOf("-->")!==-1){var c=h[1].split("-->").map(function(M){return M.trim()});y=c[0],A=c[1],k=h.slice(2,h.length)}if(!(0,p.Z)(y)||!(0,p.Z)(A)){var f=h[0].split("-->").map(function(M){return M.trim()});y=f[0],A=f[1],k=h.slice(1,h.length)}if(!(0,p.Z)(y)||!(0,p.Z)(A))return null;var l=g(y),I=g(A);return l===void 0||I===void 0?null:{start:l+b,end:I+b,payload:k}}},3791:function(E,_,r){r.d(_,{U:function(){return b},b:function(){return y}});var p=r(3274),g=r(7714),S=r(6923),h=r(9252);function b(A,k,c,f){for(var l={},I=A.slice(),M=0;M<=k.length-1;M++){var C=k[M];if(C!==void 0){var O=function(){var P=void 0,$=void 0;if(C.nodeType===Node.ELEMENT_NODE)for(var w=C,U=0;U<=w.attributes.length-1;U++){var z=w.attributes[U],L=z.name;if(L==="style")P=z.value;else if(L==="region")$=z.value;else{var x=L.substring(4);if((0,g.Z)(I,x)&&(l[x]=z.value,I.splice(U,1),I.length===0))return{v:l}}}if((0,S.Z)(P)){var Z=(0,p.Z)(c,function(ae){return ae.id===P});if(Z!==void 0)for(var Q=0;Q<=I.length-1;Q++){var re=I[Q];if(!(0,S.Z)(l[re])&&(0,S.Z)(Z.style[re])){if(l[re]=Z.style[re],I.splice(Q,1),I.length===0)return{v:l};Q--}}}if((0,S.Z)($)){var j=(0,p.Z)(f,function(ae){return ae.id===$});if(j!==void 0)for(var ee=0;ee<=I.length-1;ee++){var ue=I[ee];if(!(0,S.Z)(l[ue])&&(0,S.Z)(j.style[ue])){if(l[ue]=j.style[ue],I.splice(ee,1),I.length===0)return{v:l};ee--}}}}();if(typeof O=="object")return O.v}}return l}function y(A){if(A.nodeType!==Node.ELEMENT_NODE)return{};for(var k=A,c={},f=0;f<=k.attributes.length-1;f++){var l=k.attributes[f];if((0,h.Z)(l.name,"tts")){var I=l.name.substring(4);c[I]=l.value}}return c}},6177:function(E,_,r){r.d(_,{Z:function(){return c}});var p=r(6923),g=r(5336);function S(f,l){if(g.gu.test(f))return y(l,f);if(g.KO.test(f))return A(g.KO,f);if(g.wf.test(f))return A(g.wf,f);if(g.jb.test(f))return h(l,f);if(g.Du.test(f))return b(l,f);if(g.te.test(f))return A(g.te,f)}function h(f,l){var I=g.jb.exec(l),M=Number(I[1]);return M/f.frameRate}function b(f,l){var I=g.Du.exec(l),M=Number(I[1]);return M/f.tickRate}function y(f,l){var I=g.gu.exec(l),M=Number(I[1]),C=Number(I[2]),O=Number(I[3]),P=Number(I[4]),$=Number(I[5]);return isNaN($)&&($=0),P+=$/f.subFrameRate,O+=P/f.frameRate,O+C*60+M*3600}function A(f,l){var I=f.exec(l);if(I===null||I[0]==="")return null;var M=Number(I[1]);isNaN(M)&&(M=0);var C=Number(I[2]);isNaN(C)&&(C=0);var O=Number(I[3]);isNaN(O)&&(O=0);var P=Number(I[4]);return isNaN(P)&&(P=0),P/1e3+O+C*60+M*3600}var k=S;function c(f,l){var I=f.getAttribute("begin"),M=f.getAttribute("dur"),C=f.getAttribute("end"),O=(0,p.Z)(I)?k(I,l):null,P=(0,p.Z)(M)?k(M,l):null,$=(0,p.Z)(C)?k(C,l):null;if(O==null||$==null&&P==null)throw new Error("Invalid text cue");var w=$??O+P;return{start:O,end:w}}},7439:function(E,_,r){r.d(_,{Z:function(){return ae}});var p=r(959);function g(D){return D.extent===void 0&&D.origin===void 0&&D.displayAlign===void 0&&D.display===void 0&&D.textAlign===void 0&&D.fontSize===void 0}function S(D){D.extent="70% 20%",D.fontSize="1c",D.origin="15% 80%",D.displayAlign="before",D.textAlign="center"}var h=r(6177),b;function y(D,H){if(b===void 0&&(b=D.classList!==void 0&&typeof D.classList.add=="function"),b)D.classList.add(H);else{var W=" "+D.className+" ";W.indexOf(" "+H+" ")<0&&(D.className+=" "+H)}}var A=r(6923),k=r(8026),c=r(3791),f=r(1594),l=r(3887),I=r(5336);function M(D,H){var W=H.trim();if(W!=="auto"){var Y=W.split(" ");if(Y.length===2){var X=I.eT.exec(Y[0]),ie=I.eT.exec(Y[1]);X!==null&&ie!==null&&(X[2]==="px"||X[2]==="%"||X[2]==="em"?D.style.width=X[1]+X[2]:X[2]==="c"?(y(D,"proportional-style"),D.setAttribute("data-proportional-width",X[1])):l.Z.warn("TTML Parser: unhandled extent unit:",X[2]),ie[2]==="px"||ie[2]==="%"||ie[2]==="em"?D.style.height=ie[1]+ie[2]:ie[2]==="c"?(y(D,"proportional-style"),D.setAttribute("data-proportional-height",ie[1])):l.Z.warn("TTML Parser: unhandled extent unit:",ie[2]))}}}function C(D,H){var W=H.trim(),Y=W.split(" ");if(Y.length!==0){var X=I.eT.exec(Y[0]);if(X!==null)if(X[2]==="px"||X[2]==="em")D.style.fontSize=X[1]+X[2];else if(X[2]==="c")D.style.position="relative",y(D,"proportional-style"),D.setAttribute("data-proportional-font-size",X[1]);else if(X[2]==="%"){var ie=Number(X[1]);isNaN(ie)?l.Z.warn('TTML Parser: could not parse fontSize value "'+X[1]+'" into a number'):(D.style.position="relative",y(D,"proportional-style"),D.setAttribute("data-proportional-font-size",String(ie/100)))}else l.Z.warn("TTML Parser: unhandled fontSize unit:",X[2])}}function O(D,H){var W=H.trim();if(W!=="auto"){var Y=I.eT.exec(W[0]);Y!==null&&(Y[2]==="px"||Y[2]==="%"||Y[2]==="em"?D.style.lineHeight=Y[1]+Y[2]:Y[2]==="c"?(y(D,"proportional-style"),D.setAttribute("data-proportional-line-height",Y[1])):l.Z.warn("TTML Parser: unhandled lineHeight unit:",Y[2]))}}function P(D,H){var W=H.trim();if(W!=="auto"){var Y=W.split(" ");if(Y.length===2){var X=I.eT.exec(Y[0]),ie=I.eT.exec(Y[1]);X!==null&&ie!==null&&(X[2]==="px"||X[2]==="%"||X[2]==="em"?D.style.left=X[1]+X[2]:X[2]==="c"?(y(D,"proportional-style"),D.setAttribute("data-proportional-left",X[1])):l.Z.warn("TTML Parser: unhandled origin unit:",X[2]),ie[2]==="px"||ie[2]==="%"||ie[2]==="em"?D.style.top=ie[1]+ie[2]:ie[2]==="c"?(y(D,"proportional-style"),D.setAttribute("data-proportional-top",ie[1])):l.Z.warn("TTML Parser: unhandled origin unit:",ie[2]))}}}function $(D,H){var W=H.trim(),Y=W.split(" ");if(!(Y.length<1)){var X=I.eT.exec(Y[0]);if(X!==null){if(X[2]==="px"||X[2]==="%"||X[2]==="em"){var ie=X[1]+X[2];Y.length===1?D.style.padding=ie:Y.length===2?(D.style.paddingTop=ie,D.style.paddingBottom=ie):D.style.paddingTop=ie}else X[2]==="c"?(y(D,"proportional-style"),Y.length===1?(D.setAttribute("data-proportional-padding-top",X[1]),D.setAttribute("data-proportional-padding-bottom",X[1]),D.setAttribute("data-proportional-padding-left",X[1]),D.setAttribute("data-proportional-padding-right",X[1])):Y.length===2?(D.setAttribute("data-proportional-padding-top",X[1]),D.setAttribute("data-proportional-padding-bottom",X[1])):D.setAttribute("data-proportional-padding-top",X[1])):l.Z.warn("TTML Parser: unhandled padding unit:",X[2]);if(Y.length!==1){var fe=I.eT.exec(Y[1]);if(fe!==null){if(fe[2]==="px"||fe[2]==="%"||fe[2]==="em"){var be=fe[1]+fe[2];Y.length<4&&(D.style.paddingLeft=be),D.style.paddingRight=be}else fe[2]==="c"?(y(D,"proportional-style"),Y.length<4&&D.setAttribute("data-proportional-padding-left",fe[1]),D.setAttribute("data-proportional-padding-right",fe[1])):l.Z.warn("TTML Parser: unhandled padding unit:",fe[2]);if(Y.length!==2){var ge=I.eT.exec(Y[2]);if(ge!==null){if(ge[2]==="px"||ge[2]==="%"||ge[2]==="em"){var Be=ge[1]+ge[2];D.style.paddingBottom=Be}else ge[2]==="c"?(y(D,"proportional-style"),D.setAttribute("data-proportional-padding-bottom",ge[1])):l.Z.warn("TTML Parser: unhandled padding unit:",ge[2]);if(Y.length!==3){var Ke=I.eT.exec(Y[3]);if(Ke!==null)if(Ke[2]==="px"||Ke[2]==="%"||Ke[2]==="em"){var Ot=Ke[1]+Ke[2];D.style.paddingLeft=Ot}else Ke[2]==="c"?(y(D,"proportional-style"),D.setAttribute("data-proportional-padding-left",Ke[1])):l.Z.warn("TTML Parser: unhandled padding unit:",Ke[2])}}}}}}}}function w(D,H){var W=H;return(0,A.Z)(H)&&H.trim().endsWith("%")&&(W=H.trim().slice(0,-1),W=(parseInt(W,10)/100).toString()+"em"),"-1px -1px "+W+" "+D+","+("1px -1px "+W+" "+D+",")+("-1px 1px "+W+" "+D+",")+("1px 1px "+W+" "+D)}function U(D){var H;return H=I.Dq.exec(D),H!=null?"rgba("+String(parseInt(H[1],16))+","+String(parseInt(H[2],16))+","+String(parseInt(H[3],16))+","+String(parseInt(H[4],16)/255)+")":(H=I.YU.exec(D),H!=null?"rgba("+String(parseInt(H[1]+H[1],16))+","+String(parseInt(H[2]+H[2],16))+","+String(parseInt(H[3]+H[3],16))+","+String(parseInt(H[4]+H[4],16)/255)+")":(H=I.GK.exec(D),H!=null?"rgb("+String(+H[1])+","+String(+H[2])+","+String(+H[3])+")":(H=I.ev.exec(D),H!=null?"rgba("+String(+H[1])+","+String(+H[2])+","+String(+H[3])+","+String(+H[4]/255)+")":D)))}var z=["color","direction","display","fontFamily","fontSize","fontStyle","fontWeight","textDecoration","textOutline","unicodeBidi","visibility","wrapOption"];function L(D,H,W){var Y=H.color;(0,A.Z)(Y)&&(D.style.color=U(Y));var X=H.backgroundColor;(0,A.Z)(X)&&(D.style.backgroundColor=U(X));var ie=H.textOutline;if((0,A.Z)(ie)){var fe=ie.trim().replace(/\s+/g," ").split(" "),be=fe.length;if(be===3){var ge=U(fe[0]),Be=fe[1];D.style.textShadow=w(ge,Be)}else if((0,A.Z)(Y)&&be===1){var Ke=fe[0];D.style.textShadow=w(Y,Ke)}else if(be===2){var Ot=/^[#A-Z]/i.test(fe[0]),kt=/^[0-9]/.test(fe[0]);if(Ot!==kt){if(Ot){var He=U(fe[0]),je=fe[1];D.style.textShadow=w(He,je)}else if((0,A.Z)(Y)){var ve=fe[0];D.style.textShadow=w(Y,ve)}}}}var qe=H.textDecoration;if((0,A.Z)(qe))switch(qe){case"noUnderline":case"noLineThrough":case"noOverline":D.style.textDecoration="none";break;case"lineThrough":D.style.textDecoration="line-through";break;default:D.style.textDecoration=qe;break}var bt=H.fontFamily;if((0,A.Z)(bt))switch(bt){case"proportionalSansSerif":D.style.fontFamily="Arial, Helvetica, Liberation Sans, sans-serif";break;case"monospaceSansSerif":case"sansSerif":D.style.fontFamily="sans-serif";break;case"monospaceSerif":case"default":D.style.fontFamily="Courier New, Liberation Mono, monospace";break;case"proportionalSerif":D.style.fontFamily="serif";break;default:D.style.fontFamily=bt}var vt=H.fontStyle;(0,A.Z)(vt)&&(D.style.fontStyle=vt);var et=H.fontWeight;(0,A.Z)(et)&&(D.style.fontWeight=et);var mt=H.fontSize;(0,A.Z)(mt)?C(D,mt):(y(D,"proportional-style"),D.setAttribute("data-proportional-font-size","1"));var ht=H.direction;(0,A.Z)(ht)&&(D.style.direction=ht);var St=H.unicodeBidi;if((0,A.Z)(St))switch(St){case"bidiOverride":D.style.unicodeBidi="bidi-override";break;case"embed":D.style.unicodeBidi="embed";break;default:D.style.unicodeBidi="normal"}var tt=H.visibility;(0,A.Z)(tt)&&(D.style.visibility=tt);var dt=H.display;dt==="none"&&(D.style.display="none");var Dt=H.wrapOption;D.style.whiteSpace=Dt==="noWrap"?W?"nowrap":"pre":W?"normal":"pre-wrap"}function x(D,H){D.style.color="white",D.style.position="absolute";var W=H.extent;(0,A.Z)(W)&&M(D,W);var Y=H.writingMode;(0,A.Z)(Y);var X=H.overflow;D.style.overflow=(0,A.Z)(X)?X:"hidden";var ie=H.padding;(0,A.Z)(ie)&&$(D,ie);var fe=H.origin;(0,A.Z)(fe)&&P(D,fe);var be=H.displayAlign;if((0,A.Z)(be))switch(D.style.display="flex",D.style.flexDirection="column",be){case"before":D.style.justifyContent="flex-start";break;case"center":D.style.justifyContent="center";break;case"after":D.style.justifyContent="flex-end";break}var ge=H.opacity;(0,A.Z)(ge)&&(D.style.opacity=ge);var Be=H.visibility;(0,A.Z)(Be)&&(D.style.visibility=Be);var Ke=H.display;Ke==="none"&&(D.style.display="none")}function Z(D,H){D.style.margin="0px";var W=H.backgroundColor;(0,A.Z)(W)&&(D.style.backgroundColor=U(W));var Y=H.lineHeight;(0,A.Z)(Y)&&O(D,Y);var X=H.textAlign;if((0,A.Z)(X))switch(X){case"center":D.style.textAlign="center";break;case"left":case"start":D.style.textAlign="left";break;case"right":case"end":D.style.textAlign="right";break}}function Q(D,H,W){var Y=document.createElement("span"),X=D.textContent===null?"":D.textContent;if(W){var ie=X.trim();ie=ie.replace(/\s+/g," "),X=ie}var fe=document.createTextNode(X);return Y.appendChild(fe),Y.className="rxp-texttrack-span",L(Y,H,W),Y}function re(D,H,W,Y,X){function ie(fe,be,ge,Be){for(var Ke=fe.childNodes,Ot=[],kt=0;kt<Ke.length;kt++){var He=Ke[kt];if(He.nodeName==="#text"){var je=(0,c.U)(["backgroundColor"],ge,W,H),ve=je.backgroundColor;(0,A.Z)(ve)?be.backgroundColor=ve:delete be.backgroundColor;var qe=Q(He,be,Be);Ot.push(qe)}else if((0,f.OE)(He)){var bt=document.createElement("BR");Ot.push(bt)}else if((0,f.jg)(He)&&He.nodeType===Node.ELEMENT_NODE&&He.childNodes.length>0){var vt=He.getAttribute("xml:space"),et=(0,A.Z)(vt)?vt==="default":Be,mt=(0,k.Z)({},be,(0,c.U)(z,[He],W,H));Ot.push.apply(Ot,ie(He,mt,[He].concat(ge),et))}}return Ot}return ie(D,(0,k.Z)({},Y),[],X)}function j(D,H,W,Y,X,ie){var fe=ie.cellResolution,be=ie.shouldTrimWhiteSpace,ge=(0,f.jF)(D),Be=document.createElement("DIV");if(Be.className="rxp-texttrack-region",Be.setAttribute("data-resolution-columns",String(fe.columns)),Be.setAttribute("data-resolution-rows",String(fe.rows)),x(Be,X),H!==null){var Ke=(0,c.U)(["backgroundColor"],[].concat(ge,[H]),Y,W),Ot=Ke.bodyBackgroundColor;(0,A.Z)(Ot)&&(Be.style.backgroundColor=U(Ot))}var kt=document.createElement("p");kt.className="rxp-texttrack-p",Z(kt,X);for(var He=re(D,W,Y,X,be),je=0;je<He.length;je++)kt.appendChild(He[je]);return Be.appendChild(kt),Be}function ee(D){var H=D.paragraph,W=D.ttParams,Y=D.body,X=D.regionStyles,ie=D.idStyles,fe=D.paragraphStyle,be=D.timeOffset,ge=D.shouldTrimWhiteSpace;if(!H.hasAttribute("begin")&&!H.hasAttribute("end")&&/^\s*$/.test(H.textContent===null?"":H.textContent))return null;var Be=W.cellResolution,Ke=(0,h.Z)(H,W),Ot=Ke.start,kt=Ke.end,He=j(H,Y,X,ie,fe,{cellResolution:Be,shouldTrimWhiteSpace:ge});return{start:Ot+be,end:kt+be,element:He}}function ue(D,H){for(var W=(0,p.Z)(D,H),Y=[],X=0;X<W.length;X++){var ie=W[X].paragraphStyle;g(ie)&&S(ie);var fe=ee(W[X]);fe!==null&&Y.push(fe)}return Y}var ae=ue},1570:function(E,_,r){r.d(_,{Z:function(){return C}});var p=r(959),g=r(7253),S=r(1988),h=r(6923),b=r(6177),y=r(5336),A=r(1594),k={left:"start",center:"center",right:"end",start:"start",end:"end"},c={left:"line-left",center:"center",right:"line-right"};function f(O){var P=O.paragraph,$=O.timeOffset,w=O.paragraphStyle,U=O.ttParams,z=O.shouldTrimWhiteSpace;if(!P.hasAttribute("begin")&&!P.hasAttribute("end")&&/^\s*$/.test(P.textContent===null?"":P.textContent))return null;var L=(0,b.Z)(P,U),x=L.start,Z=L.end,Q=l(P,z),re=(0,g.Z)(x+$,Z+$,Q);return re===null?null:((0,S.Z)(re)&&I(re,w),re)}function l(O,P){function $(w,U){for(var z=w.childNodes,L="",x=0;x<z.length;x++){var Z=z[x];if(Z.nodeName==="#text"){var Q=Z.textContent;if(Q===null&&(Q=""),U){var re=Q.trim();re=re.replace(/\s+/g," "),Q=re}var j=Q.replace(/&|\u0026/g,"&amp;").replace(/<|\u003C/g,"&lt;").replace(/>|\u2265/g,"&gt;").replace(/\u200E/g,"&lrm;").replace(/\u200F/g,"&rlm;").replace(/\u00A0/g,"&nbsp;");L+=j}else if((0,A.OE)(Z))L+=`
`;else if((0,A.jg)(Z)&&Z.nodeType===Node.ELEMENT_NODE&&Z.childNodes.length>0){var ee=Z.getAttribute("xml:space"),ue=(0,h.Z)(ee)?ee==="default":U;L+=$(Z,ue)}}return L}return $(O,P)}function I(O,P){var $=P.extent;if((0,h.Z)($)){var w=y._0.exec($);w!=null&&(O.size=Number(w[1]))}var U=P.writingMode;switch(U){case"tb":case"tblr":O.vertical="lr";break;case"tbrl":O.vertical="rl";break}var z=P.origin;(0,h.Z)(z)&&y._0.exec(z);var L=P.align;if((0,h.Z)(L)){O.align=L,L==="center"&&(O.align!=="center"&&(O.align="middle"),O.position="auto");var x=c[L];O.positionAlign=x===void 0?"":x;var Z=k[L];O.lineAlign=Z===void 0?"":Z}}function M(O,P){for(var $=(0,p.Z)(O,P),w=[],U=0;U<$.length;U++){var z=$[U],L=f(z);L!==null&&w.push(L)}return w}var C=M},959:function(E,_,r){r.d(_,{Z:function(){return M}});var p=r(3274),g=r(6923),S=r(8026),h=r(3887),b=/(\d+) (\d+)/;function y(C){var O=C.getAttribute("ttp:frameRate"),P=C.getAttribute("ttp:subFramRate"),$=C.getAttribute("ttp:tickRate"),w=C.getAttribute("ttp:frameRateMultiplier"),U=C.getAttribute("xml:space"),z=C.getAttribute("ttp:cellResolution"),L={columns:32,rows:15};if(z!==null){var x=b.exec(z);if(x===null||x.length<3)h.Z.warn("TTML Parser: Invalid cellResolution");else{var Z=parseInt(x[1],10),Q=parseInt(x[2],10);isNaN(Z)||isNaN(Q)?h.Z.warn("TTML Parser: Invalid cellResolution"):L={columns:Z,rows:Q}}}if((0,g.Z)(U)&&U!=="default"&&U!=="preserve")throw new Error("Invalid spacing style");var re=Number(O);(isNaN(re)||re<=0)&&(re=30);var j=Number(P);(isNaN(j)||j<=0)&&(j=1);var ee=Number($);(isNaN(ee)||ee<=0)&&(ee=void 0);var ue=re,ae=j??1,D=U!==null?U:"default",H=ee!==void 0?ee:re*j;if(w!==null){var W=/^(\d+) (\d+)$/g.exec(w);if(W!==null){var Y=Number(W[1]),X=Number(W[2]),ie=Y/X;ue=re*ie}}return{cellResolution:L,tickRate:H,frameRate:ue,subFrameRate:ae,spaceStyle:D}}var A=r(3791),k=r(5138),c=r(7714);function f(C){var O=[];function P(w,U){O.push(U);for(var z=function(Z){var Q=w.extendsStyles[Z],re=(0,k.Z)(C,function(ee){return ee.id===Q});if(re<0)h.Z.warn("TTML Parser: unknown style inheritance: "+Q);else{var j=C[re];(0,c.Z)(O,re)?h.Z.warn("TTML Parser: infinite style inheritance loop avoided"):P(j,re),w.style=(0,S.Z)({},j.style,w.style)}},L=0;L<w.extendsStyles.length;L++)z(L);w.extendsStyles.length=0}for(var $=0;$<C.length;$++)P(C[$],$),O.length=0}var l=r(1594),I=["align","backgroundColor","color","direction","display","displayAlign","extent","fontFamily","fontSize","fontStyle","fontWeight","lineHeight","opacity","origin","overflow","padding","textAlign","textDecoration","textOutline","unicodeBidi","visibility","wrapOption","writingMode"];function M(C,O){var P=[],$=new DOMParser().parseFromString(C,"text/xml");if($!=null){var w=$.getElementsByTagName("tt"),U=w[0];if(U===void 0){var z=$.getElementsByTagNameNS("*","tt");if(U=z[0],U===void 0)throw new Error("invalid XML")}for(var L=(0,l.H)(U),x=(0,l.vU)(U),Z=(0,l.DM)(U),Q=(0,l.kd)(U),re=y(U),j=[],ee=0;ee<=x.length-1;ee++){var ue=x[ee];if(ue instanceof Element){var ae=ue.getAttribute("xml:id");if(ae!==null){var D=ue.getAttribute("style"),H=D===null?[]:D.split(" ");j.push({id:ae,style:(0,A.b)(ue),extendsStyles:H})}}}f(j);for(var W=[],Y=0;Y<=Z.length-1;Y++){var X=Z[Y];if(X instanceof Element){var ie=X.getAttribute("xml:id");ie!==null&&function(){var qe=(0,A.b)(X),bt=X.getAttribute("style");if((0,g.Z)(bt)){var vt=(0,p.Z)(j,function(et){return et.id===bt});vt!==void 0&&(qe=(0,S.Z)({},vt.style,qe))}W.push({id:ie,style:qe,extendsStyles:[]})}()}}for(var fe=(0,A.U)(I,L!==null?[L]:[],j,W),be=L!==null?L.getAttribute("xml:space"):void 0,ge=be==="default"||re.spaceStyle==="default",Be=0;Be<Q.length;Be++){var Ke=Q[Be];if(Ke instanceof Element){var Ot=(0,l.jF)(Ke),kt=(0,S.Z)({},fe,(0,A.U)(I,[Ke].concat(Ot),j,W)),He=Ke.getAttribute("xml:space"),je=(0,g.Z)(He)?He==="default":ge,ve={paragraph:Ke,timeOffset:O,idStyles:j,regionStyles:W,body:L,paragraphStyle:kt,ttParams:re,shouldTrimWhiteSpace:je};ve!==null&&P.push(ve)}}}return P}},5336:function(E,_,r){r.d(_,{Dq:function(){return c},Du:function(){return b},GK:function(){return l},KO:function(){return g},YU:function(){return f},_0:function(){return A},eT:function(){return k},ev:function(){return I},gu:function(){return p},jb:function(){return h},te:function(){return y},wf:function(){return S}});var p=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,g=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,S=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,h=/^(\d*\.?\d*)f$/,b=/^(\d*\.?\d*)t$/,y=/^(?:(\d*\.?\d*)h)?(?:(\d*\.?\d*)m)?(?:(\d*\.?\d*)s)?(?:(\d*\.?\d*)ms)?$/,A=/^(\d{1,2}|100)% (\d{1,2}|100)%$/,k=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/,c=/^#([0-9A-f]{2})([0-9A-f]{2})([0-9A-f]{2})([0-9A-f]{2})$/,f=/^#([0-9A-f])([0-9A-f])([0-9A-f])([0-9A-f])$/,l=/^rgb\( *(\d+) *, *(\d+) *, *(\d+) *\)/,I=/^rgba\( *(\d+) *, *(\d+) *, *(\d+) *, *(\d+) *\)/},1594:function(E,_,r){r.d(_,{DM:function(){return b},H:function(){return S},OE:function(){return A},jF:function(){return g},jg:function(){return k},kd:function(){return y},vU:function(){return h}});function p(c,f){if(!(c.parentNode instanceof Element))return[];function l(I){var M=[];I.tagName.toLowerCase()===f.toLowerCase()&&M.push(I);var C=I.parentNode;return C instanceof Element&&M.push.apply(M,l(C)),M}return l(c.parentNode)}function g(c){var f=p(c,"div");if(f.length===0){var l=p(c,"tt:div");l.length>0&&(f=l)}return f}function S(c){var f=c.getElementsByTagName("body");if(f.length>0)return f[0];var l=c.getElementsByTagName("tt:body");return l.length>0?l[0]:null}function h(c){var f=c.getElementsByTagName("style");if(f.length>0)return f;var l=c.getElementsByTagName("tt:style");return l.length>0?l:f}function b(c){var f=c.getElementsByTagName("region");if(f.length>0)return f;var l=c.getElementsByTagName("tt:region");return l.length>0?l:f}function y(c){var f=c.getElementsByTagName("p");if(f.length>0)return f;var l=c.getElementsByTagName("tt:p");return l.length>0?l:f}function A(c){return c.nodeName==="br"||c.nodeName==="tt:br"}function k(c){return c.nodeName==="span"||c.nodeName==="tt:span"}},1138:function(E,_,r){r.d(_,{Z:function(){return S}});var p=r(6923),g=r(360);function S(h,b){for(var y=[],A=b;A<h.length;A++)if((0,g.tq)(h,A)){var k=(0,g.$4)(h,A);y.push(h.slice(A,k)),A=k}else if((0,p.Z)(h[A]))for(;(0,p.Z)(h[A]);)A++;return y}},4099:function(E,_,r){r.d(_,{Z:function(){return D}});var p=r(1138),g=r(6923),S=r(360);function h(H,W){for(var Y=[],X=W;X<H.length;X++)if((0,S.JF)(H,X)){var ie=X;for(X++;(0,g.Z)(H[X]);)X++;var fe=H.slice(ie,X);Y.push(fe)}else if((0,g.Z)(H[X]))for(;(0,g.Z)(H[X]);)X++;return Y}var b=r(9525),y={white:"#ffffff",lime:"#00ff00",cyan:"#00ffff",red:"#ff0000",yellow:"#ffff00",magenta:"#ff00ff",blue:"#0000ff",black:"#000000"};function A(){return Object.keys(y).reduce(function(H,W){return H[W]="color: "+y[W]+";",H["bg_"+W]="background-color: "+y[W]+";",H},{})}function k(H){var W=A(),Y="";return H.forEach(function(X){if(X.length>=2)for(var ie=1;ie<X.length;ie++){var fe=X[ie];if(Array.isArray(/::cue {/.exec(fe)))for(fe=X[++ie];(0,g.Z)(fe)&&!(Array.isArray(/}/.exec(fe))||fe.length===0);)Y+=fe,fe=X[++ie];else(function(){for(var be=[],ge=/::cue\(\.?(.*?)\)(?:,| {)/.exec(fe);(0,g.Z)(fe)&&Array.isArray(ge);)be.push(ge[1]),fe=X[++ie],ge=/::cue\(\.?(.*?)\)(?:,| {)/.exec(fe);for(var Be="";(0,g.Z)(fe)&&!(Array.isArray(/}/.exec(fe))||fe.length===0);)Be+=fe,fe=X[++ie];be.forEach(function(Ke){var Ot=W[Ke];Ot===void 0?W[Ke]=Be:W[Ke]+=Be})})()}}),{classes:W,global:Y}}var c=r(7714);function f(H,W){var Y=["u","i","b"],X=["u","i","b","c","#text"],ie=H.nodeName.toLowerCase().split(".")[0],fe;if((0,c.Z)(X,ie))if(ie==="#text"){var be=H.wholeText.split(`
`);fe=document.createElement("span");for(var ge=0;ge<be.length;ge++)if(ge>0&&fe.appendChild(document.createElement("br")),be[ge].length>0){var Be=document.createTextNode(be[ge]);fe.appendChild(Be)}}else{var Ke=H.nodeName.toLowerCase().split("."),Ot=[];if(Ke.forEach(function(et){(0,g.Z)(W[et])&&Ot.push(W[et])}),Ot.length!==0){var kt=document.createAttribute("style");Ot.forEach(function(et){kt.value+=et});var He=(0,c.Z)(Y,ie)?ie:"span";fe=document.createElement(He),fe.setAttributeNode(kt)}else{var je=(0,c.Z)(Y,ie)?ie:"span";fe=document.createElement(je)}for(var ve=0;ve<H.childNodes.length;ve++){var qe=f(H.childNodes[ve],W);fe.appendChild(qe)}}else{fe=document.createElement("span");for(var bt=0;bt<H.childNodes.length;bt++){var vt=f(H.childNodes[bt],W);fe.appendChild(vt)}}return fe}function l(H,W){for(var Y=H.replace(/<[0-9]{2}:[0-9]{2}.[0-9]{3}>/,"").replace(/<([u,i,b,c])(\..*?)?(?: .*?)?>(.*?)<\/\1>/g,"<$1$2>$3</$1$2>"),X=new DOMParser().parseFromString(Y,"text/html"),ie=X.body.childNodes,fe=[],be=0;be<ie.length;be++)fe.push(f(ie[be],W));return fe}var I=r(1679);function M(H){var W=document.createAttribute("style");return W.value=C(H),W}var C=function(W){var Y=W!==void 0&&(0,I.Z)(W).length!==0;if(!Y)return"text-align:center";var X=w(W),ie=L(W);return"position: absolute;margin: 0;"+("transform: translate("+X.offset+"%,"+ie.offset+"%);")+("width: "+re(W.size)+"%;")+("left: "+X.position+"%;")+("top: "+(ie.position!==null?ie.position+"%":"auto")+";")+("text-align: "+Q(W.align)+";")},O;(function(H){H.LINE_LEFT="line-left",H.CENTER="center",H.LINE_RIGHT="line-right"})(O||(O={}));var P;(function(H){H.LEFT="left",H.CENTER="center",H.RIGHT="right"})(P||(P={}));var $;(function(H){H.START="start",H.CENTER="center",H.END="end"})($||($={}));var w=function(W){return{position:U(W),offset:z(W)}},U=function(W){var Y,X=ee(W.position);if(X!==null)return X;var ie=Q(W.align),fe=(Y={},Y[P.LEFT]=0,Y[P.CENTER]=50,Y[P.RIGHT]=100,Y);return fe[ie]},z=function(W){var Y,X,ie=function(Ot){var kt=/,(line-left|line-right|center)/,He=kt.exec(Ot);return!Array.isArray(He)||He.length<2?null:He[1]},fe=(Y={},Y[O.LINE_LEFT]=0,Y[O.CENTER]=-50,Y[O.LINE_RIGHT]=-100,Y),be=W.position!==void 0?ie(W.position):null;if(be!==null)return fe[be];var ge=(X={},X[P.LEFT]=0,X[P.CENTER]=-50,X[P.RIGHT]=-100,X),Be=W.align!==void 0?Q(W.align):P.CENTER;return ge[Be]},L=function(W){return{position:x(W.line),offset:Z(W.line)}},x=function(W){return ee(W)},Z=function(W){var Y,X=function(ge){var Be=/,(start|center|end)/,Ke=Be.exec(ge);return!Array.isArray(Ke)||Ke.length<2?null:Ke[1]},ie=(Y={},Y[$.START]=0,Y[$.CENTER]=-50,Y[$.END]=-100,Y);if(W===void 0)return ie[$.START];var fe=X(W);return fe!==null?ie[fe]:ie[$.START]},Q=function(W){switch(W){case"left":case"start":return"left";case"right":case"end":return"right";default:return"center"}},re=function(W){var Y=100;return j(W,Y)},j=function(W,Y){var X=ee(W);return X!==null?X:Y},ee=function(W){if(W===void 0)return null;var Y=/^([\d.]+)%/,X=Y.exec(W);return!Array.isArray(X)||X.length<2?null:parseInt(X[1],10)};function ue(H,W){var Y=H.start,X=H.end,ie=H.settings,fe=H.header,be=H.payload,ge=document.createElement("div"),Be=document.createAttribute("style");Be.value="width:100%;height:100%;display:flex;flex-direction:column;justify-content:flex-end;align-items:center;",ge.setAttributeNode(Be);var Ke=document.createElement("p"),Ot=M(ie);Ke.setAttributeNode(Ot);var kt=document.createElement("span"),He=document.createAttribute("style");He.value="background-color:rgba(0,0,0,0.8);color:white;",kt.setAttributeNode(He);var je=W.global,ve=W.classes,qe=(0,g.Z)(fe)?ve[fe]:void 0,bt=[je,qe].filter(function(vt){return vt!==void 0}).join("");return He.value+=bt,kt.setAttributeNode(He),l(be.join(`
`),ve).forEach(function(vt){kt.appendChild(vt)}),ge.appendChild(Ke),Ke.appendChild(kt),{start:Y,end:X,element:ge}}function ae(H,W){var Y=/\r\n|\n|\r/g,X=H.split(Y),ie=[];if(/^WEBVTT( |\t|\n|\r|$)/.exec(X[0])===null)throw new Error("Can't parse WebVTT: Invalid File.");for(var fe=(0,S.yE)(X),be=h(X,fe),ge=(0,p.Z)(X,fe),Be=k(be),Ke=0;Ke<ge.length;Ke++){var Ot=(0,b.Z)(ge[Ke],W);if(Ot!=null){var kt=ue(Ot,Be);ie.push(kt)}}return ie}var D=ae},9405:function(E,_,r){r.d(_,{Z:function(){return l}});var p=r(1988),g=r(1138),S=r(9525),h=r(360),b=r(7714),y=r(6923);function A(I,M){if((0,y.Z)(I.vertical)&&(I.vertical==="rl"||I.vertical==="lr")&&(M.vertical=I.vertical),(0,y.Z)(I.line)){var C=/^(\d+(\.\d+)?)%(,([a-z]+))?/,O=C.exec(I.line);if(Array.isArray(O))M.line=Number(O[1]),M.snapToLines=!1,(0,b.Z)(["start","center","end"],O[4])&&(M.lineAlign=O[4]);else{var P=/^(-?\d+)(,([a-z]+))?/,$=P.exec(I.line);Array.isArray($)&&(M.line=Number($[1]),M.snapToLines=!0,(0,b.Z)(["start","center","end"],$[3])&&(M.lineAlign=$[3]))}}if((0,y.Z)(I.position)){var w=/^([\d\.]+)%(?:,(line-left|line-right|center))?$/,U=w.exec(I.position);if(Array.isArray(U)&&U.length>=2){var z=parseInt(U[1],10);isNaN(z)||(M.position=z,U[2]!==void 0&&(M.positionAlign=U[2]))}}(0,y.Z)(I.size)&&(M.size=I.size),typeof I.align=="string"&&(0,b.Z)(["start","center","end","left"],I.align)&&(M.align=I.align)}var k=r(7253);function c(I){var M=I.start,C=I.end,O=I.payload,P=O.join(`
`);return(0,k.Z)(M,C,P)}function f(I,M){var C=I.split(/\r\n|\n|\r/);if(!/^WEBVTT($| |\t)/.test(C[0]))throw new Error("Can't parse WebVTT: Invalid file.");for(var O=(0,h.yE)(C),P=(0,g.Z)(C,O),$=[],w=0;w<P.length;w++){var U=(0,S.Z)(P[w],M);if(U!=null){var z=c(U);z!=null&&((0,p.Z)(z)&&A(U.settings,z),$.push(z))}}return $}var l=f},9525:function(E,_,r){r.d(_,{Z:function(){return b}});var p=r(6923);function g(y){var A=y.split(":").reverse();if((0,p.Z)(A[2])||(0,p.Z)(A[1])){var k=(0,p.Z)(A[2])?parseInt(A[2],10):0,c=parseInt(A[1],10),f=parseFloat(A[0].replace(",","."));return isNaN(k)||isNaN(c)||isNaN(f)?void 0:k*60*60+c*60+f}}function S(y){var A=y.split(/ |\t/);return A.reduce(function(k,c){var f=c.split(":");return f.length===2&&(k[f[0]]=f[1]),k},{})}function h(y){var A=/^([\d:.]+)[ |\t]+-->[ |\t]+([\d:.]+)[ |\t]*(.*)$/,k=A.exec(y);if(k===null)return null;var c=g(k[1]),f=g(k[2]);if(c==null||f==null)return null;var l=S(k[3]);return{start:c,end:f,settings:l}}function b(y,A){var k=/-->/,c,f,l;if(k.test(y[0]))c=y[0],f=y.slice(1,y.length);else{if(!k.test(y[1]))return null;l=y[0],c=y[1],f=y.slice(2,y.length)}var I=h(c);if(I===null)return null;var M=I.start,C=I.end,O=I.settings;return{start:M+A,end:C+A,settings:O,payload:f,header:l}}},360:function(E,_,r){r.d(_,{$4:function(){return A},JF:function(){return S},tq:function(){return y},yE:function(){return g}});var p=r(6923);function g(k){for(var c=0;c<k.length;){if(k[c]==="")return c+1;c++}return c}function S(k,c){return typeof k[c]=="string"&&/^STYLE( .*)?$/g.test(k[c])&&(k[c+1]===void 0||k[c+1].indexOf("-->")<0)}function h(k,c){return typeof k[c]=="string"&&/^NOTE( .*)?$/g.test(k[c])&&(k[c+1]===void 0||k[c+1].indexOf("-->")<0)}function b(k,c){return typeof k[c]=="string"&&/^REGION( .*)?$/g.test(k[c])&&(k[c+1]===void 0||k[c+1].indexOf("-->")<0)}function y(k,c){var f=k[c];if(f===void 0||f===""||S(k,c)||b(k,c)||h(k,c))return!1;if(f.indexOf("-->")>=0)return!0;var l=k[c+1];return l!==void 0&&l.indexOf("-->")>=0}function A(k,c){for(var f=c+1;(0,p.Z)(k[f]);)f++;return f}},85:function(E,_,r){r.d(_,{Z:function(){return Ti}});var p=r(7874),g=r(8791),S=r(5861),h=r(4687),b=r.n(h),y=r(4597),A=r(5278),k=r(9829);function c(Me,Fe){return Me===null?null:Fe.url===null?Me.baseUrl:(0,k.Z)(Me.baseUrl,Fe.url)}function f(Me,Fe,Qe,Ye,ot){return l.apply(this,arguments)}function l(){return l=(0,S.Z)(b().mark(function Me(Fe,Qe,Ye,ot,Ht){var Rt,ct,wt;return b().wrap(function(Wt){for(;;)switch(Wt.prev=Wt.next){case 0:if(Rt=Qe.segment,ct=c(Fe,Rt),!(Rt.isInit||ct===null)){Wt.next=4;break}return Wt.abrupt("return",{resultType:"segment-created",resultData:null});case 4:return Wt.next=6,(0,y.ZP)({url:ct,responseType:"arraybuffer",timeout:Ye.timeout,onProgress:Ht.onProgress,cancelSignal:ot});case 6:return wt=Wt.sent,Wt.abrupt("return",{resultType:"segment-loaded",resultData:wt});case 8:case"end":return Wt.stop()}},Me)})),l.apply(this,arguments)}function I(Me,Fe){var Qe=Fe.segment,Ye=Fe.period,ot=Me.data,Ht=Me.isChunked;if(Fe.segment.isInit)return{segmentType:"init",initializationData:null,initializationDataSize:0,protectionDataUpdate:!1,initTimescale:void 0};if(Ht)throw new Error("Image data should not be downloaded in chunks");var Rt=(0,A.Z)(Qe.timestampOffset,0);if(ot===null||p.Z.imageParser===null)return{segmentType:"media",chunkData:null,chunkSize:0,chunkInfos:{duration:Qe.duration,time:Qe.time},chunkOffset:Rt,protectionDataUpdate:!1,appendWindow:[Ye.start,Ye.end]};var ct=p.Z.imageParser(new Uint8Array(ot)),wt=ct.thumbs;return{segmentType:"media",chunkData:{data:wt,start:0,end:Number.MAX_VALUE,timescale:1,type:"bif"},chunkSize:void 0,chunkInfos:{time:0,duration:Number.MAX_VALUE},chunkOffset:Rt,protectionDataUpdate:!1,appendWindow:[Ye.start,Ye.end]}}var M=r(6872),C=r(8750),O=r(3887),P=r(1989),$=r(8026),w=r(3635);function U(Me){var Fe=Me.aggressiveMode,Qe=Me.referenceDateTime,Ye=Me.serverSyncInfos!==void 0?Me.serverSyncInfos.serverTimestamp-Me.serverSyncInfos.clientTime:void 0;return function(Ht,Rt,ct,wt,on){var Wt,fn=Ht.responseData,Jt=Rt.externalClockOffset,Zt=(Wt=Ht.url)!==null&&Wt!==void 0?Wt:Rt.originalUrl,pn=Fe===!0,On=Ye??Jt,Sn=Rt.unsafeMode?Rt.previousManifest:null,Mn={aggressiveMode:pn,unsafelyBaseOnPreviousManifest:Sn,url:Zt,referenceDateTime:Qe,externalClockOffset:On},Gn=p.Z.dashParsers;if(Gn.wasm===null||Gn.wasm.status==="uninitialized"||Gn.wasm.status==="failure")return O.Z.debug("DASH: WASM MPD Parser not initialized. Running JS one."),$n();var dr=L(fn);if(!x(dr))return O.Z.info("DASH: MPD doesn't seem to be UTF-8-encoded. Running JS parser instead of the WASM one."),$n();if(Gn.wasm.status==="initialized"){O.Z.debug("DASH: Running WASM MPD Parser.");var Ln=Gn.wasm.runWasmParser(dr,Mn);return Yn(Ln)}else{O.Z.debug("DASH: Awaiting WASM initialization before parsing the MPD.");var Nn=Gn.wasm.waitForInitialization().catch(function(){});return Nn.then(function(){if(Gn.wasm===null||Gn.wasm.status!=="initialized")return O.Z.warn("DASH: WASM MPD parser initialization failed. Running JS parser instead"),$n();O.Z.debug("DASH: Running WASM MPD Parser.");var qn=Gn.wasm.runWasmParser(dr,Mn);return Yn(qn)})}function $n(){if(Gn.js===null)throw new Error("No MPD parser is imported");var qn=z(fn),sr=Gn.js(qn,Mn);return Yn(sr)}function Yn(qn){if(qn.type==="done"){if(qn.value.warnings.length>0&&ct(qn.value.warnings),wt.isCancelled)return Promise.reject(wt.cancellationError);var sr=new P.ZP(qn.value.parsed,Me);return{manifest:sr,url:Zt}}var or=qn.value,Zn=or.urls.map(function(ye){return on(function(){var Te=M.Z.getCurrent().DEFAULT_REQUEST_TIMEOUT;return or.format==="string"?(0,y.ZP)({url:ye,responseType:"text",timeout:Te,cancelSignal:wt}):(0,y.ZP)({url:ye,responseType:"arraybuffer",timeout:Te,cancelSignal:wt})}).then(function(Te){if(or.format==="string"){if(typeof Te.responseData!="string")throw new Error("External DASH resources should have been a string");return(0,$.Z)(Te,{responseData:{success:!0,data:Te.responseData}})}else{if(!(Te.responseData instanceof ArrayBuffer))throw new Error("External DASH resources should have been ArrayBuffers");return(0,$.Z)(Te,{responseData:{success:!0,data:Te.responseData}})}},function(Te){var xe=(0,C.Z)(Te,{defaultCode:"PIPELINE_PARSE_ERROR",defaultReason:"An unknown error occured when parsing ressources."});return(0,$.Z)({},{size:void 0,requestDuration:void 0,responseData:{success:!1,error:xe}})})});return Promise.all(Zn).then(function(ye){return or.format==="string",Yn(or.continue(ye))})}}}function z(Me){if(Me instanceof ArrayBuffer)return new DOMParser().parseFromString((0,w.uR)(new Uint8Array(Me)),"text/xml");if(typeof Me=="string")return new DOMParser().parseFromString(Me,"text/xml");if(Me instanceof Document)return Me;throw new Error("DASH Manifest Parser: Unrecognized Manifest format")}function L(Me){if(Me instanceof ArrayBuffer)return Me;if(typeof Me=="string")return(0,w.tG)(Me).buffer;if(Me instanceof Document)return(0,w.tG)(Me.documentElement.innerHTML).buffer;throw new Error("DASH Manifest Parser: Unrecognized Manifest format")}function x(Me){var Fe=new DataView(Me);return Fe.getUint16(0)===61371&&Fe.getUint8(2)===191?!0:!(Fe.getUint16(0)===65279||Fe.getUint16(0)===65534)}var Z=r(7839),Q=r(9105),re=r(5992),j=r(1946),ee=typeof Headers=="function"?Headers:null,ue=typeof AbortController=="function"?AbortController:null;function ae(Me){var Fe;if(!(0,j.Z)(Me.headers))if((0,j.Z)(ee))Fe=Me.headers;else{Fe=new ee;for(var Qe=Object.keys(Me.headers),Ye=0;Ye<Qe.length;Ye++){var ot=Qe[Ye];Fe.append(ot,Me.headers[ot])}}O.Z.debug("Fetch: Called with URL",Me.url);var Ht=null,Rt=!1,ct=performance.now(),wt=(0,j.Z)(ue)?null:new ue;function on(){if((0,j.Z)(wt)){O.Z.warn("Fetch: AbortController API not available.");return}wt.abort()}var Wt;Me.timeout!==void 0&&(Wt=window.setTimeout(function(){Rt=!0,on()},Me.timeout));var fn=Me.cancelSignal.register(function(pn){Ht=pn,on()}),Jt={method:"GET"};return Fe!==void 0&&(Jt.headers=Fe),Jt.signal=(0,j.Z)(wt)?null:wt.signal,fetch(Me.url,Jt).then(function(Zt){if((0,j.Z)(Wt)||clearTimeout(Wt),Zt.status>=300)throw O.Z.warn("Fetch: Request HTTP Error",Zt.status,Zt.url),new Q.Z(Zt.url,Zt.status,re.br.ERROR_HTTP_CODE);if((0,j.Z)(Zt.body))throw new Q.Z(Zt.url,Zt.status,re.br.PARSE_ERROR);var pn=Zt.headers.get("Content-Length"),On=!(0,j.Z)(pn)&&!isNaN(+pn)?+pn:void 0,Sn=Zt.body.getReader(),Mn=0;return Gn();function Gn(){return dr.apply(this,arguments)}function dr(){return dr=(0,S.Z)(b().mark(function Ln(){var Nn,$n,Yn,qn,sr;return b().wrap(function(Zn){for(;;)switch(Zn.prev=Zn.next){case 0:return Zn.next=2,Sn.read();case 2:if(Nn=Zn.sent,!(!Nn.done&&!(0,j.Z)(Nn.value))){Zn.next=11;break}return Mn+=Nn.value.byteLength,$n=performance.now(),Yn={url:Zt.url,currentTime:$n,duration:$n-ct,sendingTime:ct,chunkSize:Nn.value.byteLength,chunk:Nn.value.buffer,size:Mn,totalSize:On},Me.onData(Yn),Zn.abrupt("return",Gn());case 11:if(!Nn.done){Zn.next=16;break}return fn(),qn=performance.now(),sr=qn-ct,Zn.abrupt("return",{requestDuration:sr,receivedTime:qn,sendingTime:ct,size:Mn,status:Zt.status,url:Zt.url});case 16:return Zn.abrupt("return",Gn());case 17:case"end":return Zn.stop()}},Ln)})),dr.apply(this,arguments)}}).catch(function(Zt){throw Ht!==null?Ht:(fn(),Rt?(O.Z.warn("Fetch: Request timeouted."),new Q.Z(Me.url,0,re.br.TIMEOUT)):Zt instanceof Q.Z?Zt:(O.Z.warn("Fetch: Request Error",Zt instanceof Error?Zt.toString():""),new Q.Z(Me.url,0,re.br.ERROR_EVENT)))})}function D(){return typeof window.fetch=="function"&&!(0,j.Z)(ue)&&!(0,j.Z)(ee)}var H=r(8806),W=r(281);function Y(Me,Fe){if(Me==="audio"||Me==="video")return Fe.mimeType==="video/mp4"||Fe.mimeType==="audio/mp4"?"mp4":Fe.mimeType==="video/webm"||Fe.mimeType==="audio/webm"?"webm":void 0;if(Me==="text")return Fe.mimeType==="application/mp4"?"mp4":void 0}var X=r(288),ie=r(4460);function fe(Me){return function(Fe,Qe,Ye,ot,Ht){return new Promise(function(ct,wt){var on=new X.ZP({cancelOn:ot}),Wt=on.signal.register(wt);Me(Fe,Qe,Ye,on.signal,Object.assign(Object.assign({},Ht),{onNewChunk:function(Jt){try{Rt(Jt),Ht.onNewChunk(Jt)}catch(Zt){Wt(),on.cancel(),wt(Zt)}}})).then(function(fn){if(!on.isUsed){if(Wt(),fn.resultType==="segment-loaded")try{Rt(fn.resultData.responseData)}catch(Jt){wt(Jt);return}ct(fn)}},function(fn){Wt(),wt(fn)})});function Rt(ct){!(ct instanceof ArrayBuffer)&&!(ct instanceof Uint8Array)||Y(Qe.adaptation.type,Qe.representation)!=="mp4"||(0,ie.Z)(new Uint8Array(ct),Qe.segment.isInit)}}}var be=r(6968);function ge(Me,Fe,Qe,Ye,ot){if(Fe.range===void 0)return(0,y.ZP)({url:Me,responseType:"arraybuffer",timeout:Qe.timeout,cancelSignal:Ye,onProgress:ot.onProgress}).then(function(ct){return{resultType:"segment-loaded",resultData:ct}});if(Fe.indexRange===void 0)return(0,y.ZP)({url:Me,headers:{Range:(0,W.Z)(Fe.range)},responseType:"arraybuffer",timeout:Qe.timeout,cancelSignal:Ye,onProgress:ot.onProgress}).then(function(ct){return{resultType:"segment-loaded",resultData:ct}});if(Fe.range[1]+1===Fe.indexRange[0])return(0,y.ZP)({url:Me,headers:{Range:(0,W.Z)([Fe.range[0],Fe.indexRange[1]])},responseType:"arraybuffer",timeout:Qe.timeout,cancelSignal:Ye,onProgress:ot.onProgress}).then(function(ct){return{resultType:"segment-loaded",resultData:ct}});var Ht=(0,y.ZP)({url:Me,headers:{Range:(0,W.Z)(Fe.range)},responseType:"arraybuffer",timeout:Qe.timeout,cancelSignal:Ye,onProgress:ot.onProgress}),Rt=(0,y.ZP)({url:Me,headers:{Range:(0,W.Z)(Fe.indexRange)},responseType:"arraybuffer",timeout:Qe.timeout,cancelSignal:Ye,onProgress:ot.onProgress});return Promise.all([Ht,Rt]).then(function(ct){var wt=ct[0],on=ct[1],Wt=(0,be.zo)(new Uint8Array(wt.responseData),new Uint8Array(on.responseData)),fn=Math.min(wt.sendingTime,on.sendingTime),Jt=Math.max(wt.receivedTime,on.receivedTime);return{resultType:"segment-loaded",resultData:{url:Me,responseData:Wt,size:wt.size+on.size,requestDuration:Jt-fn,sendingTime:fn,receivedTime:Jt}}})}var Be=r(8766);function Ke(Me){for(var Fe=0,Qe=[];Fe<Me.length;){var Ye=Me.subarray(Fe,1/0),ot=(0,Be.Z)(Ye,1836019558);if(ot<0)return[Qe,Ye];var Ht=(0,be.pX)(Me,ot+Fe),Rt=Fe+ot+Ht;if(Rt>Me.length)return[Qe,Ye];var ct=(0,Be.Z)(Ye,1835295092);if(ct<0)return[Qe,Ye];var wt=(0,be.pX)(Me,ct+Fe),on=Fe+ct+wt;if(on>Me.length)return[Qe,Ye];var Wt=Math.max(Rt,on),fn=Me.subarray(Fe,Wt);Qe.push(fn),Fe=Wt}return[Qe,null]}function Ot(Me,Fe,Qe,Ye,ot){var Ht=Fe.segment,Rt=Ht.range!==void 0?{Range:(0,W.Z)(Ht.range)}:void 0,ct=null;function wt(on){var Wt=new Uint8Array(on.chunk),fn=ct!==null?(0,be.zo)(ct,Wt):Wt,Jt=Ke(fn),Zt=Jt[0];ct=Jt[1];for(var pn=0;pn<Zt.length;pn++)if(Ye.onNewChunk(Zt[pn]),ot.isCancelled)return;Ye.onProgress({duration:on.duration,size:on.size,totalSize:on.totalSize}),ot.isCancelled}return ae({url:Me,headers:Rt,onData:wt,timeout:Qe.timeout,cancelSignal:ot}).then(function(on){return{resultType:"chunk-complete",resultData:on}})}function kt(Me,Fe,Qe,Ye,ot,Ht){if(Fe.segment.isInit)return ge(Me,Fe.segment,Ye,Ht,ot);var Rt=Y(Fe.adaptation.type,Fe.representation);if(Qe&&(Rt==="mp4"||Rt===void 0)){if(D())return Ot(Me,Fe,Ye,ot,Ht);(0,H.Z)("DASH: Your browser does not have the fetch API. You will have a higher chance of rebuffering when playing close to the live edge")}var ct=Fe.segment;return(0,y.ZP)({url:Me,responseType:"arraybuffer",headers:ct.range!==void 0?{Range:(0,W.Z)(ct.range)}:void 0,timeout:Ye.timeout,cancelSignal:Ht,onProgress:ot.onProgress}).then(function(wt){return{resultType:"segment-loaded",resultData:wt}})}function He(Me){var Fe=Me.lowLatencyMode,Qe=Me.segmentLoader,Ye=Me.checkMediaSegmentIntegrity;return Ye!==!0?ot:fe(ot);function ot(Ht,Rt,ct,wt,on){var Wt=c(Ht,Rt.segment);if(Wt==null)return Promise.resolve({resultType:"segment-created",resultData:null});if(Fe||Qe===void 0)return kt(Wt,Rt,Fe,ct,on,wt);var fn={adaptation:Rt.adaptation,manifest:Rt.manifest,period:Rt.period,representation:Rt.representation,segment:Rt.segment,transport:"dash",timeout:ct.timeout,url:Wt};return new Promise(function(Jt,Zt){var pn=!1,On=function(Yn){pn||wt.isCancelled||(pn=!0,wt.deregister(Nn),Jt({resultType:"segment-loaded",resultData:{responseData:Yn.data,size:Yn.size,requestDuration:Yn.duration}}))},Sn=function(Yn){var qn,sr,or;if(!(pn||wt.isCancelled)){pn=!0,wt.deregister(Nn);var Zn=Yn,ye=(qn=Zn==null?void 0:Zn.message)!==null&&qn!==void 0?qn:"Unknown error when fetching a DASH segment through a custom segmentLoader.",Te=new Z.Z(ye,(sr=Zn==null?void 0:Zn.canRetry)!==null&&sr!==void 0?sr:!1,(or=Zn==null?void 0:Zn.isOfflineError)!==null&&or!==void 0?or:!1,Zn==null?void 0:Zn.xhr);Zt(Te)}},Mn=function(Yn){pn||wt.isCancelled||on.onProgress({duration:Yn.duration,size:Yn.size,totalSize:Yn.totalSize})},Gn=function(){pn||wt.isCancelled||(pn=!0,wt.deregister(Nn),kt(Wt,Rt,Fe,ct,on,wt).then(Jt,Zt))},dr={reject:Sn,resolve:On,progress:Mn,fallback:Gn},Ln=Qe(fn,dr);wt.register(Nn);function Nn($n){pn||(pn=!0,typeof Ln=="function"&&Ln(),Zt($n))}})}}var je=r(6490),ve=r(4644),qe=408125543,bt=357149030,vt=2807729,et=17545,mt=475249515,ht=187,St=179,tt=183,dt=241;function Dt(Me,Fe,Qe,Ye){for(var ot=Ye[0],Ht=Ye[1],Rt=ot;Rt<Ht;){var ct=bn(Qe,Rt);if(ct==null)return null;var wt=ct.value,on=ct.length,Wt=Rt+on,fn=Fn(Qe,Wt);if(fn==null)return null;var Jt=fn,Zt=Jt.length,pn=Jt.value,On=Wt+Zt,Sn=On+pn;if(wt===Me)return[On,Sn];if(Fe.length>0){for(var Mn=0;Mn<Fe.length;Mn++)if(wt===Fe[Mn]){var Gn=Fe.slice(Mn+1,Fe.length);return Dt(Me,Gn,Qe,[On,Sn])}}Rt=Sn}return null}function Ue(Me,Fe){var Qe=Dt(vt,[qe,bt],Me,[Fe,Me.length]);if(Qe==null)return null;var Ye=Qe[1]-Qe[0];return 1e9/Hn(Me,Qe[0],Ye)}function jt(Me,Fe){var Qe=Dt(et,[qe,bt],Me,[Fe,Me.length]);if(Qe==null)return null;var Ye=Qe[1]-Qe[0];return Ye===4?gr(Me,Qe[0]):Ye===8?Ur(Me,Qe[0]):null}function hn(Me,Fe){var Qe=Dt(qe,[],Me,[Fe,Me.length]);if(Qe==null)return null;var Ye=Qe[0],ot=Qe[1],Ht=Ue(Me,Ye);if(Ht==null)return null;var Rt=jt(Me,Ye);if(Rt==null)return null;var ct=Dt(mt,[],Me,[Ye,ot]);if(ct==null)return null;for(var wt=[],on=ct[0];on<ct[1];){var Wt=Dt(ht,[],Me,[on,ct[1]]);if(Wt==null)break;var fn=Dt(St,[],Me,[Wt[0],Wt[1]]);if(fn==null)return null;var Jt=Hn(Me,fn[0],fn[1]-fn[0]),Zt=Dt(dt,[tt],Me,[Wt[0],Wt[1]]);if(Zt==null)return null;var pn=Hn(Me,Zt[0],Zt[1]-Zt[0])+Ye;wt.push({time:Jt,rangeStart:pn}),on=Wt[1]}for(var On=[],Sn=0;Sn<wt.length;Sn++){var Mn=wt[Sn];Sn===wt.length-1?On.push({time:Mn.time,timescale:Ht,duration:Sn===0?Rt:Rt-Mn.time,range:[Mn.rangeStart,1/0]}):On.push({time:Mn.time,timescale:Ht,duration:wt[Sn+1].time-Mn.time,range:[Mn.rangeStart,wt[Sn+1].rangeStart-1]})}return On}function Xt(Me,Fe){for(var Qe=1;Qe<=8;Qe++)if(Me[Fe]>=Math.pow(2,8-Qe))return Qe}function bn(Me,Fe){var Qe=Xt(Me,Fe);if(Qe==null)return O.Z.warn("webm: unrepresentable length"),null;if(Fe+Qe>Me.length)return O.Z.warn("webm: impossible length"),null;for(var Ye=0,ot=0;ot<Qe;ot++)Ye=Me[Fe+ot]*Math.pow(2,(Qe-ot-1)*8)+Ye;return{length:Qe,value:Ye}}function Fn(Me,Fe){var Qe=Xt(Me,Fe);if(Qe==null)return O.Z.warn("webm: unrepresentable length"),null;if(Fe+Qe>Me.length)return O.Z.warn("webm: impossible length"),null;for(var Ye=(Me[Fe]&(1<<8-Qe)-1)*Math.pow(2,(Qe-1)*8),ot=1;ot<Qe;ot++)Ye=Me[Fe+ot]*Math.pow(2,(Qe-ot-1)*8)+Ye;return{length:Qe,value:Ye}}function gr(Me,Fe){return new DataView(Me.buffer).getFloat32(Fe)}function Ur(Me,Fe){return new DataView(Me.buffer).getFloat64(Fe)}function Hn(Me,Fe,Qe){for(var Ye=0,ot=0;ot<Qe;ot++)Ye=Me[Fe+ot]*Math.pow(2,(Qe-ot-1)*8)+Ye;return Ye}var Fr=r(7403);function zr(Me,Fe,Qe,Ye){var ot=(0,ve.Qx)(Me);if(ot===void 0||Ye===void 0)return null;var Ht=Qe.timestampOffset!==void 0?ot+Qe.timestampOffset*Ye:ot,Rt=(0,ve.MM)(Me);if(Ht<0&&(Rt!==void 0&&(Rt+=Ht),Ht=0),Fe||!Qe.complete)return Rt===void 0&&O.Z.warn("DASH: Chunked segments should indicate a duration through their trun boxes"),{time:Ht/Ye,duration:Rt!==void 0?Rt/Ye:void 0};var ct,wt=Qe.duration*Ye,on=Math.min(Ye*.9,wt/4);return Rt!==void 0&&Math.abs(Rt-wt)<=on&&(ct=Rt),{time:Ht/Ye,duration:ct!==void 0?ct/Ye:ct}}function Oi(Me,Fe){if(Me.length<=0)return!1;for(var Qe=Me.length,Ye=0;Ye<Qe;Ye++){var ot=Me[Ye],Ht=Fe,Rt=ot.messageData,ct=(0,w.uR)(Rt),wt=Date.parse(ct);if(Ht===void 0||wt===void 0||isNaN(wt)||wt>=Ht)return!0}return!1}function Ei(Me,Fe){if(Me.length!==0){var Qe=Me.reduce(function(ct,wt){return wt.schemeIdUri==="urn:mpeg:dash:event:2012"&&wt.value==="1"?(ct.manifestRefreshEventsFromEMSGs===void 0&&(ct.manifestRefreshEventsFromEMSGs=[]),ct.manifestRefreshEventsFromEMSGs.push(wt)):(ct.EMSGs===void 0&&(ct.EMSGs=[]),ct.EMSGs.push(wt)),ct},{manifestRefreshEventsFromEMSGs:void 0,EMSGs:void 0}),Ye=Qe.manifestRefreshEventsFromEMSGs,ot=Qe.EMSGs,Ht=ot==null?void 0:ot.map(function(ct){return{type:"emsg",value:ct}}),Rt=Fe===void 0||Ye===void 0?!1:Oi(Ye,Fe);return{inbandEvents:Ht,needsManifestRefresh:Rt}}}function Vi(Me){var Fe=Me.__priv_patchLastSegmentInSidx;return function(Ye,ot,Ht){var Rt,ct=ot.period,wt=ot.adaptation,on=ot.representation,Wt=ot.segment,fn=ot.manifest,Jt=Ye.data,Zt=Ye.isChunked,pn=[ct.start,ct.end];if(Jt===null)return Wt.isInit?{segmentType:"init",initializationData:null,initializationDataSize:0,protectionDataUpdate:!1,initTimescale:void 0}:{segmentType:"media",chunkData:null,chunkSize:0,chunkInfos:null,chunkOffset:0,protectionDataUpdate:!1,appendWindow:pn};var On=Jt instanceof Uint8Array?Jt:new Uint8Array(Jt),Sn=Y(wt.type,on),Mn=Sn==="mp4"||Sn===void 0,Gn=!1;if(Mn){var dr=(0,je.Z)(On),Ln;Wt.isInit&&(Ln=(Rt=(0,ve.R0)(On))!==null&&Rt!==void 0?Rt:void 0),(dr.length>0||Ln!==void 0)&&(Gn=on._addProtectionData("cenc",Ln,dr))}if(!Wt.isInit){var Nn=Mn?zr(On,Zt,Wt,Ht):null,$n=(0,A.Z)(Wt.timestampOffset,0);if(Mn){var Yn=(0,ve.s9)(On);if(Yn!==void 0){var qn=Yn.filter(function(it){return Wt.privateInfos===void 0||Wt.privateInfos.isEMSGWhitelisted===void 0?!1:Wt.privateInfos.isEMSGWhitelisted(it)}),sr=Ei(qn,fn.publishTime);if(sr!==void 0){var or=sr.needsManifestRefresh,Zn=sr.inbandEvents;return{segmentType:"media",chunkData:On,chunkSize:On.length,chunkInfos:Nn,chunkOffset:$n,appendWindow:pn,inbandEvents:Zn,protectionDataUpdate:Gn,needsManifestRefresh:or}}}}return{segmentType:"media",chunkData:On,chunkSize:On.length,chunkInfos:Nn,chunkOffset:$n,protectionDataUpdate:Gn,appendWindow:pn}}var ye=Wt.indexRange,Te=null;if(Sn==="webm")Te=hn(On,0);else if(Mn&&(Te=(0,ve.Wf)(On,Array.isArray(ye)?ye[0]:0),Fe===!0&&Te!==null&&Te.length>0)){var xe=Te[Te.length-1];Array.isArray(xe.range)&&(xe.range[1]=1/0)}on.index instanceof Fr.Z&&Te!==null&&Te.length>0&&on.index.initializeIndex(Te);var Oe=Mn?(0,ve.LD)(On):Sn==="webm"?Ue(On,0):void 0,Xe=(0,j.Z)(Oe)?void 0:Oe;return{segmentType:"init",initializationData:On,initializationDataSize:On.length,protectionDataUpdate:Gn,initTimescale:Xe}}}function Di(Me){var Fe=Me.lowLatencyMode,Qe=Me.checkMediaSegmentIntegrity;return Qe!==!0?Ye:fe(Ye);function Ye(ot,Ht,Rt,ct,wt){var on=Ht.adaptation,Wt=Ht.representation,fn=Ht.segment,Jt=fn.range,Zt=c(ot,fn);if(Zt===null)return Promise.resolve({resultType:"segment-created",resultData:null});if(fn.isInit)return ge(Zt,fn,Rt,ct,wt);var pn=Y(on.type,Wt),On=pn==="mp4"||pn===void 0;if(Fe&&On){if(D())return Ot(Zt,Ht,Rt,wt,ct);(0,H.Z)("DASH: Your browser does not have the fetch API. You will have a higher chance of rebuffering when playing close to the live edge")}return On?(0,y.ZP)({url:Zt,responseType:"arraybuffer",headers:Array.isArray(Jt)?{Range:(0,W.Z)(Jt)}:null,timeout:Rt.timeout,onProgress:wt.onProgress,cancelSignal:ct}).then(function(Sn){return{resultType:"segment-loaded",resultData:Sn}}):(0,y.ZP)({url:Zt,responseType:"text",headers:Array.isArray(Jt)?{Range:(0,W.Z)(Jt)}:null,timeout:Rt.timeout,onProgress:wt.onProgress,cancelSignal:ct}).then(function(Sn){return{resultType:"segment-loaded",resultData:Sn}})}}var xi=r(6807);function Yr(Me){var Fe=(0,xi.Le)(Me);return Fe===null?"":(0,w.uR)(Fe)}function kr(Me){var Fe=Me.codec;if(Fe===void 0)throw new Error("Cannot parse subtitles: unknown format");switch(Fe.toLowerCase()){case"stpp":case"stpp.ttml.im1t":return"ttml";case"wvtt":return"vtt"}throw new Error("The codec used for the subtitles "+('"'+Fe+'" is not managed yet.'))}function Kr(Me){var Fe=Me.mimeType,Qe=Fe===void 0?"":Fe;switch(Me.mimeType){case"application/ttml+xml":return"ttml";case"application/x-sami":case"application/smil":return"sami";case"text/vtt":return"vtt"}var Ye=Me.codec,ot=Ye===void 0?"":Ye,Ht=ot.toLowerCase();if(Ht==="srt")return"srt";throw new Error("could not find a text-track parser for the type "+Qe)}function Pr(Me,Fe,Qe,Ye){var ot=Me.segment,Ht=Me.adaptation,Rt=Me.representation;if(ot.isInit)return null;var ct,wt;Qe===null?Ye?(ct=ot.time,wt=ot.end):O.Z.warn("Transport: Unavailable time data for current text track."):(ct=Qe.time,Qe.duration!==void 0?wt=ct+Qe.duration:!Ye&&ot.complete&&(wt=ct+ot.duration));var on=kr(Rt),Wt=Yr(Fe);return{data:Wt,type:on,language:Ht.language,start:ct,end:wt}}function Hi(Me,Fe,Qe){var Ye=Me.segment,ot=Me.adaptation,Ht=Me.representation;if(Ye.isInit)return null;var Rt,ct;Qe?O.Z.warn("Transport: Unavailable time data for current text track."):(Rt=Ye.time,Ye.complete&&(ct=Ye.time+Ye.duration));var wt=Kr(Ht);return{data:Fe,type:wt,language:ot.language,start:Rt,end:ct}}function Gi(Me,Fe,Qe,Ye,ot){var Ht=Qe.period,Rt=Qe.representation,ct=Qe.segment,wt=ct.isInit,on=ct.indexRange,Wt=typeof Me=="string"?(0,w.tG)(Me):Me instanceof Uint8Array?Me:new Uint8Array(Me);if(wt){var fn=(0,ve.Wf)(Wt,Array.isArray(on)?on[0]:0);if(ot===!0&&fn!==null&&fn.length>0){var Jt=fn[fn.length-1];Array.isArray(Jt.range)&&(Jt.range[1]=1/0)}var Zt=(0,ve.LD)(Wt);return Rt.index instanceof Fr.Z&&fn!==null&&fn.length>0&&Rt.index.initializeIndex(fn),{segmentType:"init",initializationData:null,initializationDataSize:0,protectionDataUpdate:!1,initTimescale:Zt}}var pn=zr(Wt,Fe,ct,Ye),On=Pr(Qe,Wt,pn,Fe),Sn=(0,A.Z)(ct.timestampOffset,0);return{segmentType:"media",chunkData:On,chunkSize:Wt.length,chunkInfos:pn,chunkOffset:Sn,protectionDataUpdate:!1,appendWindow:[Ht.start,Ht.end]}}function $i(Me,Fe,Qe){var Ye=Qe.period,ot=Qe.segment,Ht=ot.timestampOffset,Rt=Ht===void 0?0:Ht;if(ot.isInit)return{segmentType:"init",initializationData:null,initializationDataSize:0,protectionDataUpdate:!1,initTimescale:void 0};var ct,wt;if(typeof Me!="string"){var on=Me instanceof Uint8Array?Me:new Uint8Array(Me);ct=(0,w.uR)(on),wt=on.length}else ct=Me;var Wt=Hi(Qe,ct,Fe);return{segmentType:"media",chunkData:Wt,chunkSize:wt,chunkInfos:null,chunkOffset:Rt,protectionDataUpdate:!1,appendWindow:[Ye.start,Ye.end]}}function ji(Me){var Fe=Me.__priv_patchLastSegmentInSidx;return function(Ye,ot,Ht){var Rt,ct=ot.period,wt=ot.adaptation,on=ot.representation,Wt=ot.segment,fn=Ye.data,Jt=Ye.isChunked;if(fn===null)return Wt.isInit?{segmentType:"init",initializationData:null,initializationDataSize:0,protectionDataUpdate:!1,initTimescale:void 0}:{segmentType:"media",chunkData:null,chunkSize:0,chunkInfos:null,chunkOffset:(Rt=Wt.timestampOffset)!==null&&Rt!==void 0?Rt:0,protectionDataUpdate:!1,appendWindow:[ct.start,ct.end]};var Zt=Y(wt.type,on);if(Zt==="webm")throw new Error("Text tracks with a WEBM container are not yet handled.");return Zt==="mp4"?Gi(fn,Jt,ot,Ht,Fe):$i(fn,Jt,ot)}}function na(Me){var Fe=(0,g.Z)({customManifestLoader:Me.manifestLoader},li()?"text":"arraybuffer"),Qe=U(Me),Ye=He(Me),ot=Vi(Me),Ht=Di(Me),Rt=ji(Me);return{manifest:{loadManifest:Fe,parseManifest:Qe},audio:{loadSegment:Ye,parseSegment:ot},video:{loadSegment:Ye,parseSegment:ot},text:{loadSegment:Ht,parseSegment:Rt},image:{loadSegment:f,parseSegment:I}}}function li(){return p.Z.dashParsers.wasm!==null&&(p.Z.dashParsers.wasm.status==="initialized"||p.Z.dashParsers.wasm.status==="initializing")}var Ti=na},2339:function(E,_,r){r.d(_,{Z:function(){return Zn}});var p=r(5861),g=r(4687),S=r.n(g),h=r(7874),b=r(3887),y=r(1989),A=r(6807),k=r(9362),c=r(811),f=r(8232),l=r(3911),I=r(1091),M=r(5505);function C(ye,Te,xe){var Oe=ye.timeline,Xe=ye.timescale,it=Oe.length,At=Oe[it-1],Ft=Te.timescale===Xe?{time:Te.time,duration:Te.duration}:{time:Te.time/Te.timescale*Xe,duration:Te.duration/Te.timescale*Xe},Qt=xe.time===Ft.time;return Qt?!1:Ft.time>=(0,l.jH)(At,null)?(At.duration===Ft.duration?At.repeatCount++:ye.timeline.push({duration:Ft.duration,start:Ft.time,repeatCount:0}),!0):!1}function O(ye,Te,xe){return ye.replace(/\{bitrate\}/g,String(Te)).replace(/{CustomAttributes}/g,xe.length>0?xe[0]:"")}function P(ye,Te){return ye.replace(/\{start time\}/g,String(Te))}function $(ye,Te,xe){var Oe=Te-ye;return Oe>0?Math.floor(Oe/xe):0}function w(ye,Te,xe){var Oe=ye.timescale===void 0||ye.timescale===0?1:ye.timescale;return{up:Te*Oe,to:(Te+xe)*Oe}}function U(ye,Te){var xe=ye.repeatCount;if(ye.duration!=null&&xe<0){var Oe=Te!==void 0?Te.start:1/0;xe=Math.ceil((Oe-ye.start)/ye.duration)-1}return xe}var z=function(){function ye(xe,Oe){var Xe=Oe.aggressiveMode,it=Oe.isLive,At=Oe.segmentPrivateInfos,Ft=Oe.timeShiftBufferDepth,Qt=Oe.manifestReceivedTime==null?performance.now():Oe.manifestReceivedTime;if(this._index=xe,this._indexValidityTime=Qt,this._timeShiftBufferDepth=Ft,this._initSegmentInfos={bitsPerSample:At.bitsPerSample,channels:At.channels,codecPrivateData:At.codecPrivateData,packetSize:At.packetSize,samplingRate:At.samplingRate,timescale:xe.timescale,protection:At.protection},this._isAggressiveMode=Xe,this._isLive=it,xe.timeline.length!==0){var Gt=xe.timeline[xe.timeline.length-1],Mt=(0,l.jH)(Gt,null);if(this._initialScaledLastPosition=Mt,it){var Vt=Qt/1e3*xe.timescale;this._scaledLiveGap=Vt-Mt}}}var Te=ye.prototype;return Te.getInitSegment=function(){return{id:"init",isInit:!0,privateInfos:{smoothInitSegment:this._initSegmentInfos},url:null,time:0,end:0,duration:0,timescale:1,complete:!0}},Te.getSegments=function(Oe,Xe){this._refreshTimeline();for(var it=w(this._index,Oe,Xe),At=it.up,Ft=it.to,Qt=this._index,Gt=Qt.timeline,Mt=Qt.timescale,Vt=Qt.media,Bt=this._isAggressiveMode,Yt=[],Lt=Gt.length,tn=this._scaledLiveGap==null?void 0:performance.now()/1e3*Mt-this._scaledLiveGap,An=0;An<Lt;An++){for(var vn=Gt[An],In=vn.duration,xn=vn.start,K=U(vn,Gt[An+1]),B=$(xn,At,In),V=xn+B*In,F=Bt?0:In;V<Ft&&B<=K&&(tn==null||V+F<=tn);){var se=V,ne=void 0,Se={id:String(V),isInit:!1,time:se/Mt,end:(se+In)/Mt,duration:In/Mt,timescale:1,number:ne,url:P(Vt,se),complete:!0,privateInfos:{smoothMediaSegment:{time:se,duration:In}}};Yt.push(Se),B++,V=xn+B*In}if(V>=Ft)return Yt}return Yt},Te.shouldRefresh=function(Oe,Xe){if(this._refreshTimeline(),!this._isLive)return!1;var it=this._index,At=it.timeline,Ft=it.timescale,Qt=At[At.length-1];if(Qt===void 0)return!1;var Gt=Qt.repeatCount,Mt=Qt.start+(Gt+1)*Qt.duration;if(Xe*Ft<Mt)return!1;if(Oe*Ft>=Mt)return!0;var Vt=Qt.start+Gt*Qt.duration;return Oe*Ft>Vt},Te.getFirstAvailablePosition=function(){this._refreshTimeline();var Oe=this._index;return Oe.timeline.length===0?null:Oe.timeline[0].start/Oe.timescale},Te.getLastAvailablePosition=function(){this._refreshTimeline();var Oe=this._index;if(this._scaledLiveGap==null){var Xe=Oe.timeline[Oe.timeline.length-1];return(0,l.jH)(Xe,null)/Oe.timescale}for(var it=Oe.timeline.length-1;it>=0;it--)for(var At=Oe.timeline[it],Ft=performance.now()/1e3*Oe.timescale,Qt=At.start,Gt=At.duration,Mt=At.repeatCount,Vt=Mt;Vt>=0;Vt--){var Bt=Qt+Gt*(Vt+1),Yt=this._isAggressiveMode?Bt-Gt:Bt;if(Yt<=Ft-this._scaledLiveGap)return Bt/Oe.timescale}},Te.getEnd=function(){if(!this._isLive)return this.getLastAvailablePosition()},Te.awaitSegmentBetween=function(Oe,Xe){var it;if((0,c.Z)(Oe<=Xe),this.isFinished())return!1;var At=this.getLastAvailablePosition();return At!==void 0&&Xe<At?!1:Xe>((it=this.getFirstAvailablePosition())!==null&&it!==void 0?it:0)?void 0:!1},Te.checkDiscontinuity=function(Oe){return this._refreshTimeline(),(0,l._j)(this._index,Oe,void 0)},Te.isSegmentStillAvailable=function(Oe){if(Oe.isInit)return!0;this._refreshTimeline();var Xe=this._index,it=Xe.timeline,At=Xe.timescale;return(0,I.Z)(Oe,it,At,0)},Te.canBeOutOfSyncError=function(Oe){return this._isLive?Oe instanceof k.Z&&(Oe.isHttpError(404)||Oe.isHttpError(412)):!1},Te._replace=function(Oe){var Xe=this._index.timeline,it=Oe._index.timeline,At=this._index.timescale,Ft=Oe._index.timescale;if(this._index=Oe._index,this._initialScaledLastPosition=Oe._initialScaledLastPosition,this._indexValidityTime=Oe._indexValidityTime,this._scaledLiveGap=Oe._scaledLiveGap,!(Xe.length===0||it.length===0||At!==Ft)){var Qt=Xe[Xe.length-1],Gt=it[it.length-1],Mt=(0,l.jH)(Gt,null);if(!((0,l.jH)(Qt,null)<=Mt))for(var Vt=0;Vt<Xe.length;Vt++){var Bt=Xe[Vt],Yt=(0,l.jH)(Bt,null);if(Yt===Mt){this._index.timeline=this._index.timeline.concat(Xe.slice(Vt+1));return}if(Yt>Mt){if(Bt.duration!==Gt.duration)return;var Lt=Mt-Bt.start;if(Lt===0){b.Z.warn("Smooth Parser: a discontinuity detected in the previous manifest has been resolved."),this._index.timeline=this._index.timeline.concat(Xe.slice(Vt));return}if(Lt<0||Lt%Bt.duration!==0)return;var tn=Lt/Bt.duration-1,An=Bt.repeatCount-tn;if(An<0)return;Gt.repeatCount+=An;var vn=Xe.slice(Vt+1);this._index.timeline=this._index.timeline.concat(vn);return}}}},Te._update=function(Oe){(0,M.Z)(this._index.timeline,Oe._index.timeline),this._initialScaledLastPosition=Oe._initialScaledLastPosition,this._indexValidityTime=Oe._indexValidityTime,this._scaledLiveGap=Oe._scaledLiveGap},Te.isFinished=function(){return!this._isLive},Te.isInitialized=function(){return!0},Te.addNewSegments=function(Oe,Xe){this._refreshTimeline();for(var it=0;it<Oe.length;it++)C(this._index,Oe[it],Xe)},Te._refreshTimeline=function(){if(this._initialScaledLastPosition!=null){var Oe=this._index,Xe=this._timeShiftBufferDepth,it=(performance.now()-this._indexValidityTime)/1e3,At=it+this._initialScaledLastPosition/Oe.timescale;if(Xe!=null){var Ft=(At-Xe)*Oe.timescale;(0,f.Z)(Oe.timeline,Ft)}}},ye}(),L=r(8999),x=r(7714),Z=r(6968),Q=r(6923),re=r(8026),j=r(9829),ee=r(3635),ue=r(5278),ae=r(2689),D={};function H(ye){if(D[ye]!=null)return D[ye];var Te=(0,ee.tG)(ye);return D[ye]=Te,Te}function W(ye,Te){var xe=Te.length+8;return xe<=ae.s?(0,Z.zo)((0,Z.kh)(xe),H(ye),Te):(0,Z.zo)((0,Z.kh)(1),H(ye),(0,Z.el)(xe+8),Te)}function Y(ye,Te){return W(ye,Z.zo.apply(void 0,Te))}function X(ye){var Te=[];ye.periods.forEach(function(xe){var Oe=xe.id;if((0,x.Z)(Te,Oe)){b.Z.warn("Two periods with the same ID found. Updating.");var Xe=Oe+"-dup";xe.id=Xe,X(ye),Te.push(Xe)}else Te.push(Oe);var it=xe.adaptations,At=[];Object.keys(it).forEach(function(Ft){var Qt=it[Ft];Qt!==void 0&&Qt.forEach(function(Gt){var Mt=Gt.id;if((0,x.Z)(At,Mt)){b.Z.warn("Two adaptations with the same ID found. Updating.",Mt);var Vt=Mt+"-dup";Gt.id=Vt,X(ye),At.push(Vt)}else At.push(Mt);var Bt=[];Gt.representations.forEach(function(Yt){var Lt=Yt.id;if((0,x.Z)(Bt,Lt)){b.Z.warn("Two representations with the same ID found. Updating.",Lt);var tn=Lt+"-dup";Yt.id=tn,X(ye),Bt.push(tn)}else Bt.push(Lt)})})})})}function ie(ye,Te){var xe;return Te==="AACH"?xe=5:xe=(0,Q.Z)(ye)?(parseInt(ye.substring(0,2),16)&248)>>3:2,xe===0?"mp4a.40.2":"mp4a.40."+xe}function fe(ye){var Te=/00000001\d7([0-9a-fA-F]{6})/.exec(ye);return Te===null||!(0,Q.Z)(Te[1])?"avc1.4D401E":"avc1."+Te[1]}function be(ye){return ye.reduce(function(Te,xe,Oe){var Xe=xe.getAttribute("d"),it=xe.getAttribute("t"),At=xe.getAttribute("r"),Ft=At!==null?+At-1:0,Qt=it!==null?+it:void 0,Gt=Xe!==null?+Xe:void 0;if(Oe===0)Qt=Qt===void 0||isNaN(Qt)?0:Qt;else{var Mt=Te[Oe-1];if(Qt==null||isNaN(Qt)){if(Mt.duration==null||isNaN(Mt.duration))throw new Error("Smooth: Invalid CNodes. Missing timestamp.");Qt=Mt.start+Mt.duration*(Mt.repeatCount+1)}}if(Gt==null||isNaN(Gt)){var Vt=ye[Oe+1];if(Vt!==void 0){var Bt=Vt.getAttribute("t"),Yt=(0,Q.Z)(Bt)?+Bt:null;if(Yt===null)throw new Error("Can't build index timeline from Smooth Manifest.");Gt=Yt-Qt}else return Te}return Te.push({duration:Gt,start:Qt,repeatCount:Ft}),Te},[])}var ge=r(9689);function Be(ye){var Te=(0,Z.qb)(ye,8),xe=(0,ee.wV)(ye.subarray(10,Te+10)),Oe=new DOMParser().parseFromString(xe,"application/xml"),Xe=Oe.querySelector("KID");if(Xe===null)throw new Error("Cannot parse PlayReady private data: invalid XML");var it=Xe.textContent===null?"":Xe.textContent,At=(0,ee.wO)((0,ge.K)(it));return(0,ee.ci)(At).toLowerCase()}function Ke(ye){return[{systemId:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",privateData:(0,Z.zo)([8,1,18,16],ye)}]}function Ot(ye,Te){if(Te===void 0&&(Te=Ke),ye.firstElementChild===null||ye.firstElementChild.nodeName!=="ProtectionHeader")throw new Error("Protection should have ProtectionHeader child");var xe=ye.firstElementChild,Oe=(0,ge.K)(xe.textContent===null?"":xe.textContent),Xe=Be(Oe),it=(0,ee.nr)(Xe),At=xe.getAttribute("SystemID"),Ft=(At!==null?At:"").toLowerCase().replace(/\{|\}/g,"");return{keyId:it,keySystems:[{systemId:Ft,privateData:Oe}].concat(Te(it))}}function kt(ye){return typeof ye=="boolean"?ye:typeof ye=="string"?ye.toUpperCase()==="TRUE":!1}function He(ye,Te,xe){for(var Oe=ye.firstElementChild,Xe=xe;Oe!==null;)Xe=Te(Xe,Oe.nodeName,Oe),Oe=Oe.nextElementSibling;return Xe}var je=!1,ve={audio:"audio/mp4",video:"video/mp4",text:"application/ttml+xml"},qe={AACL:"audio/mp4",AVC1:"video/mp4",H264:"video/mp4",TTML:"application/ttml+xml+mp4",DFXP:"application/ttml+xml+mp4"};function bt(ye){ye===void 0&&(ye={});var Te=ye.referenceDateTime===void 0?Date.UTC(1970,0,1,0,0,0,0)/1e3:ye.referenceDateTime,xe=ye.minRepresentationBitrate===void 0?0:ye.minRepresentationBitrate,Oe=ye,Xe=Oe.serverSyncInfos,it=Xe!==void 0?Xe.serverTimestamp-Xe.clientTime:void 0;function At(Gt,Mt){var Vt=He(Gt,function(yt,lt,_t){return lt==="CustomAttributes"&&yt.push.apply(yt,He(_t,function(Et,Pt,qt){if(Pt==="Attribute"){var an=qt.getAttribute("Name"),un=qt.getAttribute("Value");an!==null&&un!==null&&Et.push(an+"="+un)}return Et},[])),yt},[]);function Bt(yt){var lt=Gt.getAttribute(yt);return lt??void 0}switch(Mt){case"audio":{var Yt=Bt("AudioTag"),Lt=Bt("BitsPerSample"),tn=Bt("Channels"),An=Bt("CodecPrivateData"),vn=Bt("FourCC"),In=Bt("PacketSize"),xn=Bt("SamplingRate"),K=Bt("Bitrate"),B=K===void 0||isNaN(parseInt(K,10))?0:parseInt(K,10);if(vn!==void 0&&qe[vn]===void 0||An===void 0)return b.Z.warn("Smooth parser: Unsupported audio codec. Ignoring quality level."),null;var V=ie(An,vn);return{audiotag:Yt!==void 0?parseInt(Yt,10):Yt,bitrate:B,bitsPerSample:Lt!==void 0?parseInt(Lt,10):Lt,channels:tn!==void 0?parseInt(tn,10):tn,codecPrivateData:An,codecs:V,customAttributes:Vt,mimeType:vn!==void 0?qe[vn]:vn,packetSize:In!==void 0?parseInt(In,10):In,samplingRate:xn!==void 0?parseInt(xn,10):xn}}case"video":{var F=Bt("CodecPrivateData"),se=Bt("FourCC"),ne=Bt("MaxWidth"),Se=Bt("MaxHeight"),Re=Bt("Bitrate"),Ce=Re===void 0||isNaN(parseInt(Re,10))?0:parseInt(Re,10);if(se!==void 0&&qe[se]===void 0||F===void 0)return b.Z.warn("Smooth parser: Unsupported video codec. Ignoring quality level."),null;var We=fe(F);return{bitrate:Ce,customAttributes:Vt,mimeType:se!==void 0?qe[se]:se,codecPrivateData:F,codecs:We,width:ne!==void 0?parseInt(ne,10):void 0,height:Se!==void 0?parseInt(Se,10):void 0}}case"text":{var Je=Bt("CodecPrivateData"),at=Bt("FourCC"),Le=Bt("Bitrate"),ut=Le===void 0||isNaN(parseInt(Le,10))?0:parseInt(Le,10);return{bitrate:ut,customAttributes:Vt,mimeType:at!==void 0?qe[at]:at,codecPrivateData:(0,ue.Z)(Je,"")}}default:return b.Z.error("Smooth Parser: Unrecognized StreamIndex type: "+Mt),null}}function Ft(Gt){var Mt=Gt.root,Vt=Gt.timescale,Bt=Gt.baseUrl,Yt=Gt.protections,Lt=Gt.timeShiftBufferDepth,tn=Gt.manifestReceivedTime,An=Gt.isLive,vn=Mt.getAttribute("Timescale"),In=vn===null||isNaN(+vn)?Vt:+vn,xn=Mt.getAttribute("Type");if(xn===null)throw new Error("StreamIndex without type.");(0,x.Z)(L.r,xn)||b.Z.warn("Smooth Parser: Unrecognized adaptation type:",xn);var K=xn,B=Mt.getAttribute("Subtype"),V=Mt.getAttribute("Language"),F=Mt.getAttribute("Url"),se=F===null?"":F,ne=He(Mt,function(Le,ut,yt){switch(ut){case"QualityLevel":var lt=At(yt,K);if(lt===null)return Le;(K!=="video"||lt.bitrate>xe)&&Le.qualityLevels.push(lt);break;case"c":Le.cNodes.push(yt);break}return Le},{qualityLevels:[],cNodes:[]}),Se=ne.qualityLevels,Re=ne.cNodes,Ce={timeline:be(Re),timescale:In};(0,c.Z)(Se.length!==0,"Adaptation should have at least one playable representation.");var We=K+((0,Q.Z)(V)?"_"+V:""),Je=Se.map(function(Le){var ut={timeline:Ce.timeline,timescale:Ce.timescale,media:O(se,Le.bitrate,Le.customAttributes)},yt=(0,Q.Z)(Le.mimeType)?Le.mimeType:ve[K],lt=Le.codecs,_t=We+"_"+(K!=null?K+"-":"")+(yt!=null?yt+"-":"")+(lt!=null?lt+"-":"")+String(Le.bitrate),Et=[],Pt;Yt.length>0&&(Pt=Yt[0],Yt.forEach(function(Cn){var wn=Cn.keyId;Cn.keySystems.forEach(function(gn){Et.push({keyId:wn,systemId:gn.systemId})})}));var qt={bitsPerSample:Le.bitsPerSample,channels:Le.channels,codecPrivateData:Le.codecPrivateData,packetSize:Le.packetSize,samplingRate:Le.samplingRate,protection:Pt!=null?{keyId:Pt.keyId}:void 0},an=ye.aggressiveMode==null?je:ye.aggressiveMode,un=new z(ut,{aggressiveMode:an,isLive:An,manifestReceivedTime:tn,segmentPrivateInfos:qt,timeShiftBufferDepth:Lt}),cn=(0,re.Z)({},Le,{index:un,cdnMetadata:[{baseUrl:Bt}],mimeType:yt,codecs:lt,id:_t});if(Et.length>0||Pt!==void 0){var ln=Pt===void 0?[]:Pt.keySystems.map(function(Cn){var wn=Cn.systemId,gn=Cn.privateData,En=wn.replace(/-/g,""),Kn=vt(En,gn);return{systemId:En,data:Kn}});if(ln.length>0){var dn=[{type:"cenc",values:ln}];cn.contentProtections={keyIds:Et,initData:dn}}else cn.contentProtections={keyIds:Et,initData:[]}}return cn});if(B==="ADVT")return null;var at={id:We,type:K,representations:Je,language:V??void 0};return K==="text"&&B==="DESC"&&(at.closedCaption=!0),at}function Qt(Gt,Mt,Vt){var Bt="";if(Mt!==void 0){var Yt=(0,j.$)(Mt);Bt=Mt.substring(0,Yt)}var Lt=Gt.documentElement;if(Lt==null||Lt.nodeName!=="SmoothStreamingMedia")throw new Error("document root should be SmoothStreamingMedia");var tn=Lt.getAttribute("MajorVersion"),An=Lt.getAttribute("MinorVersion");if(tn===null||An===null||!/^[2]-[0-2]$/.test(tn+"-"+An))throw new Error("Version should be 2.0, 2.1 or 2.2");var vn=Lt.getAttribute("Timescale"),In=(0,Q.Z)(vn)?isNaN(+vn)?1e7:+vn:1e7,xn=He(Lt,function(le,he,me){switch(he){case"Protection":{le.protections.push(Ot(me,ye.keySystems));break}case"StreamIndex":le.adaptationNodes.push(me);break}return le},{adaptationNodes:[],protections:[]}),K=xn.protections,B=xn.adaptationNodes,V={},F=kt(Lt.getAttribute("IsLive")),se;if(F){var ne=Lt.getAttribute("DVRWindowLength");ne!=null&&!isNaN(+ne)&&+ne!=0&&(se=+ne/In)}var Se=B.reduce(function(le,he){var me=Ft({root:he,baseUrl:Bt,timescale:In,protections:K,isLive:F,timeShiftBufferDepth:se,manifestReceivedTime:Vt});if(me===null)return le;var _e=me.type,ke=le[_e];return ke===void 0?le[_e]=[me]:ke.push(me),le},V),Re,Ce,We,Je=null,at,Le=Se.video!==void 0?Se.video[0]:void 0,ut=Se.audio!==void 0?Se.audio[0]:void 0,yt,lt,_t;if(Le!==void 0||ut!==void 0){var Et=[],Pt=[];if(Le!==void 0){var qt=Le.representations[0];if(qt!==void 0){var an=qt.index.getFirstAvailablePosition(),un=qt.index.getLastAvailablePosition();an!=null&&Et.push(an),un!=null&&Pt.push(un)}}if(ut!==void 0){var cn=ut.representations[0];if(cn!==void 0){var ln=cn.index.getFirstAvailablePosition(),dn=cn.index.getLastAvailablePosition();ln!=null&&Et.push(ln),dn!=null&&Pt.push(dn)}}Et.length>0&&(yt=Math.max.apply(Math,Et)),Pt.length>0&&(lt=Math.min.apply(Math,Pt),_t=Math.max.apply(Math,Pt))}var Cn=Lt.getAttribute("Duration"),wn=Cn!==null&&+Cn!=0?+Cn/In:void 0;if(F){Re=ye.suggestedPresentationDelay,Ce=Te,We=yt??Ce;var gn=_t;gn===void 0&&(gn=Date.now()/1e3-Ce);var En=lt;En===void 0&&(En=gn),at={isLinear:!0,maximumSafePosition:En,livePosition:gn,time:performance.now()},Je=se??null}else{We=yt??0;var Kn=lt!==void 0?lt:wn!==void 0?We+wn:1/0;at={isLinear:!1,maximumSafePosition:Kn,livePosition:void 0,time:performance.now()}}var J=F?0:We,oe=F?void 0:at.maximumSafePosition,q={availabilityStartTime:Ce===void 0?0:Ce,clockOffset:it,isLive:F,isDynamic:F,isLastPeriodKnown:!0,timeBounds:{minimumSafePosition:We,timeshiftDepth:Je,maximumTimeData:at},periods:[{adaptations:Se,duration:oe!==void 0?oe-J:wn,end:oe,id:"gen-smooth-period-0",start:J}],suggestedPresentationDelay:Re,transportType:"smooth",uris:Mt==null?[]:[Mt]};return X(q),q}return Qt}function vt(ye,Te){if(ye.length!==32)throw new Error("HSS: wrong system id length");var xe=0;return W("pssh",(0,Z.zo)([xe,0,0,0],(0,ee.nr)(ye),(0,Z.kh)(Te.length),Te))}var et=bt,mt=et,ht=r(4597),St=r(8806),tt=r(4460),dt=r(8791),Dt=r(4644),Ue=r(2297);function jt(ye){var Te=(0,Ue.nR)(ye,3565190898,3392751253,2387879627,2655430559);if(Te===void 0)return[];for(var xe=[],Oe=Te[0],Xe=Te[4],it=0;it<Xe;it++){var At=void 0,Ft=void 0;Oe===1?(Ft=(0,Z.pV)(Te,it*16+5),At=(0,Z.pV)(Te,it*16+5+8)):(Ft=(0,Z.pX)(Te,it*8+5),At=(0,Z.pX)(Te,it*8+5+4)),xe.push({time:Ft,duration:At})}return xe}function hn(ye){var Te=(0,Ue.nR)(ye,1830656773,1121273062,2162299933,2952222642);if(Te!==void 0)return{duration:(0,Z.pV)(Te,12),time:(0,Z.pV)(Te,4)}}function Xt(ye,Te,xe,Oe,Xe){var it,At=[],Ft,Qt,Gt;if(Xe){var Mt=(0,A.XA)(ye);Mt!==null?(Gt=jt(Mt),Qt=hn(Mt)):b.Z.warn("smooth: could not find traf atom")}if(Gt!==void 0)for(var Vt=0;Vt<Gt.length;Vt++)At.push({time:Gt[Vt].time,duration:Gt[Vt].duration,timescale:xe});if(Qt!==void 0)return Ft={time:Qt.time/xe,duration:Qt.duration/xe},{nextSegments:At,chunkInfos:Ft,scaledSegmentTime:Qt.time};if(Te||!Oe.complete)return{nextSegments:At,chunkInfos:null,scaledSegmentTime:void 0};var Bt=Oe.duration*xe,Yt=Math.min(xe*.9,Bt/4),Lt=(0,Dt.MM)(ye),tn=((it=Oe.privateInfos)===null||it===void 0?void 0:it.smoothMediaSegment)!==void 0?Oe.privateInfos.smoothMediaSegment.time:Math.round(Oe.time*xe);return Lt!==void 0&&Math.abs(Lt-Bt)<=Yt?Ft={time:Oe.time,duration:Lt/xe}:Ft={time:Oe.time,duration:Oe.duration},{nextSegments:At,chunkInfos:Ft,scaledSegmentTime:tn}}var bn=r(3666);function Fn(){return!bn.YM}function gr(ye,Te,xe,Oe,Xe,it,At){return W("avc1",(0,Z.zo)(6,(0,Z.XT)(1),16,(0,Z.XT)(ye),(0,Z.XT)(Te),(0,Z.XT)(xe),2,(0,Z.XT)(Oe),6,[0,1,Xe.length],(0,ee.tG)(Xe),31-Xe.length,(0,Z.XT)(it),[255,255],At))}function Ur(ye,Te,xe,Oe,Xe,it,At,Ft){return W("encv",(0,Z.zo)(6,(0,Z.XT)(1),16,(0,Z.XT)(ye),(0,Z.XT)(Te),(0,Z.XT)(xe),2,(0,Z.XT)(Oe),6,[0,1,Xe.length],(0,ee.tG)(Xe),31-Xe.length,(0,Z.XT)(it),[255,255],At,Ft))}function Hn(ye,Te,xe,Oe,Xe,it){return W("mp4a",(0,Z.zo)(6,(0,Z.XT)(ye),8,(0,Z.XT)(Te),(0,Z.XT)(xe),2,(0,Z.XT)(Oe),(0,Z.XT)(Xe),2,it))}function Fr(ye,Te,xe,Oe,Xe,it,At){return W("enca",(0,Z.zo)(6,(0,Z.XT)(ye),8,(0,Z.XT)(Te),(0,Z.XT)(xe),2,(0,Z.XT)(Oe),(0,Z.XT)(Xe),2,it,At))}function zr(ye){return W("dref",(0,Z.zo)(7,[1],ye))}function Oi(ye,Te){var xe=Z.zo.apply(void 0,[(0,ee.tG)(ye),[0,0,0,1]].concat(Te.map(ee.tG)));return W("ftyp",xe)}function Ei(ye,Te){return W("schm",(0,Z.zo)(4,(0,ee.tG)(ye),(0,Z.kh)(Te)))}function Vi(ye){return W("tfdt",(0,Z.zo)([1,0,0,0],(0,Z.el)(ye)))}function Di(){var ye=new Uint8Array(12);return ye[3]=1,W("vmhd",ye)}function xi(ye){return W("trex",(0,Z.zo)(4,(0,Z.kh)(ye),[0,0,0,1],12))}function Yr(ye){return W("free",new Uint8Array(ye-8))}function kr(ye,Te){return W("esds",(0,Z.zo)(4,[3,25],(0,Z.XT)(ye),[0,4,17,64,21],11,[5,2],(0,ee.nr)(Te),[6,1,2]))}function Kr(ye){return W("frma",(0,ee.tG)(ye))}function Pr(ye,Te,xe){var Oe=xe===2?1:xe===4?3:0,Xe=ye[1],it=ye[2],At=ye[3];return W("avcC",(0,Z.zo)([1,Xe,it,At,252|Oe,225],(0,Z.XT)(ye.length),ye,[1],(0,Z.XT)(Te.length),Te))}function Hi(ye){var Te,xe;switch(ye){case"video":Te="vide",xe="VideoHandler";break;case"audio":Te="soun",xe="SoundHandler";break;default:Te="hint",xe="";break}return W("hdlr",(0,Z.zo)(8,(0,ee.tG)(Te),12,(0,ee.tG)(xe),1))}function Gi(ye){return W("mdhd",(0,Z.zo)(12,(0,Z.kh)(ye),8))}function $i(ye,Te){return W("mvhd",(0,Z.zo)(12,(0,Z.kh)(ye),4,[0,1],2,[1,0],10,[0,1],14,[0,1],14,[64,0,0,0],26,(0,Z.XT)(Te+1)))}function ji(ye,Te,xe,Oe){return W("saio",(0,Z.zo)(4,[0,0,0,1],(0,Z.kh)(ye.length+Te.length+xe.length+Oe.length+8+8+8+8)))}function na(ye){if(ye.length===0)return W("saiz",new Uint8Array(0));var Te=(0,Z.pX)(ye,0),xe=(0,Z.pX)(ye,4),Oe=new Uint8Array(xe+9);Oe.set((0,Z.kh)(xe),5);for(var Xe=9,it=8,At,Ft;it<ye.length;)it+=8,(Te&2)===2?(Ft=2,At=(0,Z.zK)(ye,it),it+=At*6+2):(At=0,Ft=0),Oe[Xe]=At*6+8+Ft,Xe++;return W("saiz",Oe)}function li(){return W("smhd",new Uint8Array(8))}function Ti(ye){var Te=[7,[ye.length]];return W("stsd",Z.zo.apply(void 0,Te.concat(ye)))}function Me(ye,Te,xe){return W("tkhd",(0,Z.zo)((0,Z.kh)(7),8,(0,Z.kh)(xe),20,[1,0,0,0],[0,1,0,0],12,[0,1,0,0],12,[64,0,0,0],(0,Z.XT)(ye),2,(0,Z.XT)(Te),2))}function Fe(ye,Te,xe){return W("tenc",(0,Z.zo)(6,[ye,Te],xe))}function Qe(ye,Te,xe,Oe,Xe){var it=[ye,Te,xe];return Xe!==void 0&&it.push(W("senc",Xe),na(Xe),ji(Oe,ye,Te,xe)),Y("traf",it)}function Ye(ye,Te){var xe=(0,Ue.Qy)(ye,1836019558);if(xe===null)throw new Error("Smooth: Invalid ISOBMFF given");var Oe=ye.subarray(xe[1],xe[2]),Xe=(0,Ue.iz)(Oe,1835427940),it=(0,Ue.t_)(Oe,1953653094);if(it===null||Xe===null)throw new Error("Smooth: Invalid ISOBMFF given");var At=(0,Ue.Qy)(it,1952868452),Ft=(0,Ue.Qy)(it,1953658222);if(At===null||Ft===null)throw new Error("Smooth: Invalid ISOBMFF given");var Qt=it.subarray(At[0],At[2]),Gt=it.subarray(Ft[0],Ft[2]);Qt.set([0,0,0,1],At[1]-At[0]+4);var Mt=Vi(Te),Vt=ot(Gt,Ft[1]-Ft[0]),Bt=(0,Ue.nR)(it,2721664850,1520127764,2722393154,2086964724),Yt=Qe(Qt,Mt,Vt,Xe,Bt),Lt=Y("moof",[Xe,Yt]),tn=(0,Ue.Qy)(Lt,1836019558),An=(0,Ue.Qy)(Yt,1953653094),vn=(0,Ue.Qy)(Vt,1953658222);if(tn===null||An===null||vn===null)throw new Error("Smooth: Invalid moof, trun or traf generation");var In=tn[1]-tn[0]+Xe.length+(An[1]-An[0])+Qt.length+Mt.length+(vn[1]-vn[0])+8,xn=xe[2]-xe[0],K=Lt.length-xn,B=(0,Ue.Qy)(ye,1835295092);if(B===null)throw new Error("Smooth: Invalid ISOBMFF given");if(Fn()&&(K===0||K<=-8)){var V=B[1];return Lt.set((0,Z.kh)(V),In),ye.set(Lt,xe[0]),K<=-8&&ye.set(Yr(-K),Lt.length),ye}else{var F=B[1]+K;Lt.set((0,Z.kh)(F),In);var se=new Uint8Array(ye.length+K),ne=ye.subarray(0,xe[0]),Se=ye.subarray(xe[2],ye.length);return se.set(ne,0),se.set(Lt,ne.length),se.set(Se,ne.length+Lt.length),se}}function ot(ye,Te){var xe=(ye[Te+3]&1)>0;if(xe)return ye;var Oe=new Uint8Array(ye.length+4);return Oe.set(ye.subarray(0,Te+8),0),Oe[Te+3]=Oe[Te+3]|1,Oe.set([0,0,0,0],Te+8),Oe.set(ye.subarray(Te+8,ye.length),Te+12),(0,Dt.J6)(Oe)}var Ht=r(7839),Rt=r(281);function ct(ye,Te,xe){var Oe=[ye,Te,xe];return Y("moov",Oe)}function wt(ye,Te,xe,Oe,Xe,it){var At=Y("stbl",[xe,W("stts",new Uint8Array(8)),W("stsc",new Uint8Array(8)),W("stsz",new Uint8Array(12)),W("stco",new Uint8Array(8))]),Ft=W("url ",new Uint8Array([0,0,0,1])),Qt=zr(Ft),Gt=Y("dinf",[Qt]),Mt=Y("minf",[Oe,Gt,At]),Vt=Hi(Te),Bt=Gi(ye),Yt=Y("mdia",[Bt,Vt,Mt]),Lt=Me(Xe,it,1),tn=Y("trak",[Lt,Yt]),An=xi(1),vn=Y("mvex",[An]),In=$i(ye,1),xn=ct(In,vn,tn),K=Oi("isom",["isom","iso2","iso6","avc1","dash"]);return(0,Z.zo)(K,xn)}function on(ye,Te,xe,Oe,Xe,it,At,Ft){var Qt=At.split("00000001"),Gt=Qt[1],Mt=Qt[2];if(Gt===void 0||Mt===void 0)throw new Error("Smooth: unsupported codec private data.");var Vt=(0,ee.nr)(Gt),Bt=(0,ee.nr)(Mt),Yt=Pr(Vt,Bt,it),Lt;if(Ft===void 0){var tn=gr(Te,xe,Oe,Xe,"AVC Coding",24,Yt);Lt=Ti([tn])}else{var An=Fe(1,8,Ft),vn=Y("schi",[An]),In=Ei("cenc",65536),xn=Kr("avc1"),K=Y("sinf",[xn,In,vn]),B=Ur(Te,xe,Oe,Xe,"AVC Coding",24,Yt,K);Lt=Ti([B])}return wt(ye,"video",Lt,Di(),Te,xe)}var Wt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];function fn(ye,Te,xe){var Oe=Wt.indexOf(Te),Xe;return Xe=(ye&63)<<4,Xe=(Xe|Oe&31)<<4,Xe=(Xe|xe&31)<<3,(0,ee.ci)((0,Z.XT)(Xe))}function Jt(ye,Te,xe,Oe,Xe,it,At){var Ft=it.length===0?fn(2,Xe,Te):it,Qt=kr(1,Ft),Gt=function(){if(At===void 0){var Mt=Hn(1,Te,xe,Oe,Xe,Qt);return Ti([Mt])}var Vt=Fe(1,8,At),Bt=Y("schi",[Vt]),Yt=Ei("cenc",65536),Lt=Kr("mp4a"),tn=Y("sinf",[Lt,Yt,Bt]),An=Fr(1,Te,xe,Oe,Xe,Qt,tn);return Ti([An])}();return wt(ye,"audio",Gt,li(),0,0)}var Zt=/(\.isml?)(\?token=\S+)?$/,pn=/\?token=(\S+)/;function On(ye){return ye.getElementsByTagName("media")[0].getAttribute("src")}function Sn(ye){var Te=pn.exec(ye);if(Te!==null){var xe=Te[1];if(xe!==void 0)return xe}return""}function Mn(ye,Te){return(0,Q.Z)(Te)?ye.replace(pn,"?token="+Te):ye.replace(pn,"")}function Gn(ye){return Zt.test(ye)?((0,St.Z)("Giving a isml URL to loadVideo is deprecated. Please give the Manifest URL directly"),ye.replace(Zt,"$1/manifest$2")):ye}function dr(ye){return typeof ye.mimeType=="string"&&ye.mimeType.indexOf("mp4")>=0}function Ln(ye,Te){return ye===null?null:Te.url===null?ye.baseUrl:(0,j.Z)(ye.baseUrl,Te.url)}function Nn(ye,Te,xe,Oe,Xe,it){var At,Ft=Te.segment.range;return Array.isArray(Ft)&&(At={Range:(0,Rt.Z)(Ft)}),(0,ht.ZP)({url:ye,responseType:"arraybuffer",headers:At,timeout:Oe.timeout,cancelSignal:Xe,onProgress:xe.onProgress}).then(function(Qt){var Gt=dr(Te.representation);if(!Gt||it!==!0)return{resultType:"segment-loaded",resultData:Qt};var Mt=new Uint8Array(Qt.responseData);return(0,tt.Z)(Mt,Te.segment.isInit),{resultType:"segment-loaded",resultData:Object.assign(Object.assign({},Qt),{responseData:Mt})}})}var $n=function(Te){var xe=Te.checkMediaSegmentIntegrity,Oe=Te.customSegmentLoader;return function(Xe,it,At,Ft,Qt){var Gt=it.segment,Mt=it.manifest,Vt=it.period,Bt=it.adaptation,Yt=it.representation;if(Gt.isInit){if(Gt.privateInfos===void 0||Gt.privateInfos.smoothInitSegment===void 0)throw new Error("Smooth: Invalid segment format");var Lt=Gt.privateInfos.smoothInitSegment,tn,An=Lt.codecPrivateData,vn=Lt.timescale,In=Lt.protection,xn=In===void 0?{keyId:void 0,keySystems:void 0}:In;if(An===void 0)throw new Error("Smooth: no codec private data.");switch(Bt.type){case"video":{var K=Yt.width,B=K===void 0?0:K,V=Yt.height,F=V===void 0?0:V;tn=on(vn,B,F,72,72,4,An,xn.keyId);break}case"audio":{var se=Lt.channels,ne=se===void 0?0:se,Se=Lt.bitsPerSample,Re=Se===void 0?0:Se,Ce=Lt.packetSize,We=Ce===void 0?0:Ce,Je=Lt.samplingRate,at=Je===void 0?0:Je;tn=Jt(vn,ne,Re,We,at,An,xn.keyId);break}default:tn=new Uint8Array(0)}return Promise.resolve({resultType:"segment-created",resultData:tn})}else{if(Xe===null)return Promise.resolve({resultType:"segment-created",resultData:null});var Le={adaptation:Bt,manifest:Mt,period:Vt,representation:Yt,segment:Gt,transport:"smooth",timeout:At.timeout,url:Xe};return typeof Oe!="function"?Nn(Xe,it,Qt,At,Ft,xe):new Promise(function(ut,yt){var lt=!1,_t=function(dn){if(!(lt||Ft.isCancelled)){lt=!0,Ft.deregister(cn);var Cn=dr(it.representation);(!Cn||xe!==!0)&&ut({resultType:"segment-loaded",resultData:{responseData:dn.data,size:dn.size,requestDuration:dn.duration}});var wn=dn.data instanceof Uint8Array?dn.data:new Uint8Array(dn.data);(0,tt.Z)(wn,it.segment.isInit),ut({resultType:"segment-loaded",resultData:{responseData:wn,size:dn.size,requestDuration:dn.duration}})}},Et=function(dn){var Cn,wn,gn;if(!(lt||Ft.isCancelled)){lt=!0,Ft.deregister(cn);var En=dn,Kn=(Cn=En==null?void 0:En.message)!==null&&Cn!==void 0?Cn:"Unknown error when fetching a Smooth segment through a custom segmentLoader.",J=new Ht.Z(Kn,(wn=En==null?void 0:En.canRetry)!==null&&wn!==void 0?wn:!1,(gn=En==null?void 0:En.isOfflineError)!==null&&gn!==void 0?gn:!1,En==null?void 0:En.xhr);yt(J)}},Pt=function(dn){lt||Ft.isCancelled||Qt.onProgress({duration:dn.duration,size:dn.size,totalSize:dn.totalSize})},qt=function(){lt||Ft.isCancelled||(lt=!0,Ft.deregister(cn),Nn(Xe,it,Qt,At,Ft,xe).then(ut,yt))},an={reject:Et,resolve:_t,fallback:qt,progress:Pt},un=Oe(Le,an);Ft.register(cn);function cn(ln){lt||(lt=!0,!lt&&typeof un=="function"&&un(),yt(ln))}})}}},Yn=$n,qn=/\.wsx?(\?token=\S+)?/;function sr(ye,Te,xe){var Oe;b.Z.debug("Smooth Parser: update segments information.");for(var Xe=ye.representations,it=0;it<Xe.length;it++){var At=Xe[it];At.index instanceof z&&((Oe=xe==null?void 0:xe.privateInfos)===null||Oe===void 0?void 0:Oe.smoothMediaSegment)!==void 0?At.index.addNewSegments(Te,xe.privateInfos.smoothMediaSegment):b.Z.warn("Smooth Parser: should only encounter SmoothRepresentationIndex")}}function or(ye){var Te=mt(ye),xe=Yn(ye),Oe={customManifestLoader:ye.manifestLoader},Xe=(0,dt.Z)(Oe,"text"),it={resolveManifestUrl:function(Mt,Vt){if(Mt===void 0)return Promise.resolve(void 0);var Bt;qn.test(Mt)?((0,St.Z)("Giving WSX URL to loadVideo is deprecated. You should only give Manifest URLs."),Bt=(0,ht.ZP)({url:Mn(Mt,""),responseType:"document",cancelSignal:Vt}).then(function(Lt){var tn=On(Lt.responseData);if(tn===null||tn.length===0)throw new Error("Invalid ISML");return tn})):Bt=Promise.resolve(Mt);var Yt=Sn(Mt);return Bt.then(function(Lt){return Mn(Gn(Lt),Yt)})},loadManifest:Xe,parseManifest:function(Mt,Vt){var Bt,Yt=(Bt=Mt.url)!==null&&Bt!==void 0?Bt:Vt.originalUrl,Lt=Mt.receivedTime,tn=Mt.responseData,An=typeof tn=="string"?new DOMParser().parseFromString(tn,"text/xml"):tn,vn=Te(An,Yt,Lt),In=new y.ZP(vn,{representationFilter:ye.representationFilter,supplementaryImageTracks:ye.supplementaryImageTracks,supplementaryTextTracks:ye.supplementaryTextTracks});return{manifest:In,url:Yt}}},At={loadSegment:function(Mt,Vt,Bt,Yt,Lt){var tn=Ln(Mt,Vt.segment);return xe(tn,Vt,Bt,Yt,Lt)},parseSegment:function(Mt,Vt,Bt){var Yt,Lt,tn=Vt.segment,An=Vt.adaptation,vn=Vt.manifest,In=Mt.data,xn=Mt.isChunked;if(In===null)return tn.isInit?{segmentType:"init",initializationData:null,initializationDataSize:0,protectionDataUpdate:!1,initTimescale:void 0}:{segmentType:"media",chunkData:null,chunkInfos:null,chunkOffset:0,chunkSize:0,protectionDataUpdate:!1,appendWindow:[void 0,void 0]};var K=In instanceof Uint8Array?In:new Uint8Array(In);if(tn.isInit){var B=(Lt=(Yt=tn.privateInfos)===null||Yt===void 0?void 0:Yt.smoothInitSegment)===null||Lt===void 0?void 0:Lt.timescale;return{segmentType:"init",initializationData:In,initializationDataSize:In.byteLength,initTimescale:B,protectionDataUpdate:!1}}var V=Bt!==void 0?Xt(K,xn,Bt,tn,vn.isLive):null;if(V===null||V.chunkInfos===null||V.scaledSegmentTime===void 0)throw new Error("Smooth Segment without time information");var F=V.nextSegments,se=V.chunkInfos,ne=V.scaledSegmentTime,Se=Ye(K,ne);return F.length>0&&sr(An,F,tn),{segmentType:"media",chunkData:Se,chunkInfos:se,chunkOffset:0,chunkSize:Se.length,protectionDataUpdate:!1,appendWindow:[void 0,void 0]}}},Ft={loadSegment:function(Mt,Vt,Bt,Yt,Lt){var tn=Vt.segment,An=Vt.representation,vn=Ln(Mt,tn);if(tn.isInit||vn===null)return Promise.resolve({resultType:"segment-created",resultData:null});var In=dr(An);return In?(0,ht.ZP)({url:vn,responseType:"arraybuffer",timeout:Bt.timeout,cancelSignal:Yt,onProgress:Lt.onProgress}).then(function(xn){if(ye.checkMediaSegmentIntegrity!==!0)return{resultType:"segment-loaded",resultData:xn};var K=new Uint8Array(xn.responseData);return(0,tt.Z)(K,Vt.segment.isInit),{resultType:"segment-loaded",resultData:Object.assign(Object.assign({},xn),{responseData:K})}}):(0,ht.ZP)({url:vn,responseType:"text",timeout:Bt.timeout,cancelSignal:Yt,onProgress:Lt.onProgress}).then(function(xn){return{resultType:"segment-loaded",resultData:xn}})},parseSegment:function(Mt,Vt,Bt){var Yt,Lt=Vt.manifest,tn=Vt.adaptation,An=Vt.representation,vn=Vt.segment,In=tn.language,xn=dr(An),K=An.mimeType,B=K===void 0?"":K,V=An.codec,F=V===void 0?"":V,se=Mt.data,ne=Mt.isChunked,Se;if(vn.isInit)return{segmentType:"init",initializationData:null,initializationDataSize:0,protectionDataUpdate:!1,initTimescale:void 0};if(se===null)return{segmentType:"media",chunkData:null,chunkInfos:null,chunkOffset:0,chunkSize:0,protectionDataUpdate:!1,appendWindow:[void 0,void 0]};var Re,Ce=null,We,Je,at,Le;if(xn){var ut;typeof se=="string"?ut=(0,ee.tG)(se):ut=se instanceof Uint8Array?se:new Uint8Array(se),Se=ut.length;var yt=Bt!==void 0?Xt(ut,ne,Bt,vn,Lt.isLive):null;Re=yt==null?void 0:yt.nextSegments,Ce=(Yt=yt==null?void 0:yt.chunkInfos)!==null&&Yt!==void 0?Yt:null,Ce===null?ne?b.Z.warn("Smooth: Unavailable time data for current text track."):(We=vn.time,Je=vn.end):(We=Ce.time,Je=Ce.duration!==void 0?Ce.time+Ce.duration:vn.end);var lt=F.toLowerCase();if(B==="application/ttml+xml+mp4"||lt==="stpp"||lt==="stpp.ttml.im1t")Le="ttml";else if(lt==="wvtt")Le="vtt";else throw new Error("could not find a text-track parser for the type "+B);var _t=(0,A.Le)(ut);at=_t===null?"":(0,ee.uR)(_t)}else{We=vn.time,Je=vn.end;var Et;if(typeof se!="string"){var Pt=se instanceof Uint8Array?se:new Uint8Array(se);Se=Pt.length,Et=(0,ee.uR)(Pt)}else Et=se;switch(B){case"application/x-sami":case"application/smil":Le="sami";break;case"application/ttml+xml":Le="ttml";break;case"text/vtt":Le="vtt";break}if(Le===void 0){var qt=F.toLowerCase();if(qt==="srt")Le="srt";else throw new Error("could not find a text-track parser for the type "+B)}at=Et}Ce!==null&&Array.isArray(Re)&&Re.length>0&&sr(tn,Re,vn);var an=We??0;return{segmentType:"media",chunkData:{type:Le,data:at,start:We,end:Je,language:In},chunkSize:Se,chunkInfos:Ce,chunkOffset:an,protectionDataUpdate:!1,appendWindow:[void 0,void 0]}}},Qt={loadSegment:function(Mt,Vt,Bt,Yt,Lt){return(0,p.Z)(S().mark(function tn(){var An,vn,In;return S().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(An=Vt.segment,vn=Ln(Mt,An),!(An.isInit||vn===null)){K.next=4;break}return K.abrupt("return",{resultType:"segment-created",resultData:null});case 4:return K.next=6,(0,ht.ZP)({url:vn,responseType:"arraybuffer",timeout:Bt.timeout,onProgress:Lt.onProgress,cancelSignal:Yt});case 6:return In=K.sent,K.abrupt("return",{resultType:"segment-loaded",resultData:In});case 8:case"end":return K.stop()}},tn)}))()},parseSegment:function(Mt,Vt,Bt){var Yt=Mt.data,Lt=Mt.isChunked;if(Vt.segment.isInit)return{segmentType:"init",initializationData:null,initializationDataSize:0,protectionDataUpdate:!1,initTimescale:void 0};if(Lt)throw new Error("Image data should not be downloaded in chunks");if(Yt===null||h.Z.imageParser===null)return{segmentType:"media",chunkData:null,chunkInfos:null,chunkOffset:0,chunkSize:0,protectionDataUpdate:!1,appendWindow:[void 0,void 0]};var tn=h.Z.imageParser(new Uint8Array(Yt)),An=tn.thumbs;return{segmentType:"media",chunkData:{data:An,start:0,end:Number.MAX_VALUE,timescale:1,type:"bif"},chunkInfos:{time:0,duration:Number.MAX_VALUE},chunkSize:void 0,chunkOffset:0,protectionDataUpdate:!1,appendWindow:[void 0,void 0]}}};return{manifest:it,audio:At,video:At,text:Ft,image:Qt}}var Zn=or},281:function(E,_,r){r.d(_,{Z:function(){return p}});function p(g){var S=g[0],h=g[1];return h===1/0?"bytes="+S+"-":"bytes="+S+"-"+h}},4460:function(E,_,r){r.d(_,{Z:function(){return S}});var p=r(5389),g=r(8766);function S(h,b){if(b){var y=(0,g.Z)(h,1718909296);if(y<0)throw new p.Z("INTEGRITY_ERROR","Incomplete `ftyp` box");var A=(0,g.Z)(h,1836019574);if(A<0)throw new p.Z("INTEGRITY_ERROR","Incomplete `moov` box")}else{var k=(0,g.Z)(h,1836019558);if(k<0)throw new p.Z("INTEGRITY_ERROR","Incomplete `moof` box");var c=(0,g.Z)(h,1835295092);if(c<0)throw new p.Z("INTEGRITY_ERROR","Incomplete `mdat` box")}}},8766:function(E,_,r){r.d(_,{Z:function(){return g}});var p=r(6968);function g(S,h){for(var b=S.length,y=0;y+8<=b;){var A=(0,p.pX)(S,y);if(A===0)A=b-y;else if(A===1){if(y+16>b)return-1;A=(0,p.pV)(S,y+8)}if(isNaN(A)||A<=0)return-1;var k=(0,p.pX)(S,y+4);if(k===h)return y+A<=b?y:-1;y+=A}return-1}},8791:function(E,_,r){r.d(_,{Z:function(){return y}});var p=r(7904),g=r(4597),S=r(7839);function h(A,k){return function(c,f,l){return new Promise(function(I,M){var C=Date.now()-performance.now(),O=!1,P=function(Z){if(!(O||l.isCancelled)){O=!0,l.deregister(L);var Q=Z.receivingTime!==void 0?Z.receivingTime-C:void 0,re=Z.sendingTime!==void 0?Z.sendingTime-C:void 0;I({responseData:Z.data,size:Z.size,requestDuration:Z.duration,url:Z.url,receivedTime:Q,sendingTime:re})}},$=function(Z){var Q,re,j;if(!(O||l.isCancelled)){O=!0,l.deregister(L);var ee=Z,ue=(Q=ee==null?void 0:ee.message)!==null&&Q!==void 0?Q:"Unknown error when fetching the Manifest through a custom manifestLoader.",ae=new S.Z(ue,(re=ee==null?void 0:ee.canRetry)!==null&&re!==void 0?re:!1,(j=ee==null?void 0:ee.isOfflineError)!==null&&j!==void 0?j:!1,ee==null?void 0:ee.xhr);M(ae)}},w=function(){O||l.isCancelled||(O=!0,l.deregister(L),k(c,f,l).then(I,M))},U={reject:$,resolve:P,fallback:w},z=A(c,U,{timeout:f.timeout});l.register(L);function L(x){O||(O=!0,typeof z=="function"&&z(),M(x))}})}}function b(A){return function(c,f,l){if(c===void 0)throw new Error("Cannot perform HTTP(s) request. URL not known");switch(A){case"arraybuffer":return(0,g.ZP)({url:c,responseType:"arraybuffer",timeout:f.timeout,cancelSignal:l});case"text":return(0,g.ZP)({url:c,responseType:"text",timeout:f.timeout,cancelSignal:l});case"document":return(0,g.ZP)({url:c,responseType:"document",timeout:f.timeout,cancelSignal:l});default:(0,p.Z)(A)}}}function y(A,k){var c=A.customManifestLoader,f=b(k);return typeof c!="function"?f:h(c,f)}},4791:function(E,_,r){r.d(_,{Z:function(){return p}});function p(g,S){if(g.length!==S.length)return!1;for(var h=g.length-1;h>=0;h--)if(g[h]!==S[h])return!1;return!0}},3274:function(E,_,r){r.d(_,{Z:function(){return p}});function p(g,S,h){if(typeof Array.prototype.find=="function")return g.find(S,h);for(var b=g.length>>>0,y=0;y<b;y++){var A=g[y];if(S.call(h,A,y,g))return A}}},5138:function(E,_,r){r.d(_,{Z:function(){return p}});function p(g,S,h){if(typeof Array.prototype.findIndex=="function")return g.findIndex(S,h);for(var b=g.length>>>0,y=0;y<b;y++)if(S.call(h,g[y],y,g))return y;return-1}},7714:function(E,_,r){r.d(_,{Z:function(){return p}});function p(g,S,h){if(typeof Array.prototype.includes=="function")return g.includes(S,h);var b=g.length>>>0;if(b===0)return!1;for(var y=h|0,A=y>=0?Math.min(y,b-1):Math.max(b+y,0),k=function(f,l){return f===l||typeof f=="number"&&typeof l=="number"&&isNaN(f)&&isNaN(l)};A<b;){if(k(g[A],S))return!0;A++}return!1}},811:function(E,_,r){r.d(_,{Z:function(){return g},u:function(){return S}});var p=r(1946);function g(h,b){}function S(h,b,y){y===void 0&&(y="object"),(0,p.Z)(h);for(var A in b)b.hasOwnProperty(A)&&(h[A],b[A],y+""+A+b[A],void 0)}},7904:function(E,_,r){r.d(_,{Z:function(){return b}});var p=r(7326),g=r(4578),S=r(2146),h=function(y){(0,g.Z)(A,y);function A(k){var c;return c=y.call(this)||this,Object.setPrototypeOf((0,p.Z)(c),A.prototype),c.name="AssertionError",c.message=k,c}return A}((0,S.Z)(Error));function b(y){throw new h("Unreachable path taken")}},9689:function(E,_,r){r.d(_,{J:function(){return b},K:function(){return y}});var p=r(3887),g=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],S=[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];function h(A){if(A>=S.length)throw new Error("Unable to parse base64 string.");var k=S[A];if(k===255)throw new Error("Unable to parse base64 string.");return k}function b(A){var k="",c,f=A.length;for(c=2;c<f;c+=3)k+=g[A[c-2]>>2],k+=g[(A[c-2]&3)<<4|A[c-1]>>4],k+=g[(A[c-1]&15)<<2|A[c]>>6],k+=g[A[c]&63];return c===f+1&&(k+=g[A[c-2]>>2],k+=g[(A[c-2]&3)<<4],k+="=="),c===f&&(k+=g[A[c-2]>>2],k+=g[(A[c-2]&3)<<4|A[c-1]>>4],k+=g[(A[c-1]&15)<<2],k+="="),k}function y(A){var k=A.length%4,c=A;k!==0&&(p.Z.warn("base64ToBytes: base64 given miss padding"),c+=k===3?"=":k===2?"==":"===");var f=c.indexOf("=");if(f!==-1&&f<c.length-2)throw new Error("Unable to parse base64 string.");for(var l=c.endsWith("==")?2:c.endsWith("=")?1:0,I=c.length,M=new Uint8Array(I/4*3),C,O=0,P=0;O<I;O+=4,P+=3)C=h(c.charCodeAt(O))<<18|h(c.charCodeAt(O+1))<<12|h(c.charCodeAt(O+2))<<6|h(c.charCodeAt(O+3)),M[P]=C>>16,M[P+1]=C>>8&255,M[P+2]=C&255;return M.subarray(0,M.length-l)}},6968:function(E,_,r){r.d(_,{O_:function(){return l},QI:function(){return S},XT:function(){return y},_f:function(){return I},dN:function(){return f},el:function(){return k},kh:function(){return A},pV:function(){return b},pX:function(){return h},qb:function(){return c},zK:function(){return g},zo:function(){return p}});function p(){for(var M=arguments.length,C=-1,O=0,P;++C<M;)P=C<0||arguments.length<=C?void 0:arguments[C],O+=typeof P=="number"?P:P.length;var $=new Uint8Array(O),w=0;for(C=-1;++C<M;)P=C<0||arguments.length<=C?void 0:arguments[C],typeof P=="number"?w+=P:P.length>0&&($.set(P,w),w+=P.length);return $}function g(M,C){return(M[C+0]<<8)+(M[C+1]<<0)}function S(M,C){return M[C+0]*65536+M[C+1]*256+M[C+2]}function h(M,C){return M[C+0]*16777216+M[C+1]*65536+M[C+2]*256+M[C+3]}function b(M,C){return(M[C+0]*16777216+M[C+1]*65536+M[C+2]*256+M[C+3])*4294967296+M[C+4]*16777216+M[C+5]*65536+M[C+6]*256+M[C+7]}function y(M){return new Uint8Array([M>>>8&255,M&255])}function A(M){return new Uint8Array([M>>>24&255,M>>>16&255,M>>>8&255,M&255])}function k(M){var C=M%4294967296,O=(M-C)/4294967296;return new Uint8Array([O>>>24&255,O>>>16&255,O>>>8&255,O&255,C>>>24&255,C>>>16&255,C>>>8&255,C&255])}function c(M,C){return(M[C+0]<<0)+(M[C+1]<<8)}function f(M,C){return M[C+0]+M[C+1]*256+M[C+2]*65536+M[C+3]*16777216}function l(M){return new Uint8Array([M&255,M>>>8&255,M>>>16&255,M>>>24&255])}function I(M){return M instanceof Uint8Array?M:M instanceof ArrayBuffer?new Uint8Array(M):new Uint8Array(M.buffer)}},7864:function(E,_,r){r.d(_,{Z:function(){return p}});function p(g,S){return new Promise(function(h,b){var y=setTimeout(function(){A(),h()},g),A=S.register(function(c){clearTimeout(y),b(c)})})}},8117:function(E,_,r){var p=r(1480),g=r(3102),S=r(2817),h=r(1946);function b(y){return y instanceof p.y?y:y instanceof Promise||!(0,h.Z)(y)&&typeof y.then=="function"?(0,g.D)(y):(0,S.of)(y)}_.Z=b},8333:function(E,_,r){r.d(_,{Z:function(){return P}});var p=r(8720),g=r(5987),S=r(8337),h=1,b,y={};function A($){return $ in y?(delete y[$],!0):!1}var k={setImmediate:function($){var w=h++;return y[w]=!0,b||(b=Promise.resolve()),b.then(function(){return A(w)&&$()}),w},clearImmediate:function($){A($)}},c=k.setImmediate,f=k.clearImmediate,l={setImmediate:function(){for(var $=[],w=0;w<arguments.length;w++)$[w]=arguments[w];var U=l.delegate;return((U==null?void 0:U.setImmediate)||c).apply(void 0,(0,g.ev)([],(0,g.CR)($)))},clearImmediate:function($){return f($)},delegate:void 0},I=function($){(0,g.ZT)(w,$);function w(U,z){var L=$.call(this,U,z)||this;return L.scheduler=U,L.work=z,L}return w.prototype.requestAsyncId=function(U,z,L){return L===void 0&&(L=0),L!==null&&L>0?$.prototype.requestAsyncId.call(this,U,z,L):(U.actions.push(this),U._scheduled||(U._scheduled=l.setImmediate(U.flush.bind(U,void 0))))},w.prototype.recycleAsyncId=function(U,z,L){var x;if(L===void 0&&(L=0),L!=null?L>0:this.delay>0)return $.prototype.recycleAsyncId.call(this,U,z,L);var Z=U.actions;z!=null&&((x=Z[Z.length-1])===null||x===void 0?void 0:x.id)!==z&&(l.clearImmediate(z),U._scheduled=void 0)},w}(S.o),M=r(9682),C=function($){(0,g.ZT)(w,$);function w(){return $!==null&&$.apply(this,arguments)||this}return w.prototype.flush=function(U){this._active=!0;var z=this._scheduled;this._scheduled=void 0;var L=this.actions,x;U=U||L.shift();do if(x=U.execute(U.state,U.delay))break;while((U=L[0])&&U.id===z&&L.shift());if(this._active=!1,x){for(;(U=L[0])&&U.id===z&&L.shift();)U.unsubscribe();throw x}},w}(M.v),O=new C(I);function P(){return function($){return $.pipe((0,p.R)(O))}}},1959:function(E,_,r){r.d(_,{R:function(){return b},Z:function(){return h}});var p=r(1480),g=r(3887),S=r(1946),h=function(){function y(){this._listeners={}}var A=y.prototype;return A.addEventListener=function(c,f,l){var I=this,M=this._listeners[c];Array.isArray(M)?M.push(f):this._listeners[c]=[f],l!==void 0&&l.register(function(){I.removeEventListener(c,f)})},A.removeEventListener=function(c,f){if((0,S.Z)(c)){this._listeners={};return}var l=this._listeners[c];if(Array.isArray(l)){if((0,S.Z)(f)){delete this._listeners[c];return}var I=l.indexOf(f);I!==-1&&l.splice(I,1),l.length===0&&delete this._listeners[c]}},A.trigger=function(c,f){var l=this._listeners[c];Array.isArray(l)&&l.slice().forEach(function(I){try{I(f)}catch(M){g.Z.error("EventEmitter: listener error",M instanceof Error?M:null)}})},y}();function b(y,A){return new p.y(function(k){function c(f){k.next(f)}return y.addEventListener(A,c),function(){y.removeEventListener(A,c)}})}},2793:function(E,_,r){r.d(_,{Z:function(){return h}});var p=r(9917),g=r(9127),S=r(4975);function h(b,y){return function(A){return(0,p.P)(function(){return A.pipe((0,g.U)(b),(0,S.h)(function(k){return k!==y}))})}}},9592:function(E,_,r){r.d(_,{Z:function(){return p}});function p(g,S){return typeof Array.prototype.flatMap=="function"?g.flatMap(S):g.reduce(function(h,b){var y=S(b);return Array.isArray(y)?(h.push.apply(h,y),h):(h.push(y),h)},[])}},2572:function(E,_,r){r.d(_,{Z:function(){return g}});var p=.3;function g(S){var h=(Math.random()*2-1)*p;return S*(h+1)}},2870:function(E,_,r){r.d(_,{Z:function(){return p}});function p(g){for(var S=0,h,b=0;b<g.length;b++)h=g[b],S=(S<<5)-S+h,S=S&S;return S}},908:function(E,_,r){r.d(_,{Z:function(){return p}});function p(){var g="",S=-1;return function(){return S++,S>=Number.MAX_SAFE_INTEGER&&(g+="0",S=0),g+String(S)}}},6923:function(E,_,r){r.d(_,{Z:function(){return p}});function p(g){return typeof g=="string"&&g.length>0}},1946:function(E,_,r){r.d(_,{Z:function(){return p}});function p(g){return g==null}},7829:function(E,_,r){var p=r(5553);_.ZP=p.ZP},5553:function(E,_,r){r.d(_,{ZP:function(){return l},iH:function(){return f},Y1:function(){return c}});var p=r(6923),g=r(1946),S={aa:"aar",ab:"abk",ae:"ave",af:"afr",ak:"aka",am:"amh",an:"arg",ar:"ara",as:"asm",av:"ava",ay:"aym",az:"aze",ba:"bak",be:"bel",bg:"bul",bi:"bis",bm:"bam",bn:"ben",bo:"bod",br:"bre",bs:"bos",ca:"cat",ce:"che",ch:"cha",co:"cos",cr:"cre",cs:"ces",cu:"chu",cv:"chv",cy:"cym",da:"dan",de:"deu",dv:"div",dz:"dzo",ee:"ewe",el:"ell",en:"eng",eo:"epo",es:"spa",et:"est",eu:"eus",fa:"fas",ff:"ful",fi:"fin",fj:"fij",fo:"fao",fr:"fra",fy:"fry",ga:"gle",gd:"gla",gl:"glg",gn:"grn",gu:"guj",gv:"glv",ha:"hau",he:"heb",hi:"hin",ho:"hmo",hr:"hrv",ht:"hat",hu:"hun",hy:"hye",hz:"her",ia:"ina",id:"ind",ie:"ile",ig:"ibo",ii:"iii",ik:"ipk",io:"ido",is:"isl",it:"ita",iu:"iku",ja:"jpn",jv:"jav",ka:"kat",kg:"kon",ki:"kik",kj:"kua",kk:"kaz",kl:"kal",km:"khm",kn:"kan",ko:"kor",kr:"kau",ks:"kas",ku:"kur",kv:"kom",kw:"cor",ky:"kir",la:"lat",lb:"ltz",lg:"lug",li:"lim",ln:"lin",lo:"lao",lt:"lit",lu:"lub",lv:"lav",mg:"mlg",mh:"mah",mi:"mri",mk:"mkd",ml:"mal",mn:"mon",mr:"mar",ms:"msa",mt:"mlt",my:"mya",na:"nau",nb:"nob",nd:"nde",ne:"nep",ng:"ndo",nl:"nld",nn:"nno",no:"nor",nr:"nbl",nv:"nav",ny:"nya",oc:"oci",oj:"oji",om:"orm",or:"ori",os:"oss",pa:"pan",pi:"pli",pl:"pol",ps:"pus",pt:"por",qu:"que",rm:"roh",rn:"run",ro:"ron",ru:"rus",rw:"kin",sa:"san",sc:"srd",sd:"snd",se:"sme",sg:"sag",si:"sin",sk:"slk",sl:"slv",sm:"smo",sn:"sna",so:"som",sq:"sqi",sr:"srp",ss:"ssw",st:"sot",su:"sun",sv:"swe",sw:"swa",ta:"tam",te:"tel",tg:"tgk",th:"tha",ti:"tir",tk:"tuk",tl:"tgl",tn:"tsn",to:"ton",tr:"tur",ts:"tso",tt:"tat",tw:"twi",ty:"tah",ug:"uig",uk:"ukr",ur:"urd",uz:"uzb",ve:"ven",vi:"vie",vo:"vol",wa:"wln",wo:"wol",xh:"xho",yi:"yid",yo:"yor",za:"zha",zh:"zho",zu:"zul"},h=S,b={alb:"sqi",arm:"hye",baq:"eus",bur:"mya",chi:"zho",cze:"ces",dut:"nld",fre:"fra",geo:"kat",ger:"deu",gre:"ell",ice:"isl",mac:"mkd",mao:"mri",may:"msa",per:"fas",slo:"slk",rum:"ron",tib:"bod",wel:"cym"},y=b;function A(I){if((0,g.Z)(I)||I==="")return"";var M=(""+I).toLowerCase().split("-"),C=M[0],O=k(C);return(0,p.Z)(O)?O:I}function k(I){var M;switch(I.length){case 2:M=h[I];break;case 3:M=y[I];break}return M}function c(I){if(!(0,g.Z)(I)){var M,C=!1;return typeof I=="string"?M=I:(M=I.language,I.closedCaption===!0&&(C=!0)),{language:M,closedCaption:C,normalized:A(M)}}return I}function f(I){if((0,g.Z)(I))return I;if(typeof I=="string")return{language:I,audioDescription:!1,normalized:A(I)};var M={language:I.language,audioDescription:I.audioDescription===!0,normalized:A(A(I.language))};return I.isDub===!0&&(M.isDub=!0),M}var l=A},8894:function(E,_,r){r.d(_,{Z:function(){return p}});function p(){}},8026:function(E,_){function r(p){if(p==null)throw new TypeError("Cannot convert undefined or null to object");for(var g=Object(p),S=0;S<(arguments.length<=1?0:arguments.length-1);S++){var h=S+1<1||arguments.length<=S+1?void 0:arguments[S+1];for(var b in h)Object.prototype.hasOwnProperty.call(h,b)&&(g[b]=h[b])}return g}_.Z=typeof Object.assign=="function"?Object.assign:r},1679:function(E,_,r){function p(g){return Object.keys(g).map(function(S){return g[S]})}_.Z=typeof Object.values=="function"?Object.values:p},2829:function(E,_,r){r.d(_,{A1:function(){return A},DD:function(){return P},F_:function(){return C},JN:function(){return l},L7:function(){return $},Ti:function(){return k},XS:function(){return M},at:function(){return O},kR:function(){return w},rx:function(){return I},tn:function(){return z},uH:function(){return L}});var p=1/60;function g(x,Z){return Math.abs(x-Z)<p}function S(x,Z){var Q=Math.min(x.start,Z.start),re=Math.max(x.end,Z.end);return{start:Q,end:re}}function h(x){for(var Z=0;Z<x.length;Z++){var Q=x[Z];Q.start===Q.end&&x.splice(Z--,1)}return x}function b(x){for(var Z=1;Z<x.length;Z++){var Q=x[Z-1],re=x[Z];if(f(Q,re)){var j=S(Q,re);x.splice(--Z,2,j)}}return x}function y(x,Z){return x.end<=Z.start}function A(x,Z){for(var Q=0;Q<x.length;Q++)if(k(x[Q],Z))return!0;return!1}function k(x,Z){var Q=x.start,re=x.end;return Q<=Z&&Z<re}function c(x,Z){return k(x,Z.start)||x.start<Z.end&&Z.end<x.end||k(Z,x.start)}function f(x,Z){return g(Z.start,x.end)||g(Z.end,x.start)}function l(x){for(var Z=[],Q=0;Q<x.length;Q++)Z.push({start:x.start(Q),end:x.end(Q)});return Z}function I(x,Z){for(var Q=x.length-1;Q>=0;Q--){var re=x.start(Q);if(Z>=re){var j=x.end(Q);if(Z<j)return{start:re,end:j}}}return null}function M(x,Z){for(var Q=x.length,re=0;re<Q;re++){var j=x.start(re);if(Z<j)return j-Z}return 1/0}function C(x,Z){for(var Q=null,re=[],j=0;j<x.length;j++){var ee=x.start(j),ue=x.end(j);Z<ee||Z>=ue?re.push({start:ee,end:ue}):Q={start:ee,end:ue}}return{outerRanges:re,innerRange:Q}}function O(x,Z){var Q=I(x,Z);return Q!==null?Q.end-Q.start:0}function P(x,Z){var Q=I(x,Z);return Q!==null?Z-Q.start:0}function $(x,Z){var Q=I(x,Z);return Q!==null?Q.end-Z:1/0}function w(x,Z){if(Z.start===Z.end)return x;for(var Q=Z,re=0;re<x.length;re++){var j=x[re],ee=c(Q,j),ue=f(Q,j);if(ee||ue)Q=S(Q,j),x.splice(re--,1);else if(re===0){if(y(Q,x[0]))break}else if(y(x[re-1],Q)&&y(Q,j))break}return x.splice(re,0,Q),b(h(x))}function U(x,Z){for(var Q=[],re=0;re<Z.length;re++)c(x,Z[re])&&Q.push(Z[re]);return Q}function z(x,Z){for(var Q=[],re=0;re<x.length;re++){var j=x[re],ee=U(j,Z);if(ee.length>0)for(var ue=0;ue<ee.length;ue++){var ae=ee[ue];Q.push({start:Math.max(j.start,ae.start),end:Math.min(j.end,ae.end)})}}return Q}function L(x,Z){for(var Q=[],re=0;re<x.length;re++){var j=x[re],ee=[],ue=U(j,Z);if(ue.length>0)for(var ae=0;ae<ue.length;ae++){var D=ue[ae];ee.push({start:Math.max(j.start,D.start),end:Math.min(j.end,D.end)})}if(ee.length===0)Q.push(j);else{for(var H=j.start,W=0;W<ee.length;W++)ee[W].start>H&&Q.push({start:H,end:ee[W].start}),H=ee[W].end;H<j.end&&Q.push({start:H,end:j.end})}}return Q}},5095:function(E,_,r){r.d(_,{$l:function(){return y},ZP:function(){return y},lR:function(){return A}});var p=r(1480),g=r(288);function S(k,c){var f=typeof Symbol<"u"&&k[Symbol.iterator]||k["@@iterator"];if(f)return(f=f.call(k)).next.bind(f);if(Array.isArray(k)||(f=h(k))||c&&k&&typeof k.length=="number"){f&&(k=f);var l=0;return function(){return l>=k.length?{done:!0}:{done:!1,value:k[l++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h(k,c){if(k){if(typeof k=="string")return b(k,c);var f=Object.prototype.toString.call(k).slice(8,-1);if(f==="Object"&&k.constructor&&(f=k.constructor.name),f==="Map"||f==="Set")return Array.from(k);if(f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f))return b(k,c)}}function b(k,c){(c==null||c>k.length)&&(c=k.length);for(var f=0,l=new Array(c);f<c;f++)l[f]=k[f];return l}function y(k){var c=k,f=[],l=!1;return{getValue:function(){return c},setValue:function(M){if(!l&&(c=M,f.length!==0))for(var C=f.slice(),O=S(C),P;!(P=O()).done;){var $=P.value;try{$.hasBeenCleared||$.trigger(M)}catch{}}},setValueIfChanged:function(M){M!==c&&this.setValue(M)},asObservable:function(M){return new p.y(function(C){if(M!==!0&&C.next(c),l){C.complete();return}var O={trigger:C.next.bind(C),complete:C.complete.bind(C),hasBeenCleared:!1};return f.push(O),function(){O.hasBeenCleared=!0;var P=f.indexOf(O);P>=0&&f.splice(P,1)}})},onUpdate:function(M,C){if((C==null?void 0:C.emitCurrentValue)===!0&&M(c),l)return;var O={trigger:M,complete:P,hasBeenCleared:!1};if(f.push(O),(C==null?void 0:C.clearSignal)===void 0)return;C.clearSignal.register(P);function P(){O.hasBeenCleared=!0;var $=f.indexOf(O);$>=0&&f.splice($,1)}},waitUntilDefined:function(M,C){if(c!==void 0){M(c);return}if(!l){var O=new g.ZP;(C==null?void 0:C.clearSignal)!==void 0&&C.clearSignal.register(function(){return O.cancel()}),this.onUpdate(function(P){if(P!==void 0){O.cancel(),M(c);return}},{clearSignal:O.signal})}},finish:function(){l=!0;for(var M=f.slice(),C=S(M),O;!(O=C()).done;){var P=O.value;try{P.hasBeenCleared||P.complete(),P.hasBeenCleared=!0}catch{}}f.length=0}}}function A(k,c,f){var l=y(c(k.getValue()));return k.onUpdate(function(M){l.setValue(c(M))},{clearSignal:f}),f!==void 0&&f.register(function(){l.finish()}),l}},4597:function(E,_,r){r.d(_,{ZP:function(){return A}});var p=r(9105),g=r(6923),S=r(1946),h="json";function b(k){var c={url:k.url,headers:k.headers,responseType:(0,S.Z)(k.responseType)?h:k.responseType,timeout:k.timeout};return new Promise(function(f,l){var I=k.onProgress,M=k.cancelSignal,C=c.url,O=c.headers,P=c.responseType,$=c.timeout,w=new XMLHttpRequest;w.open("GET",C,!0);var U;if($!==void 0&&(w.timeout=$,U=window.setTimeout(function(){Q(),l(new p.Z(C,w.status,"TIMEOUT",w))},$+3e3)),w.responseType=P,w.responseType==="document"&&w.overrideMimeType("text/xml"),!(0,S.Z)(O)){var z=O;for(var L in z)z.hasOwnProperty(L)&&w.setRequestHeader(L,z[L])}var x=performance.now(),Z=null;if(M!==void 0&&(Z=M.register(function(j){Q(),!(0,S.Z)(w)&&w.readyState!==4&&w.abort(),l(j)}),M.isCancelled))return;w.onerror=function(){Q(),l(new p.Z(C,w.status,"ERROR_EVENT",w))},w.ontimeout=function(){Q(),l(new p.Z(C,w.status,"TIMEOUT",w))},I!==void 0&&(w.onprogress=function(j){var ee=performance.now();I({url:C,duration:ee-x,sendingTime:x,currentTime:ee,size:j.loaded,totalSize:j.total})}),w.onload=function(j){if(w.readyState===4)if(Q(),w.status>=200&&w.status<300){var ee=performance.now(),ue=w.response instanceof ArrayBuffer?w.response.byteLength:j.total,ae=w.status,D=w.responseType,H=(0,g.Z)(w.responseURL)?w.responseURL:C,W;if(D==="json"?W=typeof w.response=="object"?w.response:y(w.responseText):W=w.response,(0,S.Z)(W)){l(new p.Z(C,w.status,"PARSE_ERROR",w));return}f({status:ae,url:H,responseType:D,sendingTime:x,receivedTime:ee,requestDuration:ee-x,size:ue,responseData:W})}else l(new p.Z(C,w.status,"ERROR_HTTP_CODE",w))},w.send();function Q(){U!==void 0&&clearTimeout(U),Z!==null&&Z()}})}function y(k){try{return JSON.parse(k)}catch{return null}}var A=b},9829:function(E,_,r){r.d(_,{$:function(){return b},Z:function(){return h}});var p=/^(?:[a-z]+:)?\/\//i,g=/\/\.{1,2}\//;function S(y){if(!g.test(y))return y;for(var A=[],k=y.split("/"),c=0,f=k.length;c<f;c++)if(k[c]==="..")A.pop();else{if(k[c]===".")continue;A.push(k[c])}return A.join("/")}function h(){var y=arguments.length;if(y===0)return"";for(var A="",k=0;k<y;k++){var c=k<0||arguments.length<=k?void 0:arguments[k];typeof c!="string"||c===""||(p.test(c)?A=c:(c[0]==="/"&&(c=c.substring(1)),A[A.length-1]==="/"&&(A=A.substring(0,A.length-1)),A=A+"/"+c))}return S(A)}function b(y){var A=y.lastIndexOf("/");if(A<0)return y.length;if(p.test(y)){var k=y.indexOf("/");if(k>=0&&A===k+1)return y.length}var c=y.indexOf("?");return c>=0&&c<A?b(y.substring(0,c)):A+1}},5561:function(E,_,r){r.d(_,{Z:function(){return g}});var p=r(3610);function g(S,h){try{return S(h)}catch(b){return(0,p._)(function(){return b})}}},9252:function(E,_,r){r.d(_,{Z:function(){return p}});function p(g,S,h){if(typeof String.prototype.startsWith=="function")return g.startsWith(S,h);var b=typeof h=="number"?Math.max(h,0):0;return g.substring(b,b+S.length)===S}},3635:function(E,_,r){r.d(_,{DM:function(){return C},TZ:function(){return b},ci:function(){return I},nr:function(){return l},tG:function(){return A},uR:function(){return f},wO:function(){return M},wV:function(){return y}});var p=r(3887),g=r(811),S=typeof window=="object"&&typeof window.TextDecoder=="function",h=typeof window=="object"&&typeof window.TextEncoder=="function";function b(O){for(var P=new ArrayBuffer(O.length*2),$=new Uint8Array(P),w=0;w<$.length;w+=2){var U=O.charCodeAt(w/2);$[w]=U&255,$[w+1]=U>>8&255}return $}function y(O){if(S)try{var P=new TextDecoder("utf-16le");return P.decode(O)}catch(z){var $=z instanceof Error?z:"";p.Z.warn("Utils: could not use TextDecoder to parse UTF-16LE, fallbacking to another implementation",$)}for(var w="",U=0;U<O.length;U+=2)w+=String.fromCharCode((O[U+1]<<8)+O[U]);return w}function A(O){if(h)try{var P=new TextEncoder;return P.encode(O)}catch(ue){var $=ue instanceof Error?ue:"";p.Z.warn("Utils: could not use TextEncoder to encode string into UTF-8, fallbacking to another implementation",$)}var w,U=encodeURIComponent(O);if(typeof unescape=="function")w=unescape(U);else{var z=/[0-9a-fA-F]/,L=U.length;w="";for(var x=0;x<U.length;x++){var Z=!1;if(U[x]==="%"){if(x<=L-6&&U[x+1]==="u"&&z.test(U[x+2])&&z.test(U[x+3])&&z.test(U[x+4])&&z.test(U[x+5])){var Q=parseInt(U.substring(x+1,x+6),16);w+=String.fromCharCode(Q),Z=!0,x+=5}else if(x<=L-3&&z.test(U[x+1])&&z.test(U[x+2])){var re=parseInt(U.substring(x+1,x+3),16);w+=String.fromCharCode(re),Z=!0,x+=2}}Z||(w+=U[x])}}for(var j=new Uint8Array(w.length),ee=0;ee<w.length;ee++)j[ee]=w.charCodeAt(ee)&255;return j}function k(O){for(var P=16e3,$="",w=0;w<O.length;w+=P){var U=O.subarray(w,w+P);$+=String.fromCharCode.apply(null,U)}return $}function c(O,P){var $=O.toString(16);return $.length>=P?$:new Array(P-$.length+1).join("0")+$}function f(O){if(S)try{var P=new TextDecoder;return P.decode(O)}catch(Q){var $=Q instanceof Error?Q:"";p.Z.warn("Utils: could not use TextDecoder to parse UTF-8, fallbacking to another implementation",$)}var w=O;w[0]===239&&w[1]===187&&w[2]===191&&(w=w.subarray(3));var U=k(w),z;if(typeof escape=="function")z=escape(U);else{var L=/[A-Za-z0-9*_\+-\.\/]/;z="";for(var x=0;x<U.length;x++)if(L.test(U[x]))z+=U[x];else{var Z=U.charCodeAt(x);z+=Z>=256?"%u"+c(Z,4):"%"+c(Z,2)}}return decodeURIComponent(z)}function l(O){for(var P=O.length,$=new Uint8Array(P/2),w=0,U=0;w<P;w+=2,U++)$[U]=parseInt(O.substring(w,w+2),16)&255;return $}function I(O,P){P===void 0&&(P="");for(var $="",w=0;w<O.byteLength;w++)$+=(O[w]>>>4).toString(16),$+=(O[w]&15).toString(16),P.length>0&&w<O.byteLength-1&&($+=P);return $}function M(O){(0,g.Z)(O.length===16,"GUID length should be 16");var P=O[0],$=O[1],w=O[2],U=O[3],z=O[4],L=O[5],x=O[6],Z=O[7],Q=new Uint8Array(16);return Q[0]=U,Q[1]=w,Q[2]=$,Q[3]=P,Q[4]=L,Q[5]=z,Q[6]=Z,Q[7]=x,Q.set(O.subarray(8,16),8),Q}function C(O,P){for(var $=P;$<O.length;){var w=O[$];if(w===0)break;$+=1}var U=O.subarray(P,$);return{end:$+1,string:f(U)}}},5278:function(E,_,r){r.d(_,{Z:function(){return g}});var p=r(1946);function g(){for(var S=0,h=arguments.length,b=new Array(h),y=0;y<h;y++)b[y]=arguments[y];for(var A=b.length;S<A;){var k=b[S];if(!(0,p.Z)(k))return k;S++}}},288:function(E,_,r){r.d(_,{FU:function(){return k},ZP:function(){return y}});var p=r(7326),g=r(4578),S=r(2146),h=r(811),b=r(8894),y=function(){function f(I){var M=this,C=c(),O=C[0],P=C[1];if(this.isUsed=!1,this._trigger=O,this.signal=new A(P),(I==null?void 0:I.cancelOn)!==void 0){var $=I.cancelOn.register(function(){M.cancel()});this.signal.register($)}}var l=f.prototype;return l.cancel=function(M){if(!this.isUsed){this.isUsed=!0;var C=M??new k;this._trigger(C)}},f.isCancellationError=function(M){return M instanceof k},f}(),A=function(){function f(I){var M=this;this.isCancelled=!1,this.cancellationError=null,this._listeners=[],I(function(C){for(M.cancellationError=C,M.isCancelled=!0;M._listeners.length>0;){var O=M._listeners.splice(M._listeners.length-1,1)[0];O(C)}})}var l=f.prototype;return l.register=function(M){var C=this;return this.isCancelled&&((0,h.Z)(this.cancellationError!==null),M(this.cancellationError)),this._listeners.push(M),function(){return C.deregister(M)}},l.deregister=function(M){if(!this.isCancelled){for(var C=0;C<this._listeners.length;C++)if(this._listeners[C]===M){this._listeners.splice(C,1);return}}},f}(),k=function(f){(0,g.Z)(l,f);function l(){var I;return I=f.call(this)||this,Object.setPrototypeOf((0,p.Z)(I),l.prototype),I.name="CancellationError",I.message="This task was cancelled.",I}return l}((0,S.Z)(Error));function c(){var f=b.Z;return[function(I){f(I)},function(I){f=I}]}},8806:function(E,_,r){r.d(_,{Z:function(){return S}});var p=r(7714),g=[];function S(h){(0,p.Z)(g,h)||(console.warn(h),g.push(h))}},7473:function(E){var _=function(p){if(typeof p!="function")throw new TypeError(p+" is not a function");return p},r=function(p){var g=document.createTextNode(""),S,h,b=0;return new p(function(){var y;if(S)h&&(S=h.concat(S));else{if(!h)return;S=h}if(h=S,S=null,typeof h=="function"){y=h,h=null,y();return}for(g.data=b=++b%2;h;)y=h.shift(),h.length||(h=null),y()}).observe(g,{characterData:!0}),function(y){if(_(y),S){typeof S=="function"?S=[S,y]:S.push(y);return}S=y,g.data=b=++b%2}};E.exports=function(){if(typeof process=="object"&&process&&typeof process.nextTick=="function")return process.nextTick;if(typeof queueMicrotask=="function")return function(p){queueMicrotask(_(p))};if(typeof document=="object"&&document){if(typeof MutationObserver=="function")return r(MutationObserver);if(typeof WebKitMutationObserver=="function")return r(WebKitMutationObserver)}return typeof setImmediate=="function"?function(p){setImmediate(_(p))}:typeof setTimeout=="function"||typeof setTimeout=="object"?function(p){setTimeout(_(p),0)}:null}()},1480:function(E,_,r){r.d(_,{y:function(){return c}});var p=r(6267),g=r(5720),S=r(6766),h=r(278);function b(M){return M.length===0?h.y:M.length===1?M[0]:function(O){return M.reduce(function(P,$){return $(P)},O)}}var y=r(3912),A=r(8474),k=r(8846),c=function(){function M(C){C&&(this._subscribe=C)}return M.prototype.lift=function(C){var O=new M;return O.source=this,O.operator=C,O},M.prototype.subscribe=function(C,O,P){var $=this,w=I(C)?C:new p.Hp(C,O,P);return(0,k.x)(function(){var U=$,z=U.operator,L=U.source;w.add(z?z.call(w,L):L?$._subscribe(w):$._trySubscribe(w))}),w},M.prototype._trySubscribe=function(C){try{return this._subscribe(C)}catch(O){C.error(O)}},M.prototype.forEach=function(C,O){var P=this;return O=f(O),new O(function($,w){var U=new p.Hp({next:function(z){try{C(z)}catch(L){w(L),U.unsubscribe()}},error:w,complete:$});P.subscribe(U)})},M.prototype._subscribe=function(C){var O;return(O=this.source)===null||O===void 0?void 0:O.subscribe(C)},M.prototype[S.L]=function(){return this},M.prototype.pipe=function(){for(var C=[],O=0;O<arguments.length;O++)C[O]=arguments[O];return b(C)(this)},M.prototype.toPromise=function(C){var O=this;return C=f(C),new C(function(P,$){var w;O.subscribe(function(U){return w=U},function(U){return $(U)},function(){return P(w)})})},M.create=function(C){return new M(C)},M}();function f(M){var C;return(C=M??y.v.Promise)!==null&&C!==void 0?C:Promise}function l(M){return M&&(0,A.m)(M.next)&&(0,A.m)(M.error)&&(0,A.m)(M.complete)}function I(M){return M&&M instanceof p.Lv||l(M)&&(0,g.Nn)(M)}},3:function(E,_,r){r.d(_,{t:function(){return h}});var p=r(5987),g=r(6716),S=r(4318),h=function(b){(0,p.ZT)(y,b);function y(A,k,c){A===void 0&&(A=1/0),k===void 0&&(k=1/0),c===void 0&&(c=S.l);var f=b.call(this)||this;return f._bufferSize=A,f._windowTime=k,f._timestampProvider=c,f._buffer=[],f._infiniteTimeWindow=!0,f._infiniteTimeWindow=k===1/0,f._bufferSize=Math.max(1,A),f._windowTime=Math.max(1,k),f}return y.prototype.next=function(A){var k=this,c=k.isStopped,f=k._buffer,l=k._infiniteTimeWindow,I=k._timestampProvider,M=k._windowTime;c||(f.push(A),!l&&f.push(I.now()+M)),this._trimBuffer(),b.prototype.next.call(this,A)},y.prototype._subscribe=function(A){this._throwIfClosed(),this._trimBuffer();for(var k=this._innerSubscribe(A),c=this,f=c._infiniteTimeWindow,l=c._buffer,I=l.slice(),M=0;M<I.length&&!A.closed;M+=f?1:2)A.next(I[M]);return this._checkFinalizedStatuses(A),k},y.prototype._trimBuffer=function(){var A=this,k=A._bufferSize,c=A._timestampProvider,f=A._buffer,l=A._infiniteTimeWindow,I=(l?1:2)*k;if(k<1/0&&I<f.length&&f.splice(0,f.length-I),!l){for(var M=c.now(),C=0,O=1;O<f.length&&f[O]<=M;O+=2)C=O;C&&f.splice(0,C+1)}},y}(g.x)},6716:function(E,_,r){r.d(_,{x:function(){return k}});var p=r(5987),g=r(1480),S=r(5720),h=r(1819),b=(0,h.d)(function(f){return function(){f(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),y=r(3699),A=r(8846),k=function(f){(0,p.ZT)(l,f);function l(){var I=f.call(this)||this;return I.closed=!1,I.currentObservers=null,I.observers=[],I.isStopped=!1,I.hasError=!1,I.thrownError=null,I}return l.prototype.lift=function(I){var M=new c(this,this);return M.operator=I,M},l.prototype._throwIfClosed=function(){if(this.closed)throw new b},l.prototype.next=function(I){var M=this;(0,A.x)(function(){var C,O;if(M._throwIfClosed(),!M.isStopped){M.currentObservers||(M.currentObservers=Array.from(M.observers));try{for(var P=(0,p.XA)(M.currentObservers),$=P.next();!$.done;$=P.next()){var w=$.value;w.next(I)}}catch(U){C={error:U}}finally{try{$&&!$.done&&(O=P.return)&&O.call(P)}finally{if(C)throw C.error}}}})},l.prototype.error=function(I){var M=this;(0,A.x)(function(){if(M._throwIfClosed(),!M.isStopped){M.hasError=M.isStopped=!0,M.thrownError=I;for(var C=M.observers;C.length;)C.shift().error(I)}})},l.prototype.complete=function(){var I=this;(0,A.x)(function(){if(I._throwIfClosed(),!I.isStopped){I.isStopped=!0;for(var M=I.observers;M.length;)M.shift().complete()}})},l.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(l.prototype,"observed",{get:function(){var I;return((I=this.observers)===null||I===void 0?void 0:I.length)>0},enumerable:!1,configurable:!0}),l.prototype._trySubscribe=function(I){return this._throwIfClosed(),f.prototype._trySubscribe.call(this,I)},l.prototype._subscribe=function(I){return this._throwIfClosed(),this._checkFinalizedStatuses(I),this._innerSubscribe(I)},l.prototype._innerSubscribe=function(I){var M=this,C=this,O=C.hasError,P=C.isStopped,$=C.observers;return O||P?S.Lc:(this.currentObservers=null,$.push(I),new S.w0(function(){M.currentObservers=null,(0,y.P)($,I)}))},l.prototype._checkFinalizedStatuses=function(I){var M=this,C=M.hasError,O=M.thrownError,P=M.isStopped;C?I.error(O):P&&I.complete()},l.prototype.asObservable=function(){var I=new g.y;return I.source=this,I},l.create=function(I,M){return new c(I,M)},l}(g.y),c=function(f){(0,p.ZT)(l,f);function l(I,M){var C=f.call(this)||this;return C.destination=I,C.source=M,C}return l.prototype.next=function(I){var M,C;(C=(M=this.destination)===null||M===void 0?void 0:M.next)===null||C===void 0||C.call(M,I)},l.prototype.error=function(I){var M,C;(C=(M=this.destination)===null||M===void 0?void 0:M.error)===null||C===void 0||C.call(M,I)},l.prototype.complete=function(){var I,M;(M=(I=this.destination)===null||I===void 0?void 0:I.complete)===null||M===void 0||M.call(I)},l.prototype._subscribe=function(I){var M,C;return(C=(M=this.source)===null||M===void 0?void 0:M.subscribe(I))!==null&&C!==void 0?C:S.Lc},l}(k)},6267:function(E,_,r){r.d(_,{Hp:function(){return $},Lv:function(){return M}});var p=r(5987),g=r(8474),S=r(5720),h=r(3912),b=r(5),y=r(2967),A=function(){return f("C",void 0,void 0)}();function k(x){return f("E",void 0,x)}function c(x){return f("N",x,void 0)}function f(x,Z,Q){return{kind:x,value:Z,error:Q}}var l=r(8380),I=r(8846),M=function(x){(0,p.ZT)(Z,x);function Z(Q){var re=x.call(this)||this;return re.isStopped=!1,Q?(re.destination=Q,(0,S.Nn)(Q)&&Q.add(re)):re.destination=L,re}return Z.create=function(Q,re,j){return new $(Q,re,j)},Z.prototype.next=function(Q){this.isStopped?z(c(Q),this):this._next(Q)},Z.prototype.error=function(Q){this.isStopped?z(k(Q),this):(this.isStopped=!0,this._error(Q))},Z.prototype.complete=function(){this.isStopped?z(A,this):(this.isStopped=!0,this._complete())},Z.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,x.prototype.unsubscribe.call(this),this.destination=null)},Z.prototype._next=function(Q){this.destination.next(Q)},Z.prototype._error=function(Q){try{this.destination.error(Q)}finally{this.unsubscribe()}},Z.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},Z}(S.w0),C=Function.prototype.bind;function O(x,Z){return C.call(x,Z)}var P=function(){function x(Z){this.partialObserver=Z}return x.prototype.next=function(Z){var Q=this.partialObserver;if(Q.next)try{Q.next(Z)}catch(re){w(re)}},x.prototype.error=function(Z){var Q=this.partialObserver;if(Q.error)try{Q.error(Z)}catch(re){w(re)}else w(Z)},x.prototype.complete=function(){var Z=this.partialObserver;if(Z.complete)try{Z.complete()}catch(Q){w(Q)}},x}(),$=function(x){(0,p.ZT)(Z,x);function Z(Q,re,j){var ee=x.call(this)||this,ue;if((0,g.m)(Q)||!Q)ue={next:Q??void 0,error:re??void 0,complete:j??void 0};else{var ae;ee&&h.v.useDeprecatedNextContext?(ae=Object.create(Q),ae.unsubscribe=function(){return ee.unsubscribe()},ue={next:Q.next&&O(Q.next,ae),error:Q.error&&O(Q.error,ae),complete:Q.complete&&O(Q.complete,ae)}):ue=Q}return ee.destination=new P(ue),ee}return Z}(M);function w(x){h.v.useDeprecatedSynchronousErrorHandling?(0,I.O)(x):(0,b.h)(x)}function U(x){throw x}function z(x,Z){var Q=h.v.onStoppedNotification;Q&&l.z.setTimeout(function(){return Q(x,Z)})}var L={closed:!0,next:y.Z,error:U,complete:y.Z}},5720:function(E,_,r){r.d(_,{Lc:function(){return A},w0:function(){return y},Nn:function(){return k}});var p=r(5987),g=r(8474),S=r(1819),h=(0,S.d)(function(f){return function(I){f(this),this.message=I?I.length+` errors occurred during unsubscription:
`+I.map(function(M,C){return C+1+") "+M.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=I}}),b=r(3699),y=function(){function f(l){this.initialTeardown=l,this.closed=!1,this._parentage=null,this._finalizers=null}return f.prototype.unsubscribe=function(){var l,I,M,C,O;if(!this.closed){this.closed=!0;var P=this._parentage;if(P)if(this._parentage=null,Array.isArray(P))try{for(var $=(0,p.XA)(P),w=$.next();!w.done;w=$.next()){var U=w.value;U.remove(this)}}catch(re){l={error:re}}finally{try{w&&!w.done&&(I=$.return)&&I.call($)}finally{if(l)throw l.error}}else P.remove(this);var z=this.initialTeardown;if((0,g.m)(z))try{z()}catch(re){O=re instanceof h?re.errors:[re]}var L=this._finalizers;if(L){this._finalizers=null;try{for(var x=(0,p.XA)(L),Z=x.next();!Z.done;Z=x.next()){var Q=Z.value;try{c(Q)}catch(re){O=O??[],re instanceof h?O=(0,p.ev)((0,p.ev)([],(0,p.CR)(O)),(0,p.CR)(re.errors)):O.push(re)}}}catch(re){M={error:re}}finally{try{Z&&!Z.done&&(C=x.return)&&C.call(x)}finally{if(M)throw M.error}}}if(O)throw new h(O)}},f.prototype.add=function(l){var I;if(l&&l!==this)if(this.closed)c(l);else{if(l instanceof f){if(l.closed||l._hasParent(this))return;l._addParent(this)}(this._finalizers=(I=this._finalizers)!==null&&I!==void 0?I:[]).push(l)}},f.prototype._hasParent=function(l){var I=this._parentage;return I===l||Array.isArray(I)&&I.includes(l)},f.prototype._addParent=function(l){var I=this._parentage;this._parentage=Array.isArray(I)?(I.push(l),I):I?[I,l]:l},f.prototype._removeParent=function(l){var I=this._parentage;I===l?this._parentage=null:Array.isArray(I)&&(0,b.P)(I,l)},f.prototype.remove=function(l){var I=this._finalizers;I&&(0,b.P)(I,l),l instanceof f&&l._removeParent(this)},f.EMPTY=function(){var l=new f;return l.closed=!0,l}(),f}(),A=y.EMPTY;function k(f){return f instanceof y||f&&"closed"in f&&(0,g.m)(f.remove)&&(0,g.m)(f.add)&&(0,g.m)(f.unsubscribe)}function c(f){(0,g.m)(f)?f():f.unsubscribe()}},3912:function(E,_,r){r.d(_,{v:function(){return p}});var p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2034:function(E,_,r){r.d(_,{z:function(){return b}});var p=r(4367);function g(){return(0,p.J)(1)}var S=r(2457),h=r(3102);function b(){for(var y=[],A=0;A<arguments.length;A++)y[A]=arguments[A];return g()((0,h.D)(y,(0,S.yG)(y)))}},9917:function(E,_,r){r.d(_,{P:function(){return S}});var p=r(1480),g=r(7878);function S(h){return new p.y(function(b){(0,g.Xf)(h()).subscribe(b)})}},1545:function(E,_,r){r.d(_,{E:function(){return g}});var p=r(1480),g=new p.y(function(S){return S.complete()})},3102:function(E,_,r){r.d(_,{D:function(){return Q}});var p=r(7878),g=r(7845),S=r(6798),h=r(2566);function b(re,j){return j===void 0&&(j=0),(0,S.e)(function(ee,ue){ee.subscribe((0,h.x)(ue,function(ae){return(0,g.f)(ue,re,function(){return ue.next(ae)},j)},function(){return(0,g.f)(ue,re,function(){return ue.complete()},j)},function(ae){return(0,g.f)(ue,re,function(){return ue.error(ae)},j)}))})}var y=r(8720);function A(re,j){return(0,p.Xf)(re).pipe((0,y.R)(j),b(j))}function k(re,j){return(0,p.Xf)(re).pipe((0,y.R)(j),b(j))}var c=r(1480);function f(re,j){return new c.y(function(ee){var ue=0;return j.schedule(function(){ue===re.length?ee.complete():(ee.next(re[ue++]),ee.closed||this.schedule())})})}var l=r(9768),I=r(8474);function M(re,j){return new c.y(function(ee){var ue;return(0,g.f)(ee,j,function(){ue=re[l.h](),(0,g.f)(ee,j,function(){var ae,D,H;try{ae=ue.next(),D=ae.value,H=ae.done}catch(W){ee.error(W);return}H?ee.complete():ee.next(D)},0,!0)}),function(){return(0,I.m)(ue==null?void 0:ue.return)&&ue.return()}})}function C(re,j){if(!re)throw new Error("Iterable cannot be null");return new c.y(function(ee){(0,g.f)(ee,j,function(){var ue=re[Symbol.asyncIterator]();(0,g.f)(ee,j,function(){ue.next().then(function(ae){ae.done?ee.complete():ee.next(ae.value)})},0,!0)})})}var O=r(1764),P=r(3841),$=r(5685),w=r(1837),U=r(8430),z=r(8729),L=r(8671);function x(re,j){return C((0,L.Q)(re),j)}function Z(re,j){if(re!=null){if((0,O.c)(re))return A(re,j);if((0,$.z)(re))return f(re,j);if((0,P.t)(re))return k(re,j);if((0,U.D)(re))return C(re,j);if((0,w.T)(re))return M(re,j);if((0,L.L)(re))return x(re,j)}throw(0,z.z)(re)}function Q(re,j){return j?Z(re,j):(0,p.Xf)(re)}},2401:function(E,_,r){r.d(_,{R:function(){return l}});var p=r(5987),g=r(7878),S=r(1480),h=r(7877),b=r(5685),y=r(8474),A=r(3211),k=["addListener","removeListener"],c=["addEventListener","removeEventListener"],f=["on","off"];function l(P,$,w,U){if((0,y.m)(w)&&(U=w,w=void 0),U)return l(P,$,w).pipe((0,A.Z)(U));var z=(0,p.CR)(O(P)?c.map(function(Z){return function(Q){return P[Z]($,Q,w)}}):M(P)?k.map(I(P,$)):C(P)?f.map(I(P,$)):[],2),L=z[0],x=z[1];if(!L&&(0,b.z)(P))return(0,h.z)(function(Z){return l(Z,$,w)})((0,g.Xf)(P));if(!L)throw new TypeError("Invalid event target");return new S.y(function(Z){var Q=function(){for(var re=[],j=0;j<arguments.length;j++)re[j]=arguments[j];return Z.next(1<re.length?re:re[0])};return L(Q),function(){return x(Q)}})}function I(P,$){return function(w){return function(U){return P[w]($,U)}}}function M(P){return(0,y.m)(P.addListener)&&(0,y.m)(P.removeListener)}function C(P){return(0,y.m)(P.on)&&(0,y.m)(P.off)}function O(P){return(0,y.m)(P.addEventListener)&&(0,y.m)(P.removeEventListener)}},7878:function(E,_,r){r.d(_,{Xf:function(){return M}});var p=r(5987),g=r(5685),S=r(3841),h=r(1480),b=r(1764),y=r(8430),A=r(8729),k=r(1837),c=r(8671),f=r(8474),l=r(5),I=r(6766);function M(L){if(L instanceof h.y)return L;if(L!=null){if((0,b.c)(L))return C(L);if((0,g.z)(L))return O(L);if((0,S.t)(L))return P(L);if((0,y.D)(L))return w(L);if((0,k.T)(L))return $(L);if((0,c.L)(L))return U(L)}throw(0,A.z)(L)}function C(L){return new h.y(function(x){var Z=L[I.L]();if((0,f.m)(Z.subscribe))return Z.subscribe(x);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function O(L){return new h.y(function(x){for(var Z=0;Z<L.length&&!x.closed;Z++)x.next(L[Z]);x.complete()})}function P(L){return new h.y(function(x){L.then(function(Z){x.closed||(x.next(Z),x.complete())},function(Z){return x.error(Z)}).then(null,l.h)})}function $(L){return new h.y(function(x){var Z,Q;try{for(var re=(0,p.XA)(L),j=re.next();!j.done;j=re.next()){var ee=j.value;if(x.next(ee),x.closed)return}}catch(ue){Z={error:ue}}finally{try{j&&!j.done&&(Q=re.return)&&Q.call(re)}finally{if(Z)throw Z.error}}x.complete()})}function w(L){return new h.y(function(x){z(L,x).catch(function(Z){return x.error(Z)})})}function U(L){return w((0,c.Q)(L))}function z(L,x){var Z,Q,re,j;return(0,p.mG)(this,void 0,void 0,function(){var ee,ue;return(0,p.Jh)(this,function(ae){switch(ae.label){case 0:ae.trys.push([0,5,6,11]),Z=(0,p.KL)(L),ae.label=1;case 1:return[4,Z.next()];case 2:if(Q=ae.sent(),!!Q.done)return[3,4];if(ee=Q.value,x.next(ee),x.closed)return[2];ae.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return ue=ae.sent(),re={error:ue},[3,11];case 6:return ae.trys.push([6,,9,10]),Q&&!Q.done&&(j=Z.return)?[4,j.call(Z)]:[3,8];case 7:ae.sent(),ae.label=8;case 8:return[3,10];case 9:if(re)throw re.error;return[7];case 10:return[7];case 11:return x.complete(),[2]}})})}},3071:function(E,_,r){r.d(_,{T:function(){return y}});var p=r(4367),g=r(7878),S=r(1545),h=r(2457),b=r(3102);function y(){for(var A=[],k=0;k<arguments.length;k++)A[k]=arguments[k];var c=(0,h.yG)(A),f=(0,h._6)(A,1/0),l=A;return l.length?l.length===1?(0,g.Xf)(l[0]):(0,p.J)(f)((0,b.D)(l,c)):S.E}},2817:function(E,_,r){r.d(_,{of:function(){return S}});var p=r(2457),g=r(3102);function S(){for(var h=[],b=0;b<arguments.length;b++)h[b]=arguments[b];var y=(0,p.yG)(h);return(0,g.D)(h,y)}},3610:function(E,_,r){r.d(_,{_:function(){return S}});var p=r(1480),g=r(8474);function S(h,b){var y=(0,g.m)(h)?h:function(){return h},A=function(k){return k.error(y())};return new p.y(b?function(k){return b.schedule(A,0,k)}:A)}},6625:function(E,_,r){r.d(_,{H:function(){return b}});var p=r(1480),g=r(7991),S=r(4865),h=r(1454);function b(y,A,k){y===void 0&&(y=0),k===void 0&&(k=g.P);var c=-1;return A!=null&&((0,S.K)(A)?k=A:c=A),new p.y(function(f){var l=(0,h.q)(y)?+y-k.now():y;l<0&&(l=0);var I=0;return k.schedule(function(){f.closed||(f.next(I++),0<=c?this.schedule(void 0,c):f.complete())},l)})}},2566:function(E,_,r){r.d(_,{x:function(){return S}});var p=r(5987),g=r(6267);function S(b,y,A,k,c){return new h(b,y,A,k,c)}var h=function(b){(0,p.ZT)(y,b);function y(A,k,c,f,l,I){var M=b.call(this,A)||this;return M.onFinalize=l,M.shouldUnsubscribe=I,M._next=k?function(C){try{k(C)}catch(O){A.error(O)}}:b.prototype._next,M._error=f?function(C){try{f(C)}catch(O){A.error(O)}finally{this.unsubscribe()}}:b.prototype._error,M._complete=c?function(){try{c()}catch(C){A.error(C)}finally{this.unsubscribe()}}:b.prototype._complete,M}return y.prototype.unsubscribe=function(){var A;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var k=this.closed;b.prototype.unsubscribe.call(this),!k&&((A=this.onFinalize)===null||A===void 0||A.call(this))}},y}(g.Lv)},9878:function(E,_,r){r.d(_,{K:function(){return h}});var p=r(7878),g=r(2566),S=r(6798);function h(b){return(0,S.e)(function(y,A){var k=null,c=!1,f;k=y.subscribe((0,g.x)(A,void 0,void 0,function(l){f=(0,p.Xf)(b(l,h(b)(y))),k?(k.unsubscribe(),k=null,f.subscribe(A)):c=!0})),c&&(k.unsubscribe(),k=null,f.subscribe(A))})}},4975:function(E,_,r){r.d(_,{h:function(){return S}});var p=r(6798),g=r(2566);function S(h,b){return(0,p.e)(function(y,A){var k=0;y.subscribe((0,g.x)(A,function(c){return h.call(b,c,k++)&&A.next(c)}))})}},3286:function(E,_,r){r.d(_,{x:function(){return g}});var p=r(6798);function g(S){return(0,p.e)(function(h,b){try{h.subscribe(b)}finally{b.add(S)}})}},533:function(E,_,r){r.d(_,{l:function(){return h}});var p=r(6798),g=r(2566),S=r(2967);function h(){return(0,p.e)(function(b,y){b.subscribe((0,g.x)(y,S.Z))})}},9127:function(E,_,r){r.d(_,{U:function(){return S}});var p=r(6798),g=r(2566);function S(h,b){return(0,p.e)(function(y,A){var k=0;y.subscribe((0,g.x)(A,function(c){A.next(h.call(b,c,k++))}))})}},4367:function(E,_,r){r.d(_,{J:function(){return S}});var p=r(7877),g=r(278);function S(h){return h===void 0&&(h=1/0),(0,p.z)(g.y,h)}},7877:function(E,_,r){r.d(_,{z:function(){return k}});var p=r(9127),g=r(7878),S=r(6798),h=r(7845),b=r(2566);function y(c,f,l,I,M,C,O,P){var $=[],w=0,U=0,z=!1,L=function(){z&&!$.length&&!w&&f.complete()},x=function(Q){return w<I?Z(Q):$.push(Q)},Z=function(Q){C&&f.next(Q),w++;var re=!1;(0,g.Xf)(l(Q,U++)).subscribe((0,b.x)(f,function(j){M==null||M(j),C?x(j):f.next(j)},function(){re=!0},void 0,function(){if(re)try{w--;for(var j=function(){var ee=$.shift();O?(0,h.f)(f,O,function(){return Z(ee)}):Z(ee)};$.length&&w<I;)j();L()}catch(ee){f.error(ee)}}))};return c.subscribe((0,b.x)(f,x,function(){z=!0,L()})),function(){P==null||P()}}var A=r(8474);function k(c,f,l){return l===void 0&&(l=1/0),(0,A.m)(f)?k(function(I,M){return(0,p.U)(function(C,O){return f(I,C,M,O)})((0,g.Xf)(c(I,M)))},l):(typeof f=="number"&&(l=f),(0,S.e)(function(I,M){return y(I,M,c,l)}))}},3074:function(E,_,r){r.d(_,{R:function(){return h}});var p=r(6798),g=r(2566);function S(b,y,A,k,c){return function(f,l){var I=A,M=y,C=0;f.subscribe((0,g.x)(l,function(O){var P=C++;M=I?b(M,O,P):(I=!0,O),k&&l.next(M)},c&&function(){I&&l.next(M),l.complete()}))}}function h(b,y){return(0,p.e)(S(b,y,arguments.length>=2,!0))}},5583:function(E,_,r){r.d(_,{B:function(){return y}});var p=r(5987),g=r(7878),S=r(6716),h=r(6267),b=r(6798);function y(k){k===void 0&&(k={});var c=k.connector,f=c===void 0?function(){return new S.x}:c,l=k.resetOnError,I=l===void 0?!0:l,M=k.resetOnComplete,C=M===void 0?!0:M,O=k.resetOnRefCountZero,P=O===void 0?!0:O;return function($){var w,U,z,L=0,x=!1,Z=!1,Q=function(){U==null||U.unsubscribe(),U=void 0},re=function(){Q(),w=z=void 0,x=Z=!1},j=function(){var ee=w;re(),ee==null||ee.unsubscribe()};return(0,b.e)(function(ee,ue){L++,!Z&&!x&&Q();var ae=z=z??f();ue.add(function(){L--,L===0&&!Z&&!x&&(U=A(j,P))}),ae.subscribe(ue),!w&&L>0&&(w=new h.Hp({next:function(D){return ae.next(D)},error:function(D){Z=!0,Q(),U=A(re,I,D),ae.error(D)},complete:function(){x=!0,Q(),U=A(re,C),ae.complete()}}),(0,g.Xf)(ee).subscribe(w))})($)}}function A(k,c){for(var f=[],l=2;l<arguments.length;l++)f[l-2]=arguments[l];if(c===!0){k();return}if(c!==!1){var I=new h.Hp({next:function(){I.unsubscribe(),k()}});return c.apply(void 0,(0,p.ev)([],(0,p.CR)(f))).subscribe(I)}}},8515:function(E,_,r){r.d(_,{d:function(){return S}});var p=r(3),g=r(5583);function S(h,b,y){var A,k,c,f,l=!1;return h&&typeof h=="object"?(A=h.bufferSize,f=A===void 0?1/0:A,k=h.windowTime,b=k===void 0?1/0:k,c=h.refCount,l=c===void 0?!1:c,y=h.scheduler):f=h??1/0,(0,g.B)({connector:function(){return new p.t(f,b,y)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}},6108:function(E,_,r){r.d(_,{O:function(){return h}});var p=r(2034),g=r(2457),S=r(6798);function h(){for(var b=[],y=0;y<arguments.length;y++)b[y]=arguments[y];var A=(0,g.yG)(b);return(0,S.e)(function(k,c){(A?(0,p.z)(b,k,A):(0,p.z)(b,k)).subscribe(c)})}},8720:function(E,_,r){r.d(_,{R:function(){return g}});var p=r(6798);function g(S,h){return h===void 0&&(h=0),(0,p.e)(function(b,y){y.add(S.schedule(function(){return b.subscribe(y)},h))})}},4978:function(E,_,r){r.d(_,{w:function(){return h}});var p=r(7878),g=r(6798),S=r(2566);function h(b,y){return(0,g.e)(function(A,k){var c=null,f=0,l=!1,I=function(){return l&&!c&&k.complete()};A.subscribe((0,S.x)(k,function(M){c==null||c.unsubscribe();var C=0,O=f++;(0,p.Xf)(b(M,O)).subscribe(c=(0,S.x)(k,function(P){return k.next(y?y(M,P,O,C++):P)},function(){c=null,I()}))},function(){l=!0,I()}))})}},4727:function(E,_,r){r.d(_,{q:function(){return h}});var p=r(1545),g=r(6798),S=r(2566);function h(b){return b<=0?function(){return p.E}:(0,g.e)(function(y,A){var k=0;y.subscribe((0,S.x)(A,function(c){++k<=b&&(A.next(c),b<=k&&A.complete())}))})}},3505:function(E,_,r){r.d(_,{R:function(){return b}});var p=r(6798),g=r(2566),S=r(7878),h=r(2967);function b(y){return(0,p.e)(function(A,k){(0,S.Xf)(y).subscribe((0,g.x)(k,function(){return k.complete()},h.Z)),!k.closed&&A.subscribe(k)})}},2006:function(E,_,r){r.d(_,{b:function(){return b}});var p=r(8474),g=r(6798),S=r(2566),h=r(278);function b(y,A,k){var c=(0,p.m)(y)||A||k?{next:y,error:A,complete:k}:y;return c?(0,g.e)(function(f,l){var I;(I=c.subscribe)===null||I===void 0||I.call(c);var M=!0;f.subscribe((0,S.x)(l,function(C){var O;(O=c.next)===null||O===void 0||O.call(c,C),l.next(C)},function(){var C;M=!1,(C=c.complete)===null||C===void 0||C.call(c),l.complete()},function(C){var O;M=!1,(O=c.error)===null||O===void 0||O.call(c,C),l.error(C)},function(){var C,O;M&&((C=c.unsubscribe)===null||C===void 0||C.call(c)),(O=c.finalize)===null||O===void 0||O.call(c)}))}):h.y}},3428:function(E,_,r){r.d(_,{M:function(){return k}});var p=r(5987),g=r(6798),S=r(2566),h=r(7878),b=r(278),y=r(2967),A=r(2457);function k(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];var l=(0,A.jO)(c);return(0,g.e)(function(I,M){for(var C=c.length,O=new Array(C),P=c.map(function(){return!1}),$=!1,w=function(z){(0,h.Xf)(c[z]).subscribe((0,S.x)(M,function(L){O[z]=L,!$&&!P[z]&&(P[z]=!0,($=P.every(b.y))&&(P=null))},y.Z))},U=0;U<C;U++)w(U);I.subscribe((0,S.x)(M,function(z){if($){var L=(0,p.ev)([z],(0,p.CR)(O));M.next(l?l.apply(void 0,(0,p.ev)([],(0,p.CR)(L))):L)}}))})}},8337:function(E,_,r){r.d(_,{o:function(){return y}});var p=r(5987),g=r(5720),S=function(A){(0,p.ZT)(k,A);function k(c,f){return A.call(this)||this}return k.prototype.schedule=function(c,f){return this},k}(g.w0),h={setInterval:function(A,k){for(var c=[],f=2;f<arguments.length;f++)c[f-2]=arguments[f];return setInterval.apply(void 0,(0,p.ev)([A,k],(0,p.CR)(c)))},clearInterval:function(A){return clearInterval(A)},delegate:void 0},b=r(3699),y=function(A){(0,p.ZT)(k,A);function k(c,f){var l=A.call(this,c,f)||this;return l.scheduler=c,l.work=f,l.pending=!1,l}return k.prototype.schedule=function(c,f){var l;if(f===void 0&&(f=0),this.closed)return this;this.state=c;var I=this.id,M=this.scheduler;return I!=null&&(this.id=this.recycleAsyncId(M,I,f)),this.pending=!0,this.delay=f,this.id=(l=this.id)!==null&&l!==void 0?l:this.requestAsyncId(M,this.id,f),this},k.prototype.requestAsyncId=function(c,f,l){return l===void 0&&(l=0),h.setInterval(c.flush.bind(c,this),l)},k.prototype.recycleAsyncId=function(c,f,l){if(l===void 0&&(l=0),l!=null&&this.delay===l&&this.pending===!1)return f;f!=null&&h.clearInterval(f)},k.prototype.execute=function(c,f){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var l=this._execute(c,f);if(l)return l;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},k.prototype._execute=function(c,f){var l=!1,I;try{this.work(c)}catch(M){l=!0,I=M||new Error("Scheduled action threw falsy error")}if(l)return this.unsubscribe(),I},k.prototype.unsubscribe=function(){if(!this.closed){var c=this,f=c.id,l=c.scheduler,I=l.actions;this.work=this.state=this.scheduler=null,this.pending=!1,(0,b.P)(I,this),f!=null&&(this.id=this.recycleAsyncId(l,f,null)),this.delay=null,A.prototype.unsubscribe.call(this)}},k}(S)},9682:function(E,_,r){r.d(_,{v:function(){return h}});var p=r(5987),g=r(4318),S=function(){function b(y,A){A===void 0&&(A=b.now),this.schedulerActionCtor=y,this.now=A}return b.prototype.schedule=function(y,A,k){return A===void 0&&(A=0),new this.schedulerActionCtor(this,y).schedule(k,A)},b.now=g.l.now,b}(),h=function(b){(0,p.ZT)(y,b);function y(A,k){k===void 0&&(k=S.now);var c=b.call(this,A,k)||this;return c.actions=[],c._active=!1,c}return y.prototype.flush=function(A){var k=this.actions;if(this._active){k.push(A);return}var c;this._active=!0;do if(c=A.execute(A.state,A.delay))break;while(A=k.shift());if(this._active=!1,c){for(;A=k.shift();)A.unsubscribe();throw c}},y}(S)},7991:function(E,_,r){r.d(_,{P:function(){return h},z:function(){return S}});var p=r(8337),g=r(9682),S=new g.v(p.o),h=S},4318:function(E,_,r){r.d(_,{l:function(){return p}});var p={now:function(){return(p.delegate||Date).now()},delegate:void 0}},8380:function(E,_,r){r.d(_,{z:function(){return g}});var p=r(5987),g={setTimeout:function(S,h){for(var b=[],y=2;y<arguments.length;y++)b[y-2]=arguments[y];var A=g.delegate;return A!=null&&A.setTimeout?A.setTimeout.apply(A,(0,p.ev)([S,h],(0,p.CR)(b))):setTimeout.apply(void 0,(0,p.ev)([S,h],(0,p.CR)(b)))},clearTimeout:function(S){var h=g.delegate;return((h==null?void 0:h.clearTimeout)||clearTimeout)(S)},delegate:void 0}},9768:function(E,_,r){r.d(_,{h:function(){return g}});function p(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var g=p()},6766:function(E,_,r){r.d(_,{L:function(){return p}});var p=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}()},2457:function(E,_,r){r.d(_,{_6:function(){return y},jO:function(){return h},yG:function(){return b}});var p=r(8474),g=r(4865);function S(A){return A[A.length-1]}function h(A){return(0,p.m)(S(A))?A.pop():void 0}function b(A){return(0,g.K)(S(A))?A.pop():void 0}function y(A,k){return typeof S(A)=="number"?A.pop():k}},3699:function(E,_,r){r.d(_,{P:function(){return p}});function p(g,S){if(g){var h=g.indexOf(S);0<=h&&g.splice(h,1)}}},1819:function(E,_,r){r.d(_,{d:function(){return p}});function p(g){var S=function(b){Error.call(b),b.stack=new Error().stack},h=g(S);return h.prototype=Object.create(Error.prototype),h.prototype.constructor=h,h}},8846:function(E,_,r){r.d(_,{O:function(){return h},x:function(){return S}});var p=r(3912),g=null;function S(b){if(p.v.useDeprecatedSynchronousErrorHandling){var y=!g;if(y&&(g={errorThrown:!1,error:null}),b(),y){var A=g,k=A.errorThrown,c=A.error;if(g=null,k)throw c}}else b()}function h(b){p.v.useDeprecatedSynchronousErrorHandling&&g&&(g.errorThrown=!0,g.error=b)}},7845:function(E,_,r){r.d(_,{f:function(){return p}});function p(g,S,h,b,y){b===void 0&&(b=0),y===void 0&&(y=!1);var A=S.schedule(function(){h(),y?g.add(this.schedule(null,b)):this.unsubscribe()},b);if(g.add(A),!y)return A}},278:function(E,_,r){r.d(_,{y:function(){return p}});function p(g){return g}},5685:function(E,_,r){r.d(_,{z:function(){return p}});var p=function(g){return g&&typeof g.length=="number"&&typeof g!="function"}},8430:function(E,_,r){r.d(_,{D:function(){return g}});var p=r(8474);function g(S){return Symbol.asyncIterator&&(0,p.m)(S==null?void 0:S[Symbol.asyncIterator])}},1454:function(E,_,r){r.d(_,{q:function(){return p}});function p(g){return g instanceof Date&&!isNaN(g)}},8474:function(E,_,r){r.d(_,{m:function(){return p}});function p(g){return typeof g=="function"}},1764:function(E,_,r){r.d(_,{c:function(){return S}});var p=r(6766),g=r(8474);function S(h){return(0,g.m)(h[p.L])}},1837:function(E,_,r){r.d(_,{T:function(){return S}});var p=r(9768),g=r(8474);function S(h){return(0,g.m)(h==null?void 0:h[p.h])}},3841:function(E,_,r){r.d(_,{t:function(){return g}});var p=r(8474);function g(S){return(0,p.m)(S==null?void 0:S.then)}},8671:function(E,_,r){r.d(_,{L:function(){return h},Q:function(){return S}});var p=r(5987),g=r(8474);function S(b){return(0,p.FC)(this,arguments,function(){var A,k,c,f;return(0,p.Jh)(this,function(l){switch(l.label){case 0:A=b.getReader(),l.label=1;case 1:l.trys.push([1,,9,10]),l.label=2;case 2:return[4,(0,p.qq)(A.read())];case 3:return k=l.sent(),c=k.value,f=k.done,f?[4,(0,p.qq)(void 0)]:[3,5];case 4:return[2,l.sent()];case 5:return[4,(0,p.qq)(c)];case 6:return[4,l.sent()];case 7:return l.sent(),[3,2];case 8:return[3,10];case 9:return A.releaseLock(),[7];case 10:return[2]}})})}function h(b){return(0,g.m)(b==null?void 0:b.getReader)}},4865:function(E,_,r){r.d(_,{K:function(){return g}});var p=r(8474);function g(S){return S&&(0,p.m)(S.schedule)}},6798:function(E,_,r){r.d(_,{e:function(){return S}});var p=r(8474);function g(h){return(0,p.m)(h==null?void 0:h.lift)}function S(h){return function(b){if(g(b))return b.lift(function(y){try{return h(y,this)}catch(A){this.error(A)}});throw new TypeError("Unable to lift unknown Observable type")}}},3211:function(E,_,r){r.d(_,{Z:function(){return b}});var p=r(5987),g=r(9127),S=Array.isArray;function h(y,A){return S(A)?y.apply(void 0,(0,p.ev)([],(0,p.CR)(A))):y(A)}function b(y){return(0,g.U)(function(A){return h(y,A)})}},2967:function(E,_,r){r.d(_,{Z:function(){return p}});function p(){}},5:function(E,_,r){r.d(_,{h:function(){return S}});var p=r(3912),g=r(8380);function S(h){g.z.setTimeout(function(){var b=p.v.onUnhandledError;if(b)b(h);else throw h})}},8729:function(E,_,r){r.d(_,{z:function(){return p}});function p(g){return new TypeError("You provided "+(g!==null&&typeof g=="object"?"an invalid object":"'"+g+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}},5987:function(E,_,r){r.d(_,{CR:function(){return y},FC:function(){return c},Jh:function(){return h},KL:function(){return f},XA:function(){return b},ZT:function(){return g},ev:function(){return A},mG:function(){return S},qq:function(){return k}});/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var p=function(l,I){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,C){M.__proto__=C}||function(M,C){for(var O in C)Object.prototype.hasOwnProperty.call(C,O)&&(M[O]=C[O])},p(l,I)};function g(l,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");p(l,I);function M(){this.constructor=l}l.prototype=I===null?Object.create(I):(M.prototype=I.prototype,new M)}function S(l,I,M,C){function O(P){return P instanceof M?P:new M(function($){$(P)})}return new(M||(M=Promise))(function(P,$){function w(L){try{z(C.next(L))}catch(x){$(x)}}function U(L){try{z(C.throw(L))}catch(x){$(x)}}function z(L){L.done?P(L.value):O(L.value).then(w,U)}z((C=C.apply(l,I||[])).next())})}function h(l,I){var M={label:0,sent:function(){if(P[0]&1)throw P[1];return P[1]},trys:[],ops:[]},C,O,P,$;return $={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&($[Symbol.iterator]=function(){return this}),$;function w(z){return function(L){return U([z,L])}}function U(z){if(C)throw new TypeError("Generator is already executing.");for(;M;)try{if(C=1,O&&(P=z[0]&2?O.return:z[0]?O.throw||((P=O.return)&&P.call(O),0):O.next)&&!(P=P.call(O,z[1])).done)return P;switch(O=0,P&&(z=[z[0]&2,P.value]),z[0]){case 0:case 1:P=z;break;case 4:return M.label++,{value:z[1],done:!1};case 5:M.label++,O=z[1],z=[0];continue;case 7:z=M.ops.pop(),M.trys.pop();continue;default:if(P=M.trys,!(P=P.length>0&&P[P.length-1])&&(z[0]===6||z[0]===2)){M=0;continue}if(z[0]===3&&(!P||z[1]>P[0]&&z[1]<P[3])){M.label=z[1];break}if(z[0]===6&&M.label<P[1]){M.label=P[1],P=z;break}if(P&&M.label<P[2]){M.label=P[2],M.ops.push(z);break}P[2]&&M.ops.pop(),M.trys.pop();continue}z=I.call(l,M)}catch(L){z=[6,L],O=0}finally{C=P=0}if(z[0]&5)throw z[1];return{value:z[0]?z[1]:void 0,done:!0}}}function b(l){var I=typeof Symbol=="function"&&Symbol.iterator,M=I&&l[I],C=0;if(M)return M.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&C>=l.length&&(l=void 0),{value:l&&l[C++],done:!l}}};throw new TypeError(I?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(l,I){var M=typeof Symbol=="function"&&l[Symbol.iterator];if(!M)return l;var C=M.call(l),O,P=[],$;try{for(;(I===void 0||I-- >0)&&!(O=C.next()).done;)P.push(O.value)}catch(w){$={error:w}}finally{try{O&&!O.done&&(M=C.return)&&M.call(C)}finally{if($)throw $.error}}return P}function A(l,I){for(var M=0,C=I.length,O=l.length;M<C;M++,O++)l[O]=I[M];return l}function k(l){return this instanceof k?(this.v=l,this):new k(l)}function c(l,I,M){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var C=M.apply(l,I||[]),O,P=[];return O={},$("next"),$("throw"),$("return"),O[Symbol.asyncIterator]=function(){return this},O;function $(Z){C[Z]&&(O[Z]=function(Q){return new Promise(function(re,j){P.push([Z,Q,re,j])>1||w(Z,Q)})})}function w(Z,Q){try{U(C[Z](Q))}catch(re){x(P[0][3],re)}}function U(Z){Z.value instanceof k?Promise.resolve(Z.value.v).then(z,L):x(P[0][2],Z)}function z(Z){w("next",Z)}function L(Z){w("throw",Z)}function x(Z,Q){Z(Q),P.shift(),P.length&&w(P[0][0],P[0][1])}}function f(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var I=l[Symbol.asyncIterator],M;return I?I.call(l):(l=typeof b=="function"?b(l):l[Symbol.iterator](),M={},C("next"),C("throw"),C("return"),M[Symbol.asyncIterator]=function(){return this},M);function C(P){M[P]=l[P]&&function($){return new Promise(function(w,U){$=l[P]($),O(w,U,$.done,$.value)})}}function O(P,$,w,U){Promise.resolve(U).then(function(z){P({value:z,done:w})},$)}}},7061:function(E,_,r){var p=r(8698).default;function g(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */E.exports=g=function(){return S},E.exports.__esModule=!0,E.exports.default=E.exports;var S={},h=Object.prototype,b=h.hasOwnProperty,y=typeof Symbol=="function"?Symbol:{},A=y.iterator||"@@iterator",k=y.asyncIterator||"@@asyncIterator",c=y.toStringTag||"@@toStringTag";function f(ae,D,H){return Object.defineProperty(ae,D,{value:H,enumerable:!0,configurable:!0,writable:!0}),ae[D]}try{f({},"")}catch{f=function(H,W,Y){return H[W]=Y}}function l(ae,D,H,W){var Y=D&&D.prototype instanceof C?D:C,X=Object.create(Y.prototype),ie=new j(W||[]);return X._invoke=function(fe,be,ge){var Be="suspendedStart";return function(Ke,Ot){if(Be==="executing")throw new Error("Generator is already running");if(Be==="completed"){if(Ke==="throw")throw Ot;return ue()}for(ge.method=Ke,ge.arg=Ot;;){var kt=ge.delegate;if(kt){var He=Z(kt,ge);if(He){if(He===M)continue;return He}}if(ge.method==="next")ge.sent=ge._sent=ge.arg;else if(ge.method==="throw"){if(Be==="suspendedStart")throw Be="completed",ge.arg;ge.dispatchException(ge.arg)}else ge.method==="return"&&ge.abrupt("return",ge.arg);Be="executing";var je=I(fe,be,ge);if(je.type==="normal"){if(Be=ge.done?"completed":"suspendedYield",je.arg===M)continue;return{value:je.arg,done:ge.done}}je.type==="throw"&&(Be="completed",ge.method="throw",ge.arg=je.arg)}}}(ae,H,ie),X}function I(ae,D,H){try{return{type:"normal",arg:ae.call(D,H)}}catch(W){return{type:"throw",arg:W}}}S.wrap=l;var M={};function C(){}function O(){}function P(){}var $={};f($,A,function(){return this});var w=Object.getPrototypeOf,U=w&&w(w(ee([])));U&&U!==h&&b.call(U,A)&&($=U);var z=P.prototype=C.prototype=Object.create($);function L(ae){["next","throw","return"].forEach(function(D){f(ae,D,function(H){return this._invoke(D,H)})})}function x(ae,D){function H(Y,X,ie,fe){var be=I(ae[Y],ae,X);if(be.type!=="throw"){var ge=be.arg,Be=ge.value;return Be&&p(Be)=="object"&&b.call(Be,"__await")?D.resolve(Be.__await).then(function(Ke){H("next",Ke,ie,fe)},function(Ke){H("throw",Ke,ie,fe)}):D.resolve(Be).then(function(Ke){ge.value=Ke,ie(ge)},function(Ke){return H("throw",Ke,ie,fe)})}fe(be.arg)}var W;this._invoke=function(Y,X){function ie(){return new D(function(fe,be){H(Y,X,fe,be)})}return W=W?W.then(ie,ie):ie()}}function Z(ae,D){var H=ae.iterator[D.method];if(H===void 0){if(D.delegate=null,D.method==="throw"){if(ae.iterator.return&&(D.method="return",D.arg=void 0,Z(ae,D),D.method==="throw"))return M;D.method="throw",D.arg=new TypeError("The iterator does not provide a 'throw' method")}return M}var W=I(H,ae.iterator,D.arg);if(W.type==="throw")return D.method="throw",D.arg=W.arg,D.delegate=null,M;var Y=W.arg;return Y?Y.done?(D[ae.resultName]=Y.value,D.next=ae.nextLoc,D.method!=="return"&&(D.method="next",D.arg=void 0),D.delegate=null,M):Y:(D.method="throw",D.arg=new TypeError("iterator result is not an object"),D.delegate=null,M)}function Q(ae){var D={tryLoc:ae[0]};1 in ae&&(D.catchLoc=ae[1]),2 in ae&&(D.finallyLoc=ae[2],D.afterLoc=ae[3]),this.tryEntries.push(D)}function re(ae){var D=ae.completion||{};D.type="normal",delete D.arg,ae.completion=D}function j(ae){this.tryEntries=[{tryLoc:"root"}],ae.forEach(Q,this),this.reset(!0)}function ee(ae){if(ae){var D=ae[A];if(D)return D.call(ae);if(typeof ae.next=="function")return ae;if(!isNaN(ae.length)){var H=-1,W=function Y(){for(;++H<ae.length;)if(b.call(ae,H))return Y.value=ae[H],Y.done=!1,Y;return Y.value=void 0,Y.done=!0,Y};return W.next=W}}return{next:ue}}function ue(){return{value:void 0,done:!0}}return O.prototype=P,f(z,"constructor",P),f(P,"constructor",O),O.displayName=f(P,c,"GeneratorFunction"),S.isGeneratorFunction=function(ae){var D=typeof ae=="function"&&ae.constructor;return!!D&&(D===O||(D.displayName||D.name)==="GeneratorFunction")},S.mark=function(ae){return Object.setPrototypeOf?Object.setPrototypeOf(ae,P):(ae.__proto__=P,f(ae,c,"GeneratorFunction")),ae.prototype=Object.create(z),ae},S.awrap=function(ae){return{__await:ae}},L(x.prototype),f(x.prototype,k,function(){return this}),S.AsyncIterator=x,S.async=function(ae,D,H,W,Y){Y===void 0&&(Y=Promise);var X=new x(l(ae,D,H,W),Y);return S.isGeneratorFunction(D)?X:X.next().then(function(ie){return ie.done?ie.value:X.next()})},L(z),f(z,c,"Generator"),f(z,A,function(){return this}),f(z,"toString",function(){return"[object Generator]"}),S.keys=function(ae){var D=[];for(var H in ae)D.push(H);return D.reverse(),function W(){for(;D.length;){var Y=D.pop();if(Y in ae)return W.value=Y,W.done=!1,W}return W.done=!0,W}},S.values=ee,j.prototype={constructor:j,reset:function(D){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(re),!D)for(var H in this)H.charAt(0)==="t"&&b.call(this,H)&&!isNaN(+H.slice(1))&&(this[H]=void 0)},stop:function(){this.done=!0;var D=this.tryEntries[0].completion;if(D.type==="throw")throw D.arg;return this.rval},dispatchException:function(D){if(this.done)throw D;var H=this;function W(ge,Be){return ie.type="throw",ie.arg=D,H.next=ge,Be&&(H.method="next",H.arg=void 0),!!Be}for(var Y=this.tryEntries.length-1;Y>=0;--Y){var X=this.tryEntries[Y],ie=X.completion;if(X.tryLoc==="root")return W("end");if(X.tryLoc<=this.prev){var fe=b.call(X,"catchLoc"),be=b.call(X,"finallyLoc");if(fe&&be){if(this.prev<X.catchLoc)return W(X.catchLoc,!0);if(this.prev<X.finallyLoc)return W(X.finallyLoc)}else if(fe){if(this.prev<X.catchLoc)return W(X.catchLoc,!0)}else{if(!be)throw new Error("try statement without catch or finally");if(this.prev<X.finallyLoc)return W(X.finallyLoc)}}}},abrupt:function(D,H){for(var W=this.tryEntries.length-1;W>=0;--W){var Y=this.tryEntries[W];if(Y.tryLoc<=this.prev&&b.call(Y,"finallyLoc")&&this.prev<Y.finallyLoc){var X=Y;break}}X&&(D==="break"||D==="continue")&&X.tryLoc<=H&&H<=X.finallyLoc&&(X=null);var ie=X?X.completion:{};return ie.type=D,ie.arg=H,X?(this.method="next",this.next=X.finallyLoc,M):this.complete(ie)},complete:function(D,H){if(D.type==="throw")throw D.arg;return D.type==="break"||D.type==="continue"?this.next=D.arg:D.type==="return"?(this.rval=this.arg=D.arg,this.method="return",this.next="end"):D.type==="normal"&&H&&(this.next=H),M},finish:function(D){for(var H=this.tryEntries.length-1;H>=0;--H){var W=this.tryEntries[H];if(W.finallyLoc===D)return this.complete(W.completion,W.afterLoc),re(W),M}},catch:function(D){for(var H=this.tryEntries.length-1;H>=0;--H){var W=this.tryEntries[H];if(W.tryLoc===D){var Y=W.completion;if(Y.type==="throw"){var X=Y.arg;re(W)}return X}}throw new Error("illegal catch attempt")},delegateYield:function(D,H,W){return this.delegate={iterator:ee(D),resultName:H,nextLoc:W},this.method==="next"&&(this.arg=void 0),M}},S}E.exports=g,E.exports.__esModule=!0,E.exports.default=E.exports},8698:function(E){function _(r){return E.exports=_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},E.exports.__esModule=!0,E.exports.default=E.exports,_(r)}E.exports=_,E.exports.__esModule=!0,E.exports.default=E.exports},4687:function(E,_,r){var p=r(7061)();E.exports=p;try{regeneratorRuntime=p}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=p:Function("r","regeneratorRuntime = r")(p)}},7326:function(E,_,r){r.d(_,{Z:function(){return p}});function p(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}},5861:function(E,_,r){r.d(_,{Z:function(){return g}});function p(S,h,b,y,A,k,c){try{var f=S[k](c),l=f.value}catch(I){b(I);return}f.done?h(l):Promise.resolve(l).then(y,A)}function g(S){return function(){var h=this,b=arguments;return new Promise(function(y,A){var k=S.apply(h,b);function c(l){p(k,y,A,c,f,"next",l)}function f(l){p(k,y,A,c,f,"throw",l)}c(void 0)})}}},3144:function(E,_,r){r.d(_,{Z:function(){return g}});function p(S,h){for(var b=0;b<h.length;b++){var y=h[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(S,y.key,y)}}function g(S,h,b){return h&&p(S.prototype,h),b&&p(S,b),Object.defineProperty(S,"prototype",{writable:!1}),S}},4578:function(E,_,r){r.d(_,{Z:function(){return g}});var p=r(9611);function g(S,h){S.prototype=Object.create(h.prototype),S.prototype.constructor=S,(0,p.Z)(S,h)}},9611:function(E,_,r){r.d(_,{Z:function(){return p}});function p(g,S){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,y){return b.__proto__=y,b},p(g,S)}},2146:function(E,_,r){r.d(_,{Z:function(){return y}});function p(A){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)},p(A)}var g=r(9611);function S(A){return Function.toString.call(A).indexOf("[native code]")!==-1}function h(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function b(A,k,c){return h()?b=Reflect.construct.bind():b=function(l,I,M){var C=[null];C.push.apply(C,I);var O=Function.bind.apply(l,C),P=new O;return M&&(0,g.Z)(P,M.prototype),P},b.apply(null,arguments)}function y(A){var k=typeof Map=="function"?new Map:void 0;return y=function(f){if(f===null||!S(f))return f;if(typeof f!="function")throw new TypeError("Super expression must either be null or a function");if(typeof k<"u"){if(k.has(f))return k.get(f);k.set(f,l)}function l(){return b(f,arguments,p(this).constructor)}return l.prototype=Object.create(f.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),(0,g.Z)(l,f)},y(A)}}},i={};function a(E){var _=i[E];if(_!==void 0)return _.exports;var r=i[E]={exports:{}};return n[E](r,r.exports,a),r.exports}(function(){a.n=function(E){var _=E&&E.__esModule?function(){return E.default}:function(){return E};return a.d(_,{a:_}),_}})(),function(){a.d=function(E,_){for(var r in _)a.o(_,r)&&!a.o(E,r)&&Object.defineProperty(E,r,{enumerable:!0,get:_[r]})}}(),function(){a.o=function(E,_){return Object.prototype.hasOwnProperty.call(E,_)}}();var m={};return function(){a.d(m,{default:function(){return xg}});var E=a(3144),_=a(4578),r=a(6716),p=a(4727),g=a(3505),S=a(9127),h=a(278),b=a(6798),y=a(2566);function A(s,T){return T===void 0&&(T=h.y),s=s??k,(0,b.e)(function(d,o){var u,v=!0;d.subscribe((0,y.x)(o,function(R){var N=T(R);(v||!s(u,N))&&(v=!1,u=N,o.next(R))}))})}function k(s,T){return s===T}var c=a(1480),f=a(2817),l=a(7877),I=a(8515),M=a(9917),C={connector:function(){return new r.x},resetOnDisconnect:!0};function O(s,T){T===void 0&&(T=C);var d=null,o=T.connector,u=T.resetOnDisconnect,v=u===void 0?!0:u,R=o(),N=new c.y(function(G){return R.subscribe(G)});return N.connect=function(){return(!d||d.closed)&&(d=(0,M.P)(function(){return s}).subscribe(R),v&&d.add(function(){return R=o()})),d},N}var P=a(4975),$=a(5583),w=Array.isArray,U=Object.getPrototypeOf,z=Object.prototype,L=Object.keys;function x(s){if(s.length===1){var T=s[0];if(w(T))return{args:T,keys:null};if(Z(T)){var d=L(T);return{args:d.map(function(o){return T[o]}),keys:d}}}return{args:s,keys:null}}function Z(s){return s&&typeof s=="object"&&U(s)===z}var Q=a(3102),re=a(3211),j=a(2457);function ee(s,T){return s.reduce(function(d,o,u){return d[o]=T[u],d},{})}var ue=a(7845);function ae(){for(var s=[],T=0;T<arguments.length;T++)s[T]=arguments[T];var d=(0,j.yG)(s),o=(0,j.jO)(s),u=x(s),v=u.args,R=u.keys;if(v.length===0)return(0,Q.D)([],d);var N=new c.y(D(v,d,R?function(G){return ee(R,G)}:h.y));return o?N.pipe((0,re.Z)(o)):N}function D(s,T,d){return d===void 0&&(d=h.y),function(o){H(T,function(){for(var u=s.length,v=new Array(u),R=u,N=u,G=function(de){H(T,function(){var ce=(0,Q.D)(s[de],T),pe=!1;ce.subscribe((0,y.x)(o,function(Ee){v[de]=Ee,pe||(pe=!0,N--),N||o.next(d(v.slice()))},function(){--R||o.complete()}))},o)},te=0;te<u;te++)G(te)},o)}}function H(s,T,d){s?(0,ue.f)(d,s,T):T()}var W=a(6108),Y=a(2034),X=a(4978),ie=a(3071),fe=a(1545);function be(s){return(0,b.e)(function(T,d){var o=!1,u=0;T.subscribe((0,y.x)(d,function(v){return(o||(o=!s(v,u++)))&&d.next(v)}))})}var ge=a(2006),Be=a(1381);function Ke(s){var T=s;if(typeof T.getStartDate=="function"){var d=T.getStartDate();if(typeof d=="object"&&d!==null){var o=+d;if(!isNaN(o))return o/1e3}else if(typeof d=="number"&&!isNaN(d))return d}}function Ot(s){if(!He()){var T=s;typeof T.requestFullscreen=="function"?T.requestFullscreen():typeof T.msRequestFullscreen=="function"?T.msRequestFullscreen():typeof T.mozRequestFullScreen=="function"?T.mozRequestFullScreen():typeof T.webkitRequestFullscreen=="function"&&T.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}}function kt(){if(He()){var s=document;typeof s.exitFullscreen=="function"?s.exitFullscreen():typeof s.msExitFullscreen=="function"?s.msExitFullscreen():typeof s.mozCancelFullScreen=="function"?s.mozCancelFullScreen():typeof s.webkitExitFullscreen=="function"&&s.webkitExitFullscreen()}}function He(){var s=document;return s.fullscreenElement!=null||s.mozFullScreenElement!=null||s.webkitFullscreenElement!=null||s.msFullscreenElement!=null}var je=a(3666),ve=a(3887);function qe(){if(!je.vU)return ve.Z.warn("Compat: Can't access Firefox version on no firefox browser."),null;var s=navigator.userAgent,T=/Firefox\/([0-9]+)\./.exec(s);if(T===null)return-1;var d=parseInt(T[1],10);return isNaN(d)?-1:d}function bt(){if(!je.vU)return!0;var s=qe();if(s===null||s<67)return!0;var T=HTMLVideoElement==null?void 0:HTMLVideoElement.prototype;return(T==null?void 0:T.requirePictureInPicture)!==void 0}var vt=a(6872),et=a(3714),mt=a(8750),ht=a(5992),St=a(7874),tt=a(1989),dt=a(4791),Dt=a(1959),Ue=a(1946),jt=a(8026),hn=a(2829),Xt=a(5095),bn=a(288),Fn=a(8806),gr=a(5861),Ur=a(4687),Hn=a.n(Ur),Fr=a(6139),zr=a(770);function Oi(s){return Ei.apply(this,arguments)}function Ei(){return Ei=(0,gr.Z)(Hn().mark(function s(T){var d,o;return Hn().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(d=zr.Z.getState(T),d!==null){v.next=3;break}return v.abrupt("return");case 3:return ve.Z.info("DRM: Disposing of the current MediaKeys"),o=d.loadedSessionsStore,zr.Z.clearState(T),v.next=8,o.closeAllSessions();case 8:(0,Fr.Y)(T,null);case 9:case"end":return v.stop()}},s)})),Ei.apply(this,arguments)}function Vi(s){var T=zr.Z.getState(s);return T==null?null:T.keySystemOptions.type}function Di(){return je.fq}function xi(s){if(ve.Z.info("DRM: Clearing-up DRM session."),Di())return ve.Z.info("DRM: disposing current MediaKeys."),Oi(s);var T=zr.Z.getState(s);return T!==null&&T.keySystemOptions.closeSessionsOnStop===!0?(ve.Z.info("DRM: closing all current sessions."),T.loadedSessionsStore.closeAllSessions()):(ve.Z.info("DRM: Nothing to clear. Returning right away. No state =",T===null),Promise.resolve())}var Yr=a(811),kr=a(9105),Kr=a(9362);function Pr(s){return s instanceof kr.Z?new Kr.Z("PIPELINE_LOAD_ERROR",s):(0,mt.Z)(s,{defaultCode:"PIPELINE_LOAD_ERROR",defaultReason:"Unknown error when fetching the Manifest"})}function Hi(){return navigator.onLine===!1}var Gi=a(7839),$i=a(9822),ji=a(7864),na=a(2572),li=a(8894);function Ti(s){return s instanceof kr.Z?s.type===ht.br.ERROR_HTTP_CODE?s.status>=500||s.status===404||s.status===415||s.status===412:s.type===ht.br.TIMEOUT||s.type===ht.br.ERROR_EVENT:s instanceof Gi.Z?typeof s.canRetry=="boolean"?s.canRetry:s.xhr!==void 0?s.xhr.status>=500||s.xhr.status===404||s.xhr.status===415||s.xhr.status===412:!1:(0,$i.Z)(s)&&s.code==="INTEGRITY_ERROR"}function Me(s){return s instanceof kr.Z?s.type===ht.br.ERROR_EVENT&&Hi():s instanceof Gi.Z?s.isOfflineError:!1}function Fe(s){return Me(s)?2:1}function Qe(s,T,d,o,u){return Ye.apply(this,arguments)}function Ye(){return Ye=(0,gr.Z)(Hn().mark(function s(T,d,o,u,v){var R,N,G,te,de,ce,pe,Ee,Ae,Ie,Ne,De,$e,ze;return Hn().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:if(ze=function(st){var It;if(ce.size===0)return st[0];var Tt=performance.now();return(It=st.filter(function(Ve){var Pe;return((Pe=ce.get(Ve))===null||Pe===void 0?void 0:Pe.isBlacklisted)!==!0}).reduce(function(Ve,Pe){var Ut,Kt=(Ut=ce.get(Pe))===null||Ut===void 0?void 0:Ut.blockedUntil;return Kt!==void 0&&Kt<=Tt&&(Kt=void 0),Ve===void 0?[Pe,Kt]:Kt===void 0?Ve[1]===void 0?Ve:[Pe,void 0]:Ve[1]===void 0?Ve:Kt<Ve[1]?[Pe,Kt]:Ve},void 0))===null||It===void 0?void 0:It[0]},$e=function(st,It){var Tt=ce.get(st);if(Tt===void 0||Tt.blockedUntil===void 0)return Ae(st);var Ve=performance.now(),Pe=Tt.blockedUntil-Ve;if(Pe<=0)return Ae(st);var Ut=new bn.ZP({cancelOn:v});return new Promise(function(Kt,rn){d==null||d.addEventListener("priorityChange",function(){var mn=Ee();if(v.isCancelled)throw v.cancellationError;if(mn===void 0)return rn(It);mn!==st&&(Ut.cancel(),$e(mn,It).then(Kt,rn))},Ut.signal),(0,ji.Z)(Pe,Ut.signal).then(function(){return Ae(st).then(Kt,rn)},li.Z)})},De=function(){return De=(0,gr.Z)(Hn().mark(function st(It){var Tt;return Hn().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:if(Tt=Ee(),!v.isCancelled){Pe.next=3;break}throw v.cancellationError;case 3:if(Tt!==void 0){Pe.next=5;break}throw It;case 5:if(de(It),!v.isCancelled){Pe.next=8;break}throw v.cancellationError;case 8:return Pe.abrupt("return",$e(Tt,It));case 9:case"end":return Pe.stop()}},st)})),De.apply(this,arguments)},Ne=function(st){return De.apply(this,arguments)},Ie=function(){return Ie=(0,gr.Z)(Hn().mark(function st(It){var Tt,Ve,Pe,Ut,Kt,rn,mn;return Hn().wrap(function(Nt){for(;;)switch(Nt.prev=Nt.next){case 0:return Nt.prev=0,Nt.next=3,o(It,v);case 3:return Tt=Nt.sent,Nt.abrupt("return",Tt);case 7:if(Nt.prev=7,Nt.t0=Nt.catch(0),!bn.ZP.isCancellationError(Nt.t0)){Nt.next=11;break}throw Nt.t0;case 11:if(It!==null&&d!==null&&d.downgradeCdn(It),Ve=Fe(Nt.t0),Pe=ce.get(It),Pe===void 0?(Pe={errorCounter:1,lastErrorType:Ve,blockedUntil:void 0,isBlacklisted:!1},ce.set(It,Pe)):Ve!==Pe.lastErrorType?(Pe.errorCounter=1,Pe.lastErrorType=Ve):Pe.errorCounter++,Ti(Nt.t0)){Nt.next=19;break}return Pe.blockedUntil=void 0,Pe.isBlacklisted=!0,Nt.abrupt("return",Ne(Nt.t0));case 19:return Ut=Ve===2?te:G,Pe.errorCounter>Ut?(Pe.blockedUntil=void 0,Pe.isBlacklisted=!0):(Kt=Pe.errorCounter,rn=Math.min(R*Math.pow(2,Kt-1),N),mn=(0,na.Z)(rn),Pe.blockedUntil=performance.now()+mn),Nt.abrupt("return",Ne(Nt.t0));case 22:case"end":return Nt.stop()}},st,null,[[0,7]])})),Ie.apply(this,arguments)},Ae=function(st){return Ie.apply(this,arguments)},Ee=function(){if(T===null){var st=ce.get(null);return st!==void 0&&st.isBlacklisted?void 0:null}else{if(d===null)return ze(T);var It=d.getCdnPreferenceForResource(T);return ze(It)}},v.cancellationError===null){nt.next=9;break}return nt.abrupt("return",Promise.reject(v.cancellationError));case 9:if(R=u.baseDelay,N=u.maxDelay,G=u.maxRetryRegular,te=u.maxRetryOffline,de=u.onRetry,T!==null&&T.length===0&&ve.Z.warn("Fetchers: no CDN given to `scheduleRequestWithCdns`."),ce=new Map,pe=Ee(),pe!==void 0){nt.next=15;break}throw new Error("No CDN to request");case 15:return nt.abrupt("return",Ae(pe));case 16:case"end":return nt.stop()}},s)})),Ye.apply(this,arguments)}function ot(s,T,d){return Qe(null,null,s,T,d)}function Ht(s,T){var d=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(d)return(d=d.call(s)).next.bind(d);if(Array.isArray(s)||(d=Rt(s))||T&&s&&typeof s.length=="number"){d&&(s=d);var o=0;return function(){return o>=s.length?{done:!0}:{done:!1,value:s[o++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rt(s,T){if(s){if(typeof s=="string")return ct(s,T);var d=Object.prototype.toString.call(s).slice(8,-1);if(d==="Object"&&s.constructor&&(d=s.constructor.name),d==="Map"||d==="Set")return Array.from(s);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return ct(s,T)}}function ct(s,T){(T==null||T>s.length)&&(T=s.length);for(var d=0,o=new Array(T);d<T;d++)o[d]=s[d];return o}var wt=function(){function s(d,o,u){this._manifestUrl=d,this._pipelines=o.manifest,this._settings=u}var T=s.prototype;return T.fetch=function(o){var u=this;return new c.y(function(v){var R=u._settings,N=u._pipelines,G=o??u._manifestUrl,te=!1,de=new bn.ZP,ce=u._getBackoffSetting(function(Ie){v.next({type:"warning",value:Pr(Ie)})}),pe=N.resolveManifestUrl===void 0?Ae(G):Ee(G).then(Ae);return pe.then(function(Ie){te=!0,v.next({type:"response",parse:function(De){return u._parseLoadedManifest(Ie,De)}}),v.complete()}).catch(function(Ie){de.isUsed||(te=!0,v.error(Pr(Ie)))}),function(){te||de.cancel()};function Ee(Ie){var Ne=N.resolveManifestUrl;(0,Yr.Z)(Ne!==void 0);var De=function(){return Ne(Ie,de.signal)};return ot(De,ce,de.signal)}function Ae(Ie){var Ne=N.loadManifest,De=(0,Ue.Z)(R.requestTimeout)?vt.Z.getCurrent().DEFAULT_REQUEST_TIMEOUT:R.requestTimeout;De<0&&(De=void 0);var $e=function(){return Ne(Ie,{timeout:De},de.signal)};return ot($e,ce,de.signal)}})},T.parse=function(o,u){return this._parseLoadedManifest({responseData:o,size:void 0,requestDuration:void 0},u)},T._parseLoadedManifest=function(o,u){var v=this;return new c.y(function(R){var N=performance.now(),G=new bn.ZP,te=o.sendingTime,de=o.receivedTime,ce=v._getBackoffSetting(function(ze){R.next({type:"warning",value:Pr(ze)})}),pe={externalClockOffset:u.externalClockOffset,unsafeMode:u.unsafeMode,previousManifest:u.previousManifest,originalUrl:v._manifestUrl};try{var Ee=v._pipelines.parseManifest(o,pe,Ne,G.signal,Ae);on(Ee)?Ee.then(function(ze){var gt=ze.manifest;return De(gt)}).catch(function(ze){G.isUsed||$e(ze,!0)}):De(Ee.manifest)}catch(ze){if(G.isUsed)return;$e(ze,!0)}return function(){G.cancel()};function Ae(ze){return Ie.apply(this,arguments)}function Ie(){return Ie=(0,gr.Z)(Hn().mark(function ze(gt){var nt;return Hn().wrap(function(st){for(;;)switch(st.prev=st.next){case 0:return st.prev=0,st.next=3,ot(gt,ce,G.signal);case 3:return nt=st.sent,st.abrupt("return",nt);case 7:throw st.prev=7,st.t0=st.catch(0),Pr(st.t0);case 10:case"end":return st.stop()}},ze,null,[[0,7]])})),Ie.apply(this,arguments)}function Ne(ze){for(var gt=Ht(ze),nt;!(nt=gt()).done;){var rt=nt.value;if(G.isUsed)return;$e(rt,!1)}}function De(ze){Ne(ze.contentWarnings);var gt=performance.now()-N;ve.Z.info("MF: Manifest parsed in "+gt+"ms"),R.next({type:"parsed",manifest:ze,sendingTime:te,receivedTime:de,parsingTime:gt}),R.complete()}function $e(ze,gt){var nt=(0,mt.Z)(ze,{defaultCode:"PIPELINE_PARSE_ERROR",defaultReason:"Unknown error when parsing the Manifest"});gt?R.error(nt):R.next({type:"warning",value:nt})}})},T._getBackoffSetting=function(o){var u=vt.Z.getCurrent(),v=u.DEFAULT_MAX_MANIFEST_REQUEST_RETRY,R=u.DEFAULT_MAX_REQUESTS_RETRY_ON_OFFLINE,N=u.INITIAL_BACKOFF_DELAY_BASE,G=u.MAX_BACKOFF_DELAY_BASE,te=this._settings,de=te.lowLatencyMode,ce=te.maxRetryRegular,pe=te.maxRetryOffline,Ee=de?N.LOW_LATENCY:N.REGULAR,Ae=de?G.LOW_LATENCY:G.REGULAR,Ie=ce??v,Ne=pe??R;return{onRetry:o,baseDelay:Ee,maxDelay:Ae,maxRetryRegular:Ie,maxRetryOffline:Ne}},s}();function on(s){return s instanceof Promise}var Wt=wt,fn=a(3286),Jt=a(533);function Zt(s){return s===null||s.indexOf("widevine")<0}var pn=a(8333),On=a(2793),Sn=a(5278),Mn=a(5138);function Gn(s){var T=s.map(function(R){return Math.log(R/s[0])}),d=T.map(function(R){return R-T[0]+1}),o=(d[d.length-1]-1)/(s.length*2+10),u=1/o;return s.map(function(R,N){return v(N)});function v(R){if(R===0)return 0;var N=Math.min(Math.max(1,R),s.length-1);return s[N]===s[N-1]?v(R-1):u*(o+(s[N]*d[N-1]-s[N-1]*d[N])/(s[N]-s[N-1]))+4}}var dr=function(){function s(d){this._levelsMap=Gn(d),this._bitrates=d,ve.Z.debug("ABR: Steps for buffer based chooser.",this._levelsMap.map(function(o,u){return"bufferLevel: "+o+", bitrate: "+d[u]}).join(" ,"))}var T=s.prototype;return T.getEstimate=function(o){var u=this._levelsMap,v=this._bitrates,R=o.bufferGap,N=o.currentBitrate,G=o.currentScore,te=o.speed;if(N==null)return v[0];var de=(0,Mn.Z)(v,function(De){return De===N});if(de<0||v.length!==u.length)return ve.Z.error("ABR: Current Bitrate not found in the calculated levels"),v[0];var ce;if(G!=null&&(ce=te===0?G:G/te),ce!=null&&ce>1){var pe=u[de],Ee=function(){for(var De=de+1;De<u.length;De++)if(u[De]>pe)return De}();if(Ee!=null){var Ae=u[Ee];if(R>=Ae)return v[Ee]}}if(ce==null||ce<1.15){var Ie=u[de];if(R<Ie){for(var Ne=de-1;Ne>=0;Ne--)if(v[Ne]<N)return v[Ne];return N}}return N},s}(),Ln=a(3274),Nn=function(){function s(d){this._alpha=Math.exp(Math.log(.5)/d),this._lastEstimate=0,this._totalWeight=0}var T=s.prototype;return T.addSample=function(o,u){var v=Math.pow(this._alpha,o),R=u*(1-v)+v*this._lastEstimate;isNaN(R)||(this._lastEstimate=R,this._totalWeight+=o)},T.getEstimate=function(){var o=1-Math.pow(this._alpha,this._totalWeight);return this._lastEstimate/o},s}();function $n(s,T){for(var d=-1,o=0;o<s.length;o++){var u=s[o].content.segment;if(!(u.duration<=0)){var v=u.time+u.duration;if(!u.complete&&o===s.length-1&&T-u.time>-1.2){d=o;break}if(v>T&&T-u.time>-1.2){d=o;break}}}if(d<0)return[];for(var R=s[d],N=R.content.segment.time,G=[R],te=d+1;te<s.length&&s[te].content.segment.time===N;te++)G.push(s[te]);return G}function Yn(s){if(!(s.progress.length<5)){for(var T=new Nn(2),d=s.progress,o=1;o<d.length;o++){var u=d[o].size-d[o-1].size,v=d[o].timestamp-d[o-1].timestamp,R=u*8/(v/1e3);T.addSample(v/1e3,R)}return T.getEstimate()}}function qn(s,T){var d=(s.totalSize-s.size)*8;return Math.max(d/T,0)}function sr(s,T,d,o,u){if(!o){var v=T.bufferGap,R=T.speed,N=T.position,G=isFinite(v)?v:0,te=N.last+G,de=$n(s,te);if(de.length===1){var ce=de[0],pe=performance.now(),Ee=ce.progress.length>0?ce.progress[ce.progress.length-1]:void 0,Ae=Yn(ce);if(Ee!==void 0&&Ae!==void 0){var Ie=qn(Ee,Ae);if((pe-Ee.timestamp)/1e3<=Ie){var Ne=Ie-G/R;if(Ne>2e3)return Ae}}if(ce.content.segment.complete){var De=ce.content.segment.duration,$e=(pe-ce.requestTimestamp)/1e3,ze=$e<=(De*1.5+2)/R;if(!(d==null||ze)){var gt=De/$e,nt=d.bitrate*Math.min(.7,gt);if(u===void 0||nt<u)return nt}}}}}function or(s,T,d){if(d)return!0;var o=isFinite(s.bufferGap)?s.bufferGap:0,u=s.position.last+o,v=(0,Ln.Z)(T,function(ce){var pe=ce.content;return pe.segment.duration>0&&pe.segment.time+pe.segment.duration>u});if(v===void 0)return!0;var R=performance.now(),N=v.progress.length>0?v.progress[v.progress.length-1]:void 0,G=Yn(v);if(N===void 0||G===void 0)return!0;var te=qn(N,G);if((R-N.timestamp)/1e3>te*1.2)return!0;var de=te-o/s.speed;return de>-1.5}var Zn=function(){function s(d,o){var u=vt.Z.getCurrent(),v=u.ABR_STARVATION_GAP,R=u.OUT_OF_STARVATION_GAP,N=u.ABR_STARVATION_FACTOR,G=u.ABR_REGULAR_FACTOR;this._initialBitrate=d,this._inStarvationMode=!1,this._lowLatencyMode=o,o?this._config={starvationGap:v.LOW_LATENCY,outOfStarvationGap:R.LOW_LATENCY,starvationBitrateFactor:N.LOW_LATENCY,regularBitrateFactor:G.LOW_LATENCY}:this._config={starvationGap:v.DEFAULT,outOfStarvationGap:R.DEFAULT,starvationBitrateFactor:N.DEFAULT,regularBitrateFactor:G.DEFAULT}}var T=s.prototype;return T.getBandwidthEstimate=function(o,u,v,R,N){var G,te,de=this._config,ce=o.bufferGap,pe=o.position,Ee=o.duration,Ae=isFinite(ce)?ce:0,Ie=vt.Z.getCurrent(),Ne=Ie.ABR_STARVATION_DURATION_DELTA;return isNaN(Ee)||Ae+pe.last<Ee-Ne?!this._inStarvationMode&&Ae<=de.starvationGap?(ve.Z.info("ABR: enter starvation mode."),this._inStarvationMode=!0):this._inStarvationMode&&Ae>=de.outOfStarvationGap&&(ve.Z.info("ABR: exit starvation mode."),this._inStarvationMode=!1):this._inStarvationMode&&(ve.Z.info("ABR: exit starvation mode."),this._inStarvationMode=!1),this._inStarvationMode&&(te=sr(R,o,v,this._lowLatencyMode,N),te!=null&&(ve.Z.info("ABR: starvation mode emergency estimate:",te),u.reset(),G=v==null?te:Math.min(te,v.bitrate))),G==null&&(te=u.getEstimate(),te!=null?G=te*(this._inStarvationMode?de.starvationBitrateFactor:de.regularBitrateFactor):N!=null?G=N*(this._inStarvationMode?de.starvationBitrateFactor:de.regularBitrateFactor):G=this._initialBitrate),o.speed>1&&(G/=o.speed),{bandwidthEstimate:te,bitrateChosen:G}},T.isUrgent=function(o,u,v,R){return u===null?!0:o===u.bitrate?!1:o>u.bitrate?!this._inStarvationMode:or(R,v,this._lowLatencyMode)},s}();function ye(s,T){var d=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(d)return(d=d.call(s)).next.bind(d);if(Array.isArray(s)||(d=Te(s))||T&&s&&typeof s.length=="number"){d&&(s=d);var o=0;return function(){return o>=s.length?{done:!0}:{done:!1,value:s[o++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Te(s,T){if(s){if(typeof s=="string")return xe(s,T);var d=Object.prototype.toString.call(s).slice(8,-1);if(d==="Object"&&s.constructor&&(d=s.constructor.name),d==="Map"||d==="Set")return Array.from(s);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return xe(s,T)}}function xe(s,T){(T==null||T>s.length)&&(T=s.length);for(var d=0,o=new Array(T);d<T;d++)o[d]=s[d];return o}var Oe=function(){function s(d,o){this._scoreCalculator=d,this._lastAbrEstimate=o,this._consecutiveWrongGuesses=0,this._blockGuessesUntil=0,this._lastMaintanableBitrate=null}var T=s.prototype;return T.getGuess=function(o,u,v,R,N){var G=u.bufferGap,te=u.speed,de=this._lastAbrEstimate.representation;if(de===null)return null;if(R>de.bitrate)return this._lastAbrEstimate.algorithmType===2&&(this._lastAbrEstimate.representation!==null&&(this._lastMaintanableBitrate=this._lastAbrEstimate.representation.bitrate),this._consecutiveWrongGuesses=0),null;var ce=this._scoreCalculator.getEstimate(v);if(this._lastAbrEstimate.algorithmType!==2){if(ce===void 0)return null;if(this._canGuessHigher(G,te,ce)){var pe=Xe(o,v);if(pe!==null)return pe}return null}if(this._isLastGuessValidated(de,R,ce)&&(ve.Z.debug("ABR: Guessed Representation validated",de.bitrate),this._lastMaintanableBitrate=de.bitrate,this._consecutiveWrongGuesses=0),v.id!==de.id)return de;var Ee=this._shouldStopGuess(v,ce,G,N);if(Ee)return this._consecutiveWrongGuesses++,this._blockGuessesUntil=performance.now()+Math.min(this._consecutiveWrongGuesses*15e3,12e4),it(o,v);if(ce===void 0)return v;if(this._canGuessHigher(G,te,ce)){var Ae=Xe(o,v);if(Ae!==null)return Ae}return v},T._canGuessHigher=function(o,u,v){var R=v[0],N=v[1];return isFinite(o)&&o>=2.5&&performance.now()>this._blockGuessesUntil&&N===1&&R/u>1.01},T._shouldStopGuess=function(o,u,v,R){if(u!==void 0&&u[0]<1.01)return!0;if((u===void 0||u[0]<1.2)&&v<.6)return!0;for(var N=R.filter(function(Ae){return Ae.content.representation.id===o.id}),G=performance.now(),te=ye(N),de;!(de=te()).done;){var ce=de.value,pe=G-ce.requestTimestamp;if(ce.content.segment.isInit){if(pe>1e3)return!0}else{if(pe>ce.content.segment.duration*1e3+200)return!0;var Ee=Yn(ce);if(Ee!==void 0&&Ee<o.bitrate*.8)return!0}}return!1},T._isLastGuessValidated=function(o,u,v){return v!==void 0&&v[1]===1&&v[0]>1.5?!0:u>=o.bitrate&&(this._lastMaintanableBitrate===null||this._lastMaintanableBitrate<o.bitrate)},s}();function Xe(s,T){var d=s.length,o=(0,Mn.Z)(s,function(u){var v=u.id;return v===T.id});if(o<0)return ve.Z.error("ABR: Current Representation not found."),null;for(;++o<d;)if(s[o].bitrate>T.bitrate)return s[o];return null}function it(s,T){var d=(0,Mn.Z)(s,function(o){var u=o.id;return u===T.id});if(d<0)return ve.Z.error("ABR: Current Representation not found."),null;for(;--d>=0;)if(s[d].bitrate<T.bitrate)return s[d];return null}var At=function(){function s(){var d=vt.Z.getCurrent(),o=d.ABR_FAST_EMA,u=d.ABR_SLOW_EMA;this._fastEWMA=new Nn(o),this._slowEWMA=new Nn(u),this._bytesSampled=0}var T=s.prototype;return T.addSample=function(o,u){var v=vt.Z.getCurrent(),R=v.ABR_MINIMUM_CHUNK_SIZE;if(!(u<R)){var N=u*8e3/o,G=o/1e3;this._bytesSampled+=u,this._fastEWMA.addSample(G,N),this._slowEWMA.addSample(G,N)}},T.getEstimate=function(){var o=vt.Z.getCurrent(),u=o.ABR_MINIMUM_TOTAL_BYTES;if(!(this._bytesSampled<u))return Math.min(this._fastEWMA.getEstimate(),this._slowEWMA.getEstimate())},T.reset=function(){var o=vt.Z.getCurrent(),u=o.ABR_FAST_EMA,v=o.ABR_SLOW_EMA;this._fastEWMA=new Nn(u),this._slowEWMA=new Nn(v),this._bytesSampled=0},s}();function Ft(s,T){if(s.length===0)return[];s.sort(function(v,R){return v.bitrate-R.bitrate});var d=s[0].bitrate,o=Math.max(T,d),u=(0,Mn.Z)(s,function(v){return v.bitrate>o});return u===-1?s:s.slice(0,u)}function Qt(s,T){var d=s.slice().sort(function(v,R){return(0,Sn.Z)(v.width,0)-(0,Sn.Z)(R.width,0)}),o=(0,Ln.Z)(d,function(v){return typeof v.width=="number"&&v.width>=T});if(o===void 0)return s;var u=typeof o.width=="number"?o.width:0;return s.filter(function(v){return typeof v.width=="number"?v.width<=u:!0})}var Gt=function(){function s(){this.bandwidth=void 0,this.representation=null,this.algorithmType=3}var T=s.prototype;return T.update=function(o,u,v){this.representation=o,this.bandwidth=u,this.algorithmType=v},s}(),Mt=a(1679),Vt=function(){function s(){this._currentRequests={}}var T=s.prototype;return T.add=function(o){var u=o.id,v=o.requestTimestamp,R=o.content;this._currentRequests[u]={requestTimestamp:v,progress:[],content:R}},T.addProgress=function(o){var u=this._currentRequests[o.id];if(u==null){ve.Z.warn("ABR: progress for a request not added");return}u.progress.push(o)},T.remove=function(o){this._currentRequests[o]==null&&ve.Z.warn("ABR: can't remove unknown request"),delete this._currentRequests[o]},T.getRequests=function(){return(0,Mt.Z)(this._currentRequests).filter(function(o){return o!=null}).sort(function(o,u){return o.content.segment.time-u.content.segment.time})},s}(),Bt=function(){function s(){this._currentRepresentationData=null,this._lastRepresentationWithGoodScore=null}var T=s.prototype;return T.addSample=function(o,u,v){var R=v/u,N=this._currentRepresentationData,G;N!==null&&N.representation.id===o.id?(G=N.ewma,N.ewma.addSample(u,R),N.loadedDuration+=v,N.loadedSegments++):(G=new Nn(5),G.addSample(u,R),this._currentRepresentationData={representation:o,ewma:G,loadedDuration:v,loadedSegments:0}),G.getEstimate()>1&&this._lastRepresentationWithGoodScore!==o&&(ve.Z.debug("ABR: New last stable representation",o.bitrate),this._lastRepresentationWithGoodScore=o)},T.getEstimate=function(o){if(!(this._currentRepresentationData===null||this._currentRepresentationData.representation.id!==o.id)){var u=this._currentRepresentationData,v=u.ewma,R=u.loadedSegments,N=u.loadedDuration,G=v.getEstimate(),te=R>=5&&N>=10?1:0;return[G,te]}},T.getLastStableRepresentation=function(){return this._lastRepresentationWithGoodScore},s}();function Yt(s,T,d,o){var u=T<=d?d:T>=o?o:T,v=(0,Mn.Z)(s,function(R){return R.bitrate>u});return v===-1?s[s.length-1]:v===0?s[0]:s[v-1]}function Lt(s){var T={},d=s.manualBitrates,o=s.minAutoBitrates,u=s.maxAutoBitrates,v=s.initialBitrates,R=s.throttlers,N=s.lowLatencyMode;return function(de,ce,pe,Ee,Ae){var Ie=de.adaptation.type,Ne=G(Ie),De=(0,Sn.Z)(d[Ie],(0,Xt.ZP)(-1)),$e=(0,Sn.Z)(o[Ie],(0,Xt.ZP)(0)),ze=(0,Sn.Z)(u[Ie],(0,Xt.ZP)(1/0)),gt=(0,Sn.Z)(v[Ie],0),nt={limitWidth:(0,Sn.Z)(R.limitWidth[Ie],(0,Xt.ZP)(void 0)),throttleBitrate:(0,Sn.Z)(R.throttleBitrate[Ie],R.throttle[Ie],(0,Xt.ZP)(1/0))};return tn({bandwidthEstimator:Ne,context:de,currentRepresentation:ce,filters:nt,initialBitrate:gt,manualBitrate:De,minAutoBitrate:$e,maxAutoBitrate:ze,playbackObserver:Ee,representations:pe,lowLatencyMode:N},Ae)};function G(te){var de=T[te];if(de==null){ve.Z.debug("ABR: Creating new BandwidthEstimator for ",te);var ce=new At;return T[te]=ce,ce}return de}}function tn(s,T){var d=s.bandwidthEstimator,o=s.context,u=s.currentRepresentation,v=s.filters,R=s.initialBitrate,N=s.lowLatencyMode,G=s.manualBitrate,te=s.maxAutoBitrate,de=s.minAutoBitrate,ce=s.playbackObserver,pe=s.representations,Ee=new Bt,Ae=new Zn(R??0,N),Ie=new Vt,Ne=li.Z,De={metrics:rt,requestBegin:st,requestProgress:It,requestEnd:Tt,addedSegment:function(Pe){Ne(Pe)}},$e=new bn.ZP({cancelOn:T}),ze=gt(G.getValue(),pe.getValue(),$e.signal);return G.onUpdate(nt,{clearSignal:T}),pe.onUpdate(nt,{clearSignal:T}),{estimates:ze,callbacks:De};function gt(Ve,Pe,Ut){if(Ve>=0){var Kt=Yt(Pe,Ve,0,1/0);return(0,Xt.ZP)({representation:Kt,bitrate:void 0,knownStableBitrate:void 0,manual:!0,urgent:!0})}if(Pe.length===1)return(0,Xt.ZP)({bitrate:void 0,representation:Pe[0],manual:!1,urgent:!0,knownStableBitrate:void 0});var rn=!1,mn,en=Pe.map(function(Un){return Un.bitrate}),Nt=new dr(en),zt=new Gt,$t=new Oe(Ee,zt),Pn=ce.getReference().getValue(),Bn=(0,Xt.ZP)(er());return ce.listen(function(Un){Pn=Un,Qn()},{includeLastObservation:!1,clearSignal:Ut}),Ne=function(cr){if(Pn!==null){var zn=Pn,Sr=zn.position,Ar=zn.speed,xr=cr.buffered,Xn=(0,hn.L7)(xr,Sr.last),Mr=cr.content.representation,Lr=Ee.getEstimate(Mr),Yi=Lr==null?void 0:Lr[0],ci=Mr.bitrate,ua={bufferGap:Xn,currentBitrate:ci,currentScore:Yi,speed:Ar};mn=Nt.getEstimate(ua),Qn()}},de.onUpdate(Qn,{clearSignal:Ut}),te.onUpdate(Qn,{clearSignal:Ut}),v.limitWidth.onUpdate(Qn,{clearSignal:Ut}),v.limitWidth.onUpdate(Qn,{clearSignal:Ut}),Bn;function Qn(){Bn.setValue(er())}function er(){var Un=Pn,cr=Un.bufferGap,zn=Un.position,Sr=Un.maximumPosition,Ar=v.limitWidth.getValue(),xr=v.throttleBitrate.getValue(),Xn=u.getValue(),Mr=de.getValue(),Lr=te.getValue(),Yi=An(Pe,Ar,xr),ci=Ie.getRequests(),ua=Ae.getBandwidthEstimate(Pn,d,Xn,ci,zt.bandwidth),Ai=ua.bandwidthEstimate,Hs=ua.bitrateChosen,ru=Ee.getLastStableRepresentation(),Wu=ru===null?void 0:ru.bitrate/(Pn.speed>0?Pn.speed:1);rn&&cr<=5?rn=!1:!rn&&isFinite(cr)&&cr>10&&(rn=!0);var ya=Yt(Yi,Hs,Mr,Lr),iu=ya.bitrate,wi=null;rn&&mn!==void 0&&mn>iu&&(wi=Yt(Yi,mn,Mr,Lr),iu=wi.bitrate);var Ni=null;return N&&Xn!==null&&o.manifest.isDynamic&&Sr-zn.last<40&&(Ni=$t.getGuess(Pe,Pn,Xn,iu,ci)),Ni!==null&&Ni.bitrate>iu?(ve.Z.debug("ABR: Choosing representation with guess-based estimation.",Ni.bitrate,Ni.id),zt.update(Ni,Ai,2),{bitrate:Ai,representation:Ni,urgent:Xn===null||Ni.bitrate<Xn.bitrate,manual:!1,knownStableBitrate:Wu}):wi!==null?(ve.Z.debug("ABR: Choosing representation with buffer-based estimation.",wi.bitrate,wi.id),zt.update(wi,Ai,0),{bitrate:Ai,representation:wi,urgent:Ae.isUrgent(wi.bitrate,Xn,ci,Pn),manual:!1,knownStableBitrate:Wu}):(ve.Z.debug("ABR: Choosing representation with bandwidth estimation.",ya.bitrate,ya.id),zt.update(ya,Ai,1),{bitrate:Ai,representation:ya,urgent:Ae.isUrgent(ya.bitrate,Xn,ci,Pn),manual:!1,knownStableBitrate:Wu})}}function nt(){var Ve=G.getValue(),Pe=pe.getValue();$e.cancel(),$e=new bn.ZP({cancelOn:T});var Ut=gt(Ve,Pe,$e.signal);Ut.onUpdate(function(rn){ze.setValue(rn)},{clearSignal:$e.signal,emitCurrentValue:!0})}function rt(Ve){var Pe=Ve.requestDuration,Ut=Ve.segmentDuration,Kt=Ve.size,rn=Ve.content;if(d.addSample(Pe,Kt),!rn.segment.isInit){var mn=rn.segment,en=rn.representation;if(Ut===void 0&&!mn.complete)return;var Nt=Ut??mn.duration;Ee.addSample(en,Pe/1e3,Nt)}}function st(Ve){Ie.add(Ve)}function It(Ve){Ie.addProgress(Ve)}function Tt(Ve){Ie.remove(Ve.id)}}function An(s,T,d){var o=s;return d<1/0&&(o=Ft(o,d)),T!==void 0&&(o=Qt(o,T)),o}var vn=Lt;function In(s,T){var d=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(d)return(d=d.call(s)).next.bind(d);if(Array.isArray(s)||(d=xn(s))||T&&s&&typeof s.length=="number"){d&&(s=d);var o=0;return function(){return o>=s.length?{done:!0}:{done:!1,value:s[o++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xn(s,T){if(s){if(typeof s=="string")return K(s,T);var d=Object.prototype.toString.call(s).slice(8,-1);if(d==="Object"&&s.constructor&&(d=s.constructor.name),d==="Map"||d==="Set")return Array.from(s);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return K(s,T)}}function K(s,T){(T==null||T>s.length)&&(T=s.length);for(var d=0,o=new Array(T);d<T;d++)o[d]=s[d];return o}var B=function(s){(0,_.Z)(T,s);function T(o){var u;return u=s.call(this)||this,u._downgradedCdnList={metadata:[],timeouts:[]},o.register(function(){for(var v=In(u._downgradedCdnList.timeouts),R;!(R=v()).done;){var N=R.value;clearTimeout(N)}u._downgradedCdnList={metadata:[],timeouts:[]}}),u}var d=T.prototype;return d.getCdnPreferenceForResource=function(u){return u.length<=1?u:this._innerGetCdnPreferenceForResource(u)},d.downgradeCdn=function(u){var v=this,R=V(this._downgradedCdnList.metadata,u);R>=0&&this._removeIndexFromDowngradeList(R);var N=vt.Z.getCurrent(),G=N.DEFAULT_CDN_DOWNGRADE_TIME,te=G;this._downgradedCdnList.metadata.push(u);var de=window.setTimeout(function(){var ce=V(v._downgradedCdnList.metadata,u);ce>=0&&v._removeIndexFromDowngradeList(ce),v.trigger("priorityChange",null)},te);this._downgradedCdnList.timeouts.push(de),this.trigger("priorityChange",null)},d._innerGetCdnPreferenceForResource=function(u){var v=this,R=u.reduce(function(te,de){return v._downgradedCdnList.metadata.some(function(ce){return ce.id===de.id&&ce.baseUrl===de.baseUrl})?te[1].push(de):te[0].push(de),te},[[],[]]),N=R[0],G=R[1];return N.concat(G)},d._removeIndexFromDowngradeList=function(u){this._downgradedCdnList.metadata.splice(u,1);var v=this._downgradedCdnList.timeouts.splice(u,1);clearTimeout(v[0])},T}(Dt.Z);function V(s,T){return s.length===0?-1:T.id!==void 0?(0,Mn.Z)(s,function(d){return d.id===T.id}):(0,Mn.Z)(s,function(d){return d.baseUrl===T.baseUrl})}function F(s,T){var d=new WeakMap;return{createRequest:function(u,v,R,N){var G=function(ce){return T(u,R,ce)},te=s.create(G,v,R,N);return d.set(te,G),te},updatePriority:function(u,v){var R=d.get(u);if(R===void 0){ve.Z.warn("Fetchers: Cannot update the priority of a request: task not found.");return}s.updatePriority(R,v)}}}var se=a(520),ne=a(7714),Se=a(908),Re=function(){function s(){this._cache=new WeakMap}var T=s.prototype;return T.add=function(o,u){var v=o.representation,R=o.segment;R.isInit&&this._cache.set(v,u)},T.get=function(o){var u=o.representation,v=o.segment;if(v.isInit){var R=this._cache.get(u);if(R!==void 0)return R}return null},s}(),Ce=Re,We=(0,Se.Z)();function Je(s,T,d,o,u){var v={timeout:u.requestTimeout<0?void 0:u.requestTimeout},R=(0,ne.Z)(["audio","video"],s)?new Ce:void 0,N=T.loadSegment,G=T.parseSegment;return function(){var te=(0,gr.Z)(Hn().mark(function ce(pe,Ee,Ae){var Ie,Ne,De,$e,ze,gt,nt,rt,st,It,Tt,Ve,Pe,Ut,Kt,rn;return Hn().wrap(function(en){for(;;)switch(en.prev=en.next){case 0:if(rn=function(){var zt;rt||!(0,Ue.Z)(ze)&&ze.size!==void 0&&ze.requestDuration!==void 0&&gt.length>0&&gt.every(function($t){return $t})&&(rt=!0,(zt=o.onMetrics)===null||zt===void 0||zt.call(o,{size:ze.size,requestDuration:ze.requestDuration,content:pe,segmentDuration:nt}))},Kt=function(zt){Ee.onRetry(Pr(zt))},Ut=function(zt,$t){gt.push(!1);var Pn=gt.length-1;return function(Qn){var er={data:zt,isChunked:$t};try{var Un=G(er,pe,Qn);return gt[Pn]||(nt=nt!==void 0&&Un.segmentType==="media"&&Un.chunkInfos!==null&&Un.chunkInfos.duration!==void 0?nt+Un.chunkInfos.duration:void 0,gt[Pn]=!0,rn()),Un}catch(cr){throw(0,mt.Z)(cr,{defaultCode:"PIPELINE_PARSE_ERROR",defaultReason:"Unknown parsing error"})}}},Pe=function(zt){return N(zt,pe,v,Ae,st)},De=(0,se.K)(pe),$e=We(),gt=[],nt=0,rt=!1,st={onProgress:function(zt){var $t;ze===void 0&&zt.totalSize!==void 0&&zt.size<zt.totalSize&&(($t=o.onProgress)===null||$t===void 0||$t.call(o,{duration:zt.duration,size:zt.size,totalSize:zt.totalSize,timestamp:performance.now(),id:$e}))},onNewChunk:function(zt){Ee.onChunk(Ut(zt,!0))}},It=R!==void 0?R.get(pe):null,It===null){en.next=15;break}return ve.Z.debug("SF: Found wanted segment in cache",De),Ee.onChunk(Ut(It,!1)),en.abrupt("return",Promise.resolve());case 15:return ve.Z.debug("SF: Beginning request",De),(Ie=o.onRequestBegin)===null||Ie===void 0||Ie.call(o,{requestTimestamp:performance.now(),id:$e,content:pe}),Ae.register(function(){var Nt;ze===void 0&&(ve.Z.debug("SF: Segment request cancelled",De),ze=null,(Nt=o.onRequestEnd)===null||Nt===void 0||Nt.call(o,{id:$e}))}),en.prev=18,en.next=21,Qe(pe.representation.cdnMetadata,d,Pe,(0,jt.Z)({onRetry:Kt},u),Ae);case 21:Tt=en.sent,Tt.resultType==="segment-loaded"?(Ve=Tt.resultData.responseData,R!==void 0&&R.add(pe,Tt.resultData.responseData),Ee.onChunk(Ut(Ve,!1))):Tt.resultType==="segment-created"&&Ee.onChunk(Ut(Tt.resultData,!1)),ve.Z.debug("SF: Segment request ended with success",De),Ee.onAllChunksReceived(),Tt.resultType!=="segment-created"?(ze=Tt.resultData,rn()):ze=null,Ae.isCancelled||(Ne=o.onRequestEnd)===null||Ne===void 0||Ne.call(o,{id:$e}),en.next=37;break;case 29:if(en.prev=29,en.t0=en.catch(18),ze=null,!(en.t0 instanceof bn.FU)){en.next=35;break}throw ve.Z.debug("SF: Segment request aborted",De),en.t0;case 35:throw ve.Z.debug("SF: Segment request failed",De),Pr(en.t0);case 37:case"end":return en.stop()}},ce,null,[[18,29]])}));function de(ce,pe,Ee){return te.apply(this,arguments)}return de}()}function at(s,T){var d=T.maxRetryRegular,o=T.maxRetryOffline,u=T.lowLatencyMode,v=T.requestTimeout,R=vt.Z.getCurrent(),N=R.DEFAULT_MAX_REQUESTS_RETRY_ON_ERROR,G=R.DEFAULT_REQUEST_TIMEOUT,te=R.DEFAULT_MAX_REQUESTS_RETRY_ON_OFFLINE,de=R.INITIAL_BACKOFF_DELAY_BASE,ce=R.MAX_BACKOFF_DELAY_BASE;return{maxRetryRegular:s==="image"?0:d??N,maxRetryOffline:o??te,baseDelay:u?de.LOW_LATENCY:de.REGULAR,maxDelay:u?ce.LOW_LATENCY:ce.REGULAR,requestTimeout:(0,Ue.Z)(v)?G:v}}var Le=function(){function s(d){var o=d.prioritySteps;if(this._minPendingPriority=null,this._waitingQueue=[],this._pendingTasks=[],this._prioritySteps=o,this._prioritySteps.high>=this._prioritySteps.low)throw new Error("TP: the max high level priority should be given a lowerpriority number than the min low priority.")}var T=s.prototype;return T.create=function(o,u,v,R){var N=this,G;return new Promise(function(te,de){var ce=function(){if(G.hasEnded){pe();return}var De=new bn.ZP({cancelOn:R});G.interrupter=De,De.signal.register(function(){G.interrupter=null,R.isCancelled||v.beforeInterrupted()}),N._minPendingPriority=N._minPendingPriority===null?G.priority:Math.min(N._minPendingPriority,G.priority),N._pendingTasks.push(G),G.taskFn(De.signal).then(Ae).catch(function($e){!R.isCancelled&&De.isUsed&&$e instanceof bn.FU||Ie($e)})},pe=R.register(function(Ne){N._endTask(G),de(Ne)}),Ee=function(){pe(),N._endTask(G)},Ae=function(De){v.beforeEnded(),Ee(),te(De)},Ie=function(De){Ee(),de(De)};G={hasEnded:!1,priority:u,trigger:ce,taskFn:o,interrupter:null},N._canBeStartedNow(G)?(G.trigger(),N._isRunningHighPriorityTasks()&&N._interruptCancellableTasks()):N._waitingQueue.push(G)})},T._endTask=function(o){o.hasEnded=!0;var u=ut(o.taskFn,this._waitingQueue);if(u>=0)this._waitingQueue.splice(u,1);else{var v=ut(o.taskFn,this._pendingTasks);if(v<0)return;this._pendingTasks.splice(v,1),this._pendingTasks.length>0?this._minPendingPriority===o.priority&&(this._minPendingPriority=Math.min.apply(Math,this._pendingTasks.map(function(R){return R.priority}))):this._minPendingPriority=null,this._loopThroughWaitingQueue()}},T.updatePriority=function(o,u){var v=ut(o,this._waitingQueue);if(v>=0){var R=this._waitingQueue[v];if(R.priority===u||(R.priority=u,!this._canBeStartedNow(R)))return;this._findAndRunWaitingQueueTask(v),this._isRunningHighPriorityTasks()&&this._interruptCancellableTasks();return}var N=ut(o,this._pendingTasks);if(N<0){ve.Z.warn("TP: request to update the priority of a non-existent task");return}var G=this._pendingTasks[N];if(G.priority!==u){var te=G.priority;G.priority=u,this._minPendingPriority===null||u<this._minPendingPriority?this._minPendingPriority=u:this._minPendingPriority===te&&(this._pendingTasks.length===1?this._minPendingPriority=u:this._minPendingPriority=Math.min.apply(Math,this._pendingTasks.map(function(de){return de.priority})),this._loopThroughWaitingQueue()),this._isRunningHighPriorityTasks()&&this._interruptCancellableTasks()}},T._loopThroughWaitingQueue=function(){var o=this._waitingQueue.reduce(function(N,G){return N===null||N>G.priority?G.priority:N},null);if(!(o===null||this._minPendingPriority!==null&&this._minPendingPriority<o))for(var u=0;u<this._waitingQueue.length;u++){var v=this._minPendingPriority===null?o:Math.min(this._minPendingPriority,o),R=this._waitingQueue[u];R.priority<=v&&(this._findAndRunWaitingQueueTask(u),u--)}},T._interruptCancellableTasks=function(){for(var o=0;o<this._pendingTasks.length;o++){var u=this._pendingTasks[o];if(u.priority>=this._prioritySteps.low)return this._interruptPendingTask(u),this._interruptCancellableTasks()}},T._findAndRunWaitingQueueTask=function(o){if(o>=this._waitingQueue.length||o<0)return ve.Z.warn("TP : Tried to start a non existing task"),!1;var u=this._waitingQueue.splice(o,1)[0];return u.trigger(),!0},T._interruptPendingTask=function(o){var u,v=ut(o.taskFn,this._pendingTasks);if(v<0){ve.Z.warn("TP: Interrupting a non-existent pending task. Aborting...");return}this._pendingTasks.splice(v,1),this._waitingQueue.push(o),this._pendingTasks.length===0?this._minPendingPriority=null:this._minPendingPriority===o.priority&&(this._minPendingPriority=Math.min.apply(Math,this._pendingTasks.map(function(R){return R.priority}))),(u=o.interrupter)===null||u===void 0||u.cancel()},T._canBeStartedNow=function(o){return this._minPendingPriority===null||o.priority<=this._minPendingPriority},T._isRunningHighPriorityTasks=function(){return this._minPendingPriority!==null&&this._minPendingPriority<=this._prioritySteps.high},s}();function ut(s,T){return(0,Mn.Z)(T,function(d){return d.taskFn===s})}var yt=function(){function s(d,o,u){var v=new B(u),R=vt.Z.getCurrent(),N=R.MIN_CANCELABLE_PRIORITY,G=R.MAX_HIGH_PRIORITY_LEVEL;this._transport=d,this._prioritizer=new Le({prioritySteps:{high:G,low:N}}),this._cdnPrioritizer=v,this._backoffOptions=o}var T=s.prototype;return T.createSegmentFetcher=function(o,u){var v=at(o,this._backoffOptions),R=this._transport[o],N=Je(o,R,this._cdnPrioritizer,u,v);return F(this._prioritizer,N)},s}(),lt=yt,_t=a(5767),Et=a(3774),Pt=a(6923),qt=Be.ym;function an(s,T,d){if(T!==null&&T.readyState!=="closed"){for(var o=T.readyState,u=T.sourceBuffers,v=u.length-1;v>=0;v--){var R=u[v];try{o==="open"&&(ve.Z.info("Init: Removing SourceBuffer from mediaSource"),R.abort()),T.removeSourceBuffer(R)}catch(N){ve.Z.warn("Init: Error while disposing SourceBuffer",N instanceof Error?N:"")}}u.length>0&&ve.Z.warn("Init: Not all SourceBuffers could have been removed.")}if((0,_t.Z)(s),d!==null)try{ve.Z.debug("Init: Revoking previous URL"),URL.revokeObjectURL(d)}catch(N){ve.Z.warn("Init: Error while revoking the media source URL",N instanceof Error?N:"")}}function un(s){return new c.y(function(T){if(Et.J==null)throw new et.Z("MEDIA_SOURCE_NOT_SUPPORTED","No MediaSource Object was found in the current browser.");var d=(0,Pt.Z)(s.src)?s.src:null;an(s,null,d),ve.Z.info("Init: Creating MediaSource");var o=new Et.J,u=URL.createObjectURL(o);return ve.Z.info("Init: Attaching MediaSource URL to the media element",u),s.src=u,T.next(o),function(){an(s,o,u)}})}function cn(s){return un(s).pipe((0,l.z)(function(T){return qt(T).pipe((0,p.q)(1),(0,S.U)(function(){return T}))}))}var ln=a(8343);function dn(s,T,d){if(!(0,Ue.Z)(d)){var o=s.getMinimumSafePosition(),u;if(s.isLive&&(u=s.getLivePosition()),u===void 0&&(u=s.getMaximumSafePosition()),(0,Ue.Z)(d.position))if((0,Ue.Z)(d.wallClockTime))if((0,Ue.Z)(d.fromFirstPosition))if((0,Ue.Z)(d.fromLastPosition)){if(!(0,Ue.Z)(d.percentage)){ve.Z.debug("Init: using startAt.percentage");var te=d.percentage;if(te>100)return u;if(te<0)return o;var de=+te/100,ce=u-o;return o+ce*de}}else{ve.Z.debug("Init: using startAt.fromLastPosition");var G=d.fromLastPosition;return G>=0?u:Math.max(o,u+G)}else{ve.Z.debug("Init: using startAt.fromFirstPosition");var N=d.fromFirstPosition;return N<=0?o:Math.min(u,o+N)}else{ve.Z.debug("Init: using startAt.wallClockTime");var v=s.availabilityStartTime===void 0?0:s.availabilityStartTime,R=d.wallClockTime-v;return Math.max(Math.min(R,u),o)}else return ve.Z.debug("Init: using startAt.minimumPosition"),Math.max(Math.min(d.position,u),o)}var pe=s.getMinimumSafePosition();if(s.isLive){var Ee=s.suggestedPresentationDelay,Ae=s.clockOffset,Ie=s.getMaximumSafePosition(),Ne,De=vt.Z.getCurrent(),$e=De.DEFAULT_LIVE_GAP;if(Ae===void 0)ve.Z.info("Init: no clock offset found for a live content, starting close to maximum available position"),Ne=Ie;else{ve.Z.info("Init: clock offset found for a live content, checking if we can start close to it");var ze=s.availabilityStartTime===void 0?0:s.availabilityStartTime,gt=(performance.now()+Ae)/1e3-ze;Ne=Math.min(Ie,gt)}var nt=Ee!==void 0?Ee:T?$e.LOW_LATENCY:$e.DEFAULT;return ve.Z.debug("Init: "+Ne+" defined as the live time, applying a live gap"+(" of "+nt)),Math.max(Ne-nt,pe)}return ve.Z.info("Init: starting at the minimum available position:",pe),pe}var Cn=a(9607),wn=a(3610),gn=a(7326);function En(s,T){if(typeof s.changeType=="function"){try{s.changeType(T)}catch(d){return ve.Z.warn("Could not call 'changeType' on the given SourceBuffer:",d instanceof Error?d:""),!1}return!0}return!1}var Kn=a(7904),J=a(6968),oe=a(2870),q=a(9612),le=function(s){(0,_.Z)(T,s);function T(o,u,v){var R;R=s.call(this)||this;var N=v.addSourceBuffer(u);R._canceller=new bn.ZP,R.bufferType=o,R._mediaSource=v,R._sourceBuffer=N,R._queue=[],R._pendingTask=null,R._lastInitSegment=null,R.codec=u;var G=R._onPendingTaskError.bind((0,gn.Z)(R)),te=R._flush.bind((0,gn.Z)(R)),de=vt.Z.getCurrent(),ce=de.SOURCE_BUFFER_FLUSHING_INTERVAL,pe=setInterval(te,ce);return R._sourceBuffer.addEventListener("error",G),R._sourceBuffer.addEventListener("updateend",te),R._canceller.signal.register(function(){clearInterval(pe),R._sourceBuffer.removeEventListener("error",G),R._sourceBuffer.removeEventListener("updateend",te)}),R}var d=T.prototype;return d.pushChunk=function(u,v){return ve.Z.debug("AVSB: receiving order to push data to the SourceBuffer",this.bufferType,(0,se.K)(u.inventoryInfos)),this._addToQueue({type:q.f.Push,value:u},v)},d.removeBuffer=function(u,v,R){return ve.Z.debug("AVSB: receiving order to remove data from the SourceBuffer",this.bufferType,u,v),this._addToQueue({type:q.f.Remove,value:{start:u,end:v}},R)},d.endOfSegment=function(u,v){return ve.Z.debug("AVSB: receiving order for validating end of segment",this.bufferType,(0,se.K)(u)),this._addToQueue({type:q.f.EndOfSegment,value:u},v)},d.getBufferedRanges=function(){return this._sourceBuffer.buffered},d.getPendingOperations=function(){var u=function(N){switch(N.type){case q.f.Push:return{type:N.type,value:N.value};case q.f.Remove:return{type:N.type,value:N.value};case q.f.EndOfSegment:return{type:N.type,value:N.value}}},v=this._queue.map(u);return this._pendingTask===null?v:[u(this._pendingTask)].concat(v)},d.dispose=function(){for(this._canceller.cancel(),this._pendingTask!==null&&(this._pendingTask.reject(new bn.FU),this._pendingTask=null);this._queue.length>0;){var u=this._queue.shift();u!==void 0&&u.reject(new bn.FU)}if(this._mediaSource.readyState==="open")try{this._sourceBuffer.abort()}catch(v){ve.Z.warn("AVSB: Failed to abort a "+this.bufferType+" SourceBuffer:",v instanceof Error?v:"")}},d._onPendingTaskError=function(u){if(this._lastInitSegment=null,this._pendingTask!==null){var v=u instanceof Error?u:new Error("An unknown error occured when doing operations on the SourceBuffer");this._pendingTask.reject(v)}},d._addToQueue=function(u,v){var R=this;return new Promise(function(N,G){if(v.cancellationError!==null)return G(v.cancellationError);var te=R._queue.length===0&&R._pendingTask===null,de=(0,jt.Z)({resolve:N,reject:G},u);R._queue.push(de),v.register(function(ce){var pe=R._queue.indexOf(de);pe>=0&&R._queue.splice(pe,1),de.resolve=li.Z,de.reject=li.Z,G(ce)}),te&&R._flush()})},d._flush=function(){if(!this._sourceBuffer.updating){if(this._pendingTask!==null){var u=this._pendingTask;if(u.type!==q.f.Push||u.data.length===0){switch(u.type){case q.f.Push:u.inventoryData!==null&&this._segmentInventory.insertChunk(u.inventoryData);break;case q.f.EndOfSegment:this._segmentInventory.completeSegment(u.value,this.getBufferedRanges());break;case q.f.Remove:this.synchronizeInventory();break;default:(0,Kn.Z)(u)}var v=u.resolve;this._pendingTask=null,v(),this._flush();return}}else{var R=this._queue.shift();if(R===void 0)return;if(R.type!==q.f.Push)this._pendingTask=R;else{var N=R.value,G;try{G=this._preparePushOperation(N.data)}catch(Ae){this._pendingTask=(0,jt.Z)({data:[],inventoryData:N.inventoryInfos},R);var te=Ae instanceof Error?Ae:new Error("An unknown error occured when preparing a push operation");this._lastInitSegment=null,R.reject(te);return}this._pendingTask=(0,jt.Z)({data:G,inventoryData:N.inventoryInfos},R)}}try{switch(this._pendingTask.type){case q.f.EndOfSegment:ve.Z.debug("AVSB: Acknowledging complete segment",(0,se.K)(this._pendingTask.value)),this._flush();return;case q.f.Push:var de=this._pendingTask.data.shift();if(de===void 0){this._flush();return}ve.Z.debug("AVSB: pushing segment",this.bufferType,(0,se.K)(this._pendingTask.inventoryData)),this._sourceBuffer.appendBuffer(de);break;case q.f.Remove:var ce=this._pendingTask.value,pe=ce.start,Ee=ce.end;ve.Z.debug("AVSB: removing data from SourceBuffer",this.bufferType,pe,Ee),this._sourceBuffer.remove(pe,Ee);break;default:(0,Kn.Z)(this._pendingTask)}}catch(Ae){this._onPendingTaskError(Ae)}}},d._preparePushOperation=function(u){var v=[],R=u.codec,N=u.timestampOffset,G=u.appendWindow,te=!1;if(R!==void 0&&R!==this.codec&&(ve.Z.debug("AVSB: updating codec",R),te=En(this._sourceBuffer,R),te?this.codec=R:ve.Z.debug("AVSB: could not update codec",R,this.codec)),this._sourceBuffer.timestampOffset!==N){var de=N;ve.Z.debug("AVSB: updating timestampOffset",this.bufferType,this._sourceBuffer.timestampOffset,de),this._sourceBuffer.timestampOffset=de}if(G[0]===void 0?this._sourceBuffer.appendWindowStart>0&&(this._sourceBuffer.appendWindowStart=0):G[0]!==this._sourceBuffer.appendWindowStart&&(G[0]>=this._sourceBuffer.appendWindowEnd&&(this._sourceBuffer.appendWindowEnd=G[0]+1),this._sourceBuffer.appendWindowStart=G[0]),G[1]===void 0?this._sourceBuffer.appendWindowEnd!==1/0&&(this._sourceBuffer.appendWindowEnd=1/0):G[1]!==this._sourceBuffer.appendWindowEnd&&(this._sourceBuffer.appendWindowEnd=G[1]),u.initSegment!==null&&(te||!this._isLastInitSegment(u.initSegment))){var ce=u.initSegment;v.push(ce);var pe=(0,J._f)(ce);this._lastInitSegment={data:pe,hash:(0,oe.Z)(pe)}}return u.chunk!==null&&v.push(u.chunk),v},d._isLastInitSegment=function(u){if(this._lastInitSegment===null)return!1;if(this._lastInitSegment.data===u)return!0;var v=this._lastInitSegment.data;if(v.byteLength===u.byteLength){var R=(0,J._f)(u);if((0,oe.Z)(R)===this._lastInitSegment.hash&&(0,dt.Z)(v,R))return!0}return!1},T}(q.C),he=le,me=["audio","video","text","image"],_e=function(){s.isNative=function(o){return ke(o)};function s(d,o){this._mediaElement=d,this._mediaSource=o,this._initializedSegmentBuffers={},this._onNativeBufferAddedOrDisabled=[]}var T=s.prototype;return T.getBufferTypes=function(){var o=this.getNativeBufferTypes();return(St.Z.nativeTextTracksBuffer!=null||St.Z.htmlTextTracksBuffer!=null)&&o.push("text"),St.Z.imageBuffer!=null&&o.push("image"),o},T.getNativeBufferTypes=function(){return this._mediaElement.nodeName==="AUDIO"?["audio"]:["video","audio"]},T.getStatus=function(o){var u=this._initializedSegmentBuffers[o];return u===void 0?{type:"uninitialized"}:u===null?{type:"disabled"}:{type:"initialized",value:u}},T.waitForUsableBuffers=function(o){var u=this;return this._areNativeBuffersUsable()?Promise.resolve():new Promise(function(v,R){var N=function(){u._areNativeBuffersUsable()&&v()};u._onNativeBufferAddedOrDisabled.push(N),o.register(function(G){var te=u._onNativeBufferAddedOrDisabled.indexOf(N);te>=0&&u._onNativeBufferAddedOrDisabled.splice(te,1),R(G)})})},T.disableSegmentBuffer=function(o){var u=this._initializedSegmentBuffers[o];if(u===null){ve.Z.warn("SBS: The "+o+" SegmentBuffer was already disabled.");return}if(u!==void 0)throw new Error("Cannot disable an active SegmentBuffer.");this._initializedSegmentBuffers[o]=null,s.isNative(o)&&this._onNativeBufferAddedOrDisabled.forEach(function(v){return v()})},T.createSegmentBuffer=function(o,u,v){v===void 0&&(v={});var R=this._initializedSegmentBuffers[o];if(ke(o)){if(R!=null)return R instanceof he&&R.codec!==u?ve.Z.warn("SB: Reusing native SegmentBuffer with codec",R.codec,"for codec",u):ve.Z.info("SB: Reusing native SegmentBuffer with codec",u),R;ve.Z.info("SB: Adding native SegmentBuffer with codec",u);var N=new he(o,u,this._mediaSource);return this._initializedSegmentBuffers[o]=N,this._onNativeBufferAddedOrDisabled.forEach(function(te){return te()}),N}if(R!=null)return ve.Z.info("SB: Reusing a previous custom SegmentBuffer for the type",o),R;var G;if(o==="text"){if(ve.Z.info("SB: Creating a new text SegmentBuffer"),v.textTrackMode==="html"){if(St.Z.htmlTextTracksBuffer==null)throw new Error("HTML Text track feature not activated");G=new St.Z.htmlTextTracksBuffer(this._mediaElement,v.textTrackElement)}else{if(St.Z.nativeTextTracksBuffer==null)throw new Error("Native Text track feature not activated");G=new St.Z.nativeTextTracksBuffer(this._mediaElement,v.hideNativeSubtitle===!0)}return this._initializedSegmentBuffers.text=G,G}else if(o==="image"){if(St.Z.imageBuffer==null)throw new Error("Image buffer feature not activated");return ve.Z.info("SB: Creating a new image SegmentBuffer"),G=new St.Z.imageBuffer,this._initializedSegmentBuffers.image=G,G}throw ve.Z.error("SB: Unknown buffer type:",o),new et.Z("BUFFER_TYPE_UNKNOWN","The player wants to create a SegmentBuffer of an unknown type.")},T.disposeSegmentBuffer=function(o){var u=this._initializedSegmentBuffers[o];if(u==null){ve.Z.warn("SB: Trying to dispose a SegmentBuffer that does not exist");return}ve.Z.info("SB: Aborting SegmentBuffer",o),u.dispose(),delete this._initializedSegmentBuffers[o]},T.disposeAll=function(){var o=this;me.forEach(function(u){o.getStatus(u).type==="initialized"&&o.disposeSegmentBuffer(u)})},T._areNativeBuffersUsable=function(){var o=this,u=this.getNativeBufferTypes(),v=u.some(function(N){return o._initializedSegmentBuffers[N]===void 0});if(v)return!1;var R=u.every(function(N){return o._initializedSegmentBuffers[N]===null});return!R},s}();function ke(s){return s==="audio"||s==="video"}var we=_e,Ze=a(7878);function xt(s,T){return T?function(d){return d.pipe(xt(function(o,u){return(0,Ze.Xf)(s(o,u)).pipe((0,S.U)(function(v,R){return T(o,v,u,R)}))}))}:(0,b.e)(function(d,o){var u=0,v=null,R=!1;d.subscribe((0,y.x)(o,function(N){v||(v=(0,y.x)(o,void 0,function(){v=null,R&&o.complete()}),(0,Ze.Xf)(s(N,u++)).subscribe(v))},function(){R=!0,!v&&o.complete()}))})}function Ge(s,T){return new c.y(function(d){var o=!1,u=!1;return T().then(function(v){o||(u=!0,d.next(v),d.complete())},function(v){u=!0,!o&&d.error(v)}),function(){u||(o=!0,s.cancel())}})}var ft=a(7473),pt=a.n(ft);function yn(){return new c.y(function(s){var T=!1;return pt()(function(){T||(s.next(),s.complete())}),function(){T=!0}})}var _n=function(){function s(d){this._array=[],this._sortingFn=d}var T=s.prototype;return T.add=function(){for(var o=arguments.length,u=new Array(o),v=0;v<o;v++)u[v]=arguments[v];u.sort(this._sortingFn);for(var R=0,N=0;N<u.length;N++){for(var G=u[N],te=!1;!te&&R<this._array.length;)this._sortingFn(G,this._array[R])<0?(this._array.splice(R,0,G),te=!0):R++;te||this._array.push(G)}},T.length=function(){return this._array.length},T.get=function(o){if(o<0||o>=this._array.length)throw new Error("Invalid index.");return this._array[o]},T.findFirst=function(o){return(0,Ln.Z)(this._array,o)},T.has=function(o){return(0,ne.Z)(this._array,o)},T.removeElement=function(o){var u=this._array.indexOf(o);if(u>=0)return this._array.splice(u,1),u},T.head=function(){return this._array[0]},T.last=function(){return this._array[this._array.length-1]},T.shift=function(){return this._array.shift()},T.pop=function(){return this._array.pop()},s}(),Tn=function(){function s(d){this._weakMap=new WeakMap,this._fn=d}var T=s.prototype;return T.get=function(o){var u=this._weakMap.get(o);if(u===void 0){var v=this._fn(o);return this._weakMap.set(o,v),v}else return u},T.destroy=function(o){this._weakMap.delete(o)},s}();function Rn(s,T){var d=s.segmentBuffer,o=s.playbackObserver,u=s.maxBufferBehind,v=s.maxBufferAhead,R;o.listen(function(G){var te;R=(te=G.position.pending)!==null&&te!==void 0?te:G.position.last,N()},{includeLastObservation:!0,clearSignal:T});function N(){kn(d,R,u.getValue(),v.getValue(),T).catch(function(G){var te=G instanceof Error?G.message:"Unknown error";ve.Z.error("Could not run BufferGarbageCollector:",te)})}u.onUpdate(N,{clearSignal:T}),v.onUpdate(N,{clearSignal:T}),N()}function kn(s,T,d,o,u){return nr.apply(this,arguments)}function nr(){return nr=(0,gr.Z)(Hn().mark(function s(T,d,o,u,v){var R,N,G,te,de,ce,pe,Ee,Ae;return Hn().wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:if(!(!isFinite(o)&&!isFinite(u))){Ne.next=2;break}return Ne.abrupt("return",Promise.resolve());case 2:R=[],N=(0,hn.F_)(T.getBufferedRanges(),d),G=N.innerRange,te=N.outerRanges,de=function(){if(isFinite(o)){for(var $e=0;$e<te.length;$e++){var ze=te[$e];d-o>=ze.end?R.push(ze):d>=ze.end&&d-o>ze.start&&d-o<ze.end&&R.push({start:ze.start,end:d-o})}G!=null&&d-o>G.start&&R.push({start:G.start,end:d-o})}},ce=function(){if(isFinite(u)){for(var $e=0;$e<te.length;$e++){var ze=te[$e];d+u<=ze.start?R.push(ze):d<=ze.start&&d+u<ze.end&&d+u>ze.start&&R.push({start:d+u,end:ze.end})}G!=null&&d+u<G.end&&R.push({start:d+u,end:G.end})}},de(),ce(),pe=0,Ee=R;case 9:if(!(pe<Ee.length)){Ne.next=20;break}if(Ae=Ee[pe],!(Ae.start<Ae.end)){Ne.next=17;break}if(ve.Z.debug("GC: cleaning range from SegmentBuffer",Ae.start,Ae.end),v.cancellationError===null){Ne.next=15;break}throw v.cancellationError;case 15:return Ne.next=17,T.removeBuffer(Ae.start,Ae.end,v);case 17:pe++,Ne.next=9;break;case 20:case"end":return Ne.stop()}},s)})),nr.apply(this,arguments)}var Dn=a(8567),Li=a(3),Xr=a(9878);function Wr(s,T,d,o){return yn().pipe((0,l.z)(function(){return d.getReference().asObservable()}),(0,S.U)(function(u){var v,R,N=d.getCurrentTime(),G=N+o,te=Math.min(Math.max(s.start,G),(v=s.end)!==null&&v!==void 0?v:1/0),de=!((R=u.paused.pending)!==null&&R!==void 0?R:d.getIsPaused());return Dn.Z.waitingMediaSourceReload(T,s,te,de)}))}var fr=a(3428);function Tr(s,T){return T===void 0&&(T=!1),(0,b.e)(function(d,o){var u=0;d.subscribe((0,y.x)(o,function(v){var R=s(v,u++);(R||T)&&o.next(v),!R&&o.complete()}))})}var Vr=function(){function s(d,o,u,v){this._content=d,this._currentObs$=null,this._downloadQueue=o,this._initSegmentRequest=null,this._mediaSegmentRequest=null,this._segmentFetcher=u,this._initSegmentInfoRef=(0,Xt.ZP)(void 0),this._mediaSegmentsAwaitingInitMetadata=new Set,v||this._initSegmentInfoRef.setValue(null)}var T=s.prototype;return T.getRequestedInitSegment=function(){return this._initSegmentRequest===null?null:this._initSegmentRequest.segment},T.getRequestedMediaSegment=function(){return this._mediaSegmentRequest===null?null:this._mediaSegmentRequest.segment},T.start=function(){var o=this;if(this._currentObs$!==null)return this._currentObs$;var u=(0,M.P)(function(){var v=o._downloadQueue.asObservable().pipe((0,P.h)(function(N){for(var G=N.segmentQueue,te=0;te<G.length;te++){var de=G[te].segment;if(!o._mediaSegmentsAwaitingInitMetadata.has(de.id))break}var ce=o._mediaSegmentRequest;if(te>=G.length)return ce!==null;if(ce===null)return!0;var pe=G[te];return ce.segment.id!==pe.segment.id?!0:(ce.priority!==pe.priority&&o._segmentFetcher.updatePriority(ce.request,pe.priority),!1)}),(0,X.w)(function(N){var G=N.segmentQueue;return G.length>0?o._requestMediaSegments():fe.E})),R=o._downloadQueue.asObservable().pipe((0,P.h)(function(N){var G=o._initSegmentRequest;return N.initSegment!==null&&G!==null?(N.initSegment.priority!==G.priority&&o._segmentFetcher.updatePriority(G.request,N.initSegment.priority),!1):N.initSegment===null||G===null}),(0,X.w)(function(N){return N.initSegment===null?fe.E:o._requestInitSegment(N.initSegment)}));return(0,ie.T)(R,v)}).pipe((0,$.B)());return this._currentObs$=u,u},T._requestMediaSegments=function(){var o=this,u=this._downloadQueue.getValue(),v=u.segmentQueue,R=v[0],N=this;return(0,M.P)(function(){return G(R)}).pipe((0,fn.x)(function(){o._mediaSegmentRequest=null}));function G(te){if(te===void 0)return(0,f.of)({type:"end-of-queue",value:null});var de=te.segment,ce=te.priority,pe=(0,jt.Z)({segment:de},N._content);return new c.y(function(Ee){var Ae=new bn.ZP,Ie=!1,Ne,De=!1,$e=N._segmentFetcher.createRequest(pe,ce,{onRetry:function(rt){Ee.next({type:"retry",value:{segment:de,error:rt}})},beforeInterrupted:function(){ve.Z.info("Stream: segment request interrupted temporarly.",de.id,de.time)},onChunk:function(rt){var st=N._initSegmentInfoRef.getValue();st!==void 0?ze(rt(st??void 0)):(De=!0,N._initSegmentInfoRef.waitUntilDefined(function(It){ze(rt(It??void 0))},{clearSignal:Ae.signal}))},onAllChunksReceived:function(){De?(N._mediaSegmentsAwaitingInitMetadata.add(de.id),N._initSegmentInfoRef.waitUntilDefined(function(){Ee.next({type:"end-of-segment",value:{segment:de}}),N._mediaSegmentsAwaitingInitMetadata.delete(de.id),De=!1},{clearSignal:Ae.signal})):Ee.next({type:"end-of-segment",value:{segment:de}})},beforeEnded:function(){N._mediaSegmentRequest=null,De?N._initSegmentInfoRef.waitUntilDefined(gt,{clearSignal:Ae.signal}):gt()}},Ae.signal);return $e.catch(function(nt){Ie||(Ie=!0,Ee.error(nt))}),N._mediaSegmentRequest={segment:de,priority:ce,request:$e},function(){N._mediaSegmentsAwaitingInitMetadata.delete(de.id),Ne!==void 0&&Ne.unsubscribe(),!Ie&&(Ie=!0,De=!1,Ae.cancel())};function ze(nt){(0,Yr.Z)(nt.segmentType==="media","Should have loaded a media segment."),Ee.next((0,jt.Z)({},nt,{type:"parsed-media",segment:de}))}function gt(){var nt=N._downloadQueue.getValue().segmentQueue;if(nt.length===0){Ee.next({type:"end-of-queue",value:null}),Ie=!0,Ee.complete();return}else nt[0].segment.id===de.id&&nt.shift();Ie=!0,Ne=G(nt[0]).subscribe(Ee)}})}},T._requestInitSegment=function(o){var u=this;if(o===null)return this._initSegmentRequest=null,fe.E;var v=this;return new c.y(function(R){var N=new bn.ZP,G=o.segment,te=o.priority,de=(0,jt.Z)({segment:G},u._content),ce=!1,pe=u._segmentFetcher.createRequest(de,te,{onRetry:function(Ae){R.next({type:"retry",value:{segment:G,error:Ae}})},beforeInterrupted:function(){ve.Z.info("Stream: init segment request interrupted temporarly.",G.id)},beforeEnded:function(){v._initSegmentRequest=null,ce=!0,R.complete()},onChunk:function(Ae){var Ie,Ne=Ae(void 0);(0,Yr.Z)(Ne.segmentType==="init","Should have loaded an init segment."),R.next((0,jt.Z)({},Ne,{type:"parsed-init",segment:G})),Ne.segmentType==="init"&&v._initSegmentInfoRef.setValue((Ie=Ne.initTimescale)!==null&&Ie!==void 0?Ie:null)},onAllChunksReceived:function(){R.next({type:"end-of-segment",value:{segment:G}})}},N.signal);return pe.catch(function(Ee){ce||(ce=!0,R.error(Ee))}),u._initSegmentRequest={segment:G,priority:te,request:pe},function(){u._initSegmentRequest=null,!ce&&(ce=!0,N.cancel())}})},s}();function ir(s,T,d,o,u){var v=s.period,R=s.adaptation,N=s.representation,G=Or(u,T);if(G===null){if(d===null){if(o&&v.end!==void 0&&T.end>=v.end)return{start:void 0,end:null};var te=N.index.checkDiscontinuity(T.start);if(te!==null)return{start:void 0,end:te}}return null}var de=u[G];if(de.bufferedStart!==void 0&&de.bufferedStart>T.start&&(d===null||de.infos.segment.end<=d)){var ce=de.bufferedStart;return!o&&N.index.awaitSegmentBetween(T.start,ce)!==!1?null:(ve.Z.debug("RS: current discontinuity encountered",R.type,de.bufferedStart),{start:void 0,end:ce})}var pe=di(u,T,G+1);if(pe!==null){var Ee=u[pe-1],Ae=u[pe];if(d===null||Ae.infos.segment.end<=d){if(!o&&N.index.awaitSegmentBetween(Ee.infos.segment.end,Ae.infos.segment.time)!==!1)return null;var Ie=Ee.bufferedEnd,Ne=Ae.bufferedStart;return ve.Z.debug("RS: future discontinuity encountered",R.type,Ie,Ne),{start:Ie,end:Ne}}}if(d===null){if(o&&v.end!==void 0){if(T.end<v.end)return null;var De=Qi(u,v.end);if(De!==null){var $e=u[De];if($e.bufferedEnd!==void 0&&$e.bufferedEnd<v.end)return ve.Z.debug("RS: discontinuity encountered at the end of the current period",R.type,$e.bufferedEnd,v.end),{start:$e.bufferedEnd,end:null}}}if(v.end!==void 0&&T.end>=v.end)return null;for(var ze=u.length-1;ze>=0;ze--){var gt=u[ze];if(gt.bufferedStart===void 0)break;if(gt.bufferedStart<T.end){if(gt.bufferedEnd!==void 0&&gt.bufferedEnd<T.end){var nt=N.index.checkDiscontinuity(T.end);if(nt!==null)return{start:gt.bufferedEnd,end:nt}}return null}}}return null}function Or(s,T){for(var d=0;d<s.length;d++){var o=s[d];if(o.bufferedStart===void 0||o.bufferedEnd===void 0||o.bufferedStart>=T.end)return null;if(o.bufferedEnd>T.start)return d}return null}function di(s,T,d){if(d<=0)return ve.Z.error("RS: Asked to check a discontinuity before the first chunk."),null;for(var o=d;o<s.length;o++){var u=s[o],v=s[o-1];if(u.bufferedStart===void 0||v.bufferedEnd===void 0||u.bufferedStart>=T.end)return null;if(u.bufferedStart-v.bufferedEnd>0)return o}return null}function Qi(s,T){for(var d=s.length-1;d>=0;d--){var o=s[d];if(o.bufferedStart===void 0)return null;if(o.bufferedStart<T)return d}return null}function Si(s){var T=s.bufferedSegments,d=s.content,o=s.currentPlaybackTime,u=s.fastSwitchThreshold,v=s.getBufferedHistory,R=s.neededRange,N=s.segmentsBeingPushed,G=s.maxBufferSize,te=d.adaptation,de=d.representation,ce=ga(T,N,G),pe=de.index.getSegments(R.start,R.end-R.start),Ee=T.filter(function(rt){return!Hr(rt.infos,d,o,u)}).filter(function(rt,st,It){var Tt=st===0?null:It[st-1],Ve=st>=It.length-1?null:It[st+1],Pe=null;if(ia(rt,Tt,R.start)){if(Pe=v(rt.infos),Zu(Pe,rt.bufferedStart))return!1;ve.Z.debug("Stream: skipping segment gc-ed at the start",rt.start,rt.bufferedStart)}if(Bs(rt,Ve,R.end)){if(Pe=Pe??v(rt.infos),Us(Pe,rt.bufferedEnd))return!1;ve.Z.debug("Stream: skipping segment gc-ed at the end",rt.end,rt.bufferedEnd)}return!0}),Ae=vt.Z.getCurrent(),Ie=Ae.MINIMUM_SEGMENT_SIZE,Ne=Ae.MIN_BUFFER_AHEAD,De=!1,$e=Math.min(1/60,Ie),ze=!1,gt=[],nt=pe.filter(function(rt){var st=(0,jt.Z)({segment:rt},d);if(N.length>0){var It=N.some(function(Un){return(0,se.z)(st,Un)});if(It)return!1}var Tt=rt.duration,Ve=rt.time,Pe=rt.end;if(rt.isInit)return!0;if(De)return gt.push(rt),!1;if(rt.complete&&Tt<Ie)return!1;if(N.length>0){var Ut=N.some(function(Un){if(Un.period.id!==d.period.id||Un.adaptation.id!==d.adaptation.id)return!1;var cr=Un.segment;return cr.time-$e>Ve||cr.end+$e<Pe?!1:!Hr(Un,st,o,u)});if(Ut)return!1}for(var Kt=0;Kt<Ee.length;Kt++){var rn=Ee[Kt],mn=rn.infos.period.id===d.period.id;if(mn){var en=rn.infos.segment;if(Ve-en.time>-$e&&en.end-Pe>-$e)return!1}}var Nt=Tt*d.representation.bitrate;if(ce-Nt<0&&(ze=!0,Ve>R.start+Ne))return De=!0,gt.push(rt),!1;var zt=v(st);if(zt.length>1){var $t=zt[zt.length-1],Pn=zt[zt.length-2];if($t.buffered===null&&Pn.buffered===null)return ve.Z.warn("Stream: Segment GCed multiple times in a row, ignoring it.","If this happens a lot and lead to unpleasant experience, please  check your device's available memory. If it's low when this message is emitted, you might want to update the RxPlayer's settings (`maxBufferAhead`, `maxVideoBufferSize` etc.) so less memory is used by regular media data buffering."+te.type,de.id,rt.time),!1}for(var Bn=0;Bn<Ee.length;Bn++){var Qn=Ee[Bn];if(Qn.end+$e>Ve){var er=Qn.start>Ve+$e||ra(Ee,Bn).end<Pe-$e;return er&&(ce-=Nt),er}}return ce-=Nt,!0});return{segmentsToLoad:nt,segmentsOnHold:gt,isBufferFull:ze}}function ga(s,T,d){var o=d*8e3;return o-=T.reduce(function(u,v){var R=v.representation.bitrate,N=v.segment.duration;return u+R*N},0),s.reduce(function(u,v){return v.chunkSize!==void 0?u-v.chunkSize*8:u},o)}function ra(s,T){for(var d=T+1,o=vt.Z.getCurrent(),u=o.MINIMUM_SEGMENT_SIZE,v=Math.min(1/60,u);d<s.length-1&&s[d-1].end+v>s[d].start;)d++;return d--,s[d]}function Hr(s,T,d,o){var u=vt.Z.getCurrent(),v=u.CONTENT_REPLACEMENT_PADDING;if(s.period.id!==T.period.id)return!1;var R=s.segment;return R.time<d+v?!1:s.adaptation.id!==T.adaptation.id?!0:Nu(s.representation,T.representation,o)}function Nu(s,T,d){var o=s.bitrate,u=vt.Z.getCurrent(),v=u.BITRATE_REBUFFERING_RATIO;if(d===void 0){var R=o*v;return T.bitrate>R}return o<d&&T.bitrate>o}function ia(s,T,d){var o=vt.Z.getCurrent(),u=o.MAX_TIME_MISSING_FROM_COMPLETE_SEGMENT;return s.bufferedStart===void 0?(ve.Z.warn("Stream: Start of a segment unknown. Assuming it is garbage collected by default.",s.start),!0):T!==null&&T.bufferedEnd!==void 0&&s.bufferedStart-T.bufferedEnd<.1?!1:d<s.bufferedStart&&s.bufferedStart-s.start>u?(ve.Z.info("Stream: The start of the wanted segment has been garbage collected",s.start,s.bufferedStart),!0):!1}function Bs(s,T,d){var o=vt.Z.getCurrent(),u=o.MAX_TIME_MISSING_FROM_COMPLETE_SEGMENT;return s.bufferedEnd===void 0?(ve.Z.warn("Stream: End of a segment unknown. Assuming it is garbage collected by default.",s.end),!0):T!==null&&T.bufferedStart!==void 0&&T.bufferedStart-s.bufferedEnd<.1?!1:d>s.bufferedEnd&&s.end-s.bufferedEnd>u?(ve.Z.info("Stream: The end of the wanted segment has been garbage collected",s.start,s.bufferedStart),!0):!1}function Zu(s,T){var d,o;if(s.length<2)return!0;var u=s[s.length-1],v=(d=u.buffered)===null||d===void 0?void 0:d.start;if(T!==void 0&&v!==void 0&&T-v>.05)return!0;var R=s[s.length-2],N=(o=R.buffered)===null||o===void 0?void 0:o.start;return N===void 0||v===void 0?!0:Math.abs(N-v)>.01}function Us(s,T){var d,o;if(s.length<2)return!0;var u=s[s.length-1],v=(d=u.buffered)===null||d===void 0?void 0:d.end;if(T!==void 0&&v!==void 0&&v-T>.05)return!0;var R=s[s.length-2],N=(o=R.buffered)===null||o===void 0?void 0:o.end;return N===void 0||v===void 0?!0:Math.abs(N-v)>.01}function Bu(s,T){for(var d=s-T,o=vt.Z.getCurrent(),u=o.SEGMENT_PRIORITIES_STEPS,v=0;v<u.length;v++)if(d<u[v])return v;return u.length}function Uu(s,T,d,o,u,v,R){R.synchronizeInventory();var N=s.representation,G=d.getIsPaused()||d.getPlaybackRate()<=0?T-.1:T,te=Fu(s,G,u),de=N.index.shouldRefresh(te.start,te.end),ce=R.getPendingOperations().filter(function(st){return st.type===q.f.EndOfSegment}).map(function(st){return st.value}),pe=Wn({start:Math.max(te.start-.5,0),end:te.end+.5},R.getInventory()),Ee=d.getCurrentTime(),Ae=R.getSegmentHistory.bind(R),Ie=Si({content:s,bufferedSegments:pe,currentPlaybackTime:Ee,fastSwitchThreshold:o,getBufferedHistory:Ae,neededRange:te,segmentsBeingPushed:ce,maxBufferSize:v}),Ne=Ie.segmentsToLoad,De=Ie.segmentsOnHold,$e=Ie.isBufferFull,ze=Ne.map(function(st){return{priority:Bu(st.time,G),segment:st}}),gt=N.index.isInitialized()&&N.index.isFinished()&&te.hasReachedPeriodEnd&&ze.length===0&&De.length===0,nt=null;ce.length>0&&(nt=Math.min.apply(Math,ce.map(function(st){return st.segment.time}))),De.length>0&&(nt=nt!==null?Math.min(nt,De[0].time):De[0].time),ze.length>0&&(nt=nt!==null?Math.min(nt,ze[0].segment.time):ze[0].segment.time);var rt=ir(s,te,nt,gt,pe);return{imminentDiscontinuity:rt,hasFinishedLoading:gt,neededSegments:ze,isBufferFull:$e,shouldRefreshManifest:de}}function Fu(s,T,d){var o,u,v=s.manifest,R=s.period,N=s.representation,G=N.index.getLastAvailablePosition(),te=N.index;!(0,Ue.Z)(G)&&T>=G&&te.isInitialized()&&te.isFinished()&&Hf(v,R,T)?u=G-1:u=T-.1;var de=u+d,ce;return!N.index.isInitialized()||!N.index.isFinished()||R.end===void 0?ce=!1:G===void 0?ce=de>=R.end:G===null?ce=!0:ce=de>=G,{start:Math.max(u,R.start),end:Math.min(de,(o=R.end)!==null&&o!==void 0?o:1/0),hasReachedPeriodEnd:ce}}function Hf(s,T,d){var o;return T.containsTime(d)&&s.isLastPeriodKnown&&T.id===((o=s.periods[s.periods.length-1])===null||o===void 0?void 0:o.id)}function Wn(s,T){for(var d=vt.Z.getCurrent(),o=d.MINIMUM_SEGMENT_SIZE,u=Math.max(1/60,o),v=s.start+u,R=s.end-u,N=[],G=T.length-1;G>=0;G--){var te=T[G],de=te.infos.representation;if(!te.partiallyPushed&&de.decipherable!==!1&&de.isSupported){var ce=te.infos.segment,pe=ce.time/ce.timescale,Ee=ce.complete?pe+ce.duration/ce.timescale:te.end;(Ee>v&&pe<R||te.end>v&&te.start<R)&&N.unshift(te)}}return N}function aa(s,T){var d=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(d)return(d=d.call(s)).next.bind(d);if(Array.isArray(s)||(d=ri(s))||T&&s&&typeof s.length=="number"){d&&(s=d);var o=0;return function(){return o>=s.length?{done:!0}:{done:!1,value:s[o++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ri(s,T){if(s){if(typeof s=="string")return fi(s,T);var d=Object.prototype.toString.call(s).slice(8,-1);if(d==="Object"&&s.constructor&&(d=s.constructor.name),d==="Map"||d==="Set")return Array.from(s);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return fi(s,T)}}function fi(s,T){(T==null||T>s.length)&&(T=s.length);for(var d=0,o=new Array(T);d<T;d++)o[d]=s[d];return o}function Fa(s,T,d){return zu.apply(this,arguments)}function zu(){return zu=(0,gr.Z)(Hn().mark(function s(T,d,o){var u,v,R,N,G,te,de,ce,pe;return Hn().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:u=vt.Z.getCurrent().BUFFER_GC_GAPS.CALM,v=vt.Z.getCurrent().BUFFER_GC_GAPS.BEEFY,ve.Z.warn("Stream: Running garbage collector"),R=d.getBufferedRanges(),N=za(T,R,u),N.length===0&&(N=za(T,R,v)),ve.Z.hasLevel("DEBUG")&&ve.Z.debug("Stream: GC cleaning",N.map(function(Ie){var Ne=Ie.start,De=Ie.end;return"start: "+Ne+" - end "+De}).join(", ")),G=aa(N);case 8:if((te=G()).done){Ae.next=16;break}if(de=te.value,ce=de.start,pe=de.end,!(ce<pe)){Ae.next=14;break}return Ae.next=14,d.removeBuffer(ce,pe,o);case 14:Ae.next=8;break;case 16:case"end":return Ae.stop()}},s)})),zu.apply(this,arguments)}function za(s,T,d){for(var o=(0,hn.F_)(T,s),u=o.innerRange,v=o.outerRanges,R=[],N=0;N<v.length;N++){var G=v[N];(s-d>G.end||s+d<G.start)&&R.push(G)}return u!==null&&(ve.Z.hasLevel("DEBUG")&&ve.Z.debug("Stream: GC removing part of inner range",R.map(function(te){var de=te.start,ce=te.end;return"start: "+de+" - end "+ce}).join(", ")),s-d>u.start&&R.push({start:u.start,end:s-d}),s+d<u.end&&R.push({start:s+d,end:u.end})),R}function Fs(s,T,d,o){return hl.apply(this,arguments)}function hl(){return hl=(0,gr.Z)(Hn().mark(function s(T,d,o,u){var v,R,N,G,te,de;return Hn().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return pe.prev=0,pe.next=3,d.pushChunk(o,u);case 3:pe.next=23;break;case 5:if(pe.prev=5,pe.t0=pe.catch(0),!(!(pe.t0 instanceof Error)||pe.t0.name!=="QuotaExceededError")){pe.next=10;break}throw R=pe.t0 instanceof Error?pe.t0.toString():"An unknown error happened when pushing content",new et.Z("BUFFER_APPEND_ERROR",R);case 10:return N=T.getReference().getValue(),G=N.position,te=(v=G.pending)!==null&&v!==void 0?v:G.last,pe.prev=12,pe.next=15,Fa(te,d,u);case 15:return pe.next=17,d.pushChunk(o,u);case 17:pe.next=23;break;case 19:throw pe.prev=19,pe.t1=pe.catch(12),de=pe.t1 instanceof Error?pe.t1.toString():"Could not clean the buffer",new et.Z("BUFFER_FULL_ERROR",de);case 23:case"end":return pe.stop()}},s,null,[[0,5],[12,19]])})),hl.apply(this,arguments)}function nm(s){var T=s.playbackObserver,d=s.content,o=s.segment,u=s.segmentData,v=s.segmentBuffer;return(0,M.P)(function(){if(u===null)return fe.E;var R=d.representation.getMimeTypeString(),N={initSegment:u,chunk:null,timestampOffset:0,appendWindow:[void 0,void 0],codec:R},G=new bn.ZP;return Ge(G,function(){return Fs(T,v,{data:N,inventoryInfos:null},G.signal)}).pipe((0,S.U)(function(){var te=v.getBufferedRanges();return Dn.Z.addedSegment(d,o,te,u)}))})}function rm(s){var T=s.playbackObserver,d=s.content,o=s.initSegmentData,u=s.parsedSegment,v=s.segment,R=s.segmentBuffer;return(0,M.P)(function(){var N,G;if(u.chunkData===null)return fe.E;var te=u.chunkData,de=u.chunkInfos,ce=u.chunkOffset,pe=u.chunkSize,Ee=u.appendWindow,Ae=d.representation.getMimeTypeString(),Ie=vt.Z.getCurrent(),Ne=Ie.APPEND_WINDOW_SECURITIES,De=[Ee[0]!==void 0?Math.max(0,Ee[0]-Ne.START):void 0,Ee[1]!==void 0?Ee[1]+Ne.END:void 0],$e={initSegment:o,chunk:te,timestampOffset:ce,appendWindow:De,codec:Ae},ze=(N=de==null?void 0:de.time)!==null&&N!==void 0?N:v.time,gt=(G=de==null?void 0:de.duration)!==null&&G!==void 0?G:v.duration,nt=ze+gt;De[0]!==void 0&&(ze=Math.max(ze,De[0])),De[1]!==void 0&&(nt=Math.min(nt,De[1]));var rt=(0,jt.Z)({segment:v,chunkSize:pe,start:ze,end:nt},d),st=new bn.ZP;return Ge(st,function(){return Fs(T,R,{data:$e,inventoryInfos:rt},st.signal)}).pipe((0,S.U)(function(){var It=R.getBufferedRanges();return Dn.Z.addedSegment(d,v,It,te)}))})}function im(s){var T=s.content,d=s.options,o=s.playbackObserver,u=s.segmentBuffer,v=s.segmentFetcher,R=s.terminate$,N=T.period,G=T.adaptation,te=T.representation,de=d.bufferGoal$,ce=d.maxBufferSize$,pe=d.drmSystemId,Ee=d.fastSwitchThreshold$,Ae=G.type,Ie={segment:te.index.getInitSegment(),segmentData:null,isLoaded:!1},Ne=new r.x,De=(0,Xt.$l)({initSegment:null,segmentQueue:[]}),$e=Ie.segment!==null,ze=new Vr(T,De,v,$e);$e||(Ie.segmentData=null,Ie.isLoaded=!0);var gt=!1,nt=fe.E;if(pe!==void 0){var rt=te.getEncryptionData(pe);rt.length>0&&rt.every(function(Pe){return Pe.keyIds!==void 0})&&(nt=f.of.apply(void 0,rt.map(function(Pe){return Dn.Z.encryptionDataEncountered(Pe,T)})),gt=!0)}var st=ze.start().pipe((0,l.z)(Tt)),It=ae([o.getReference().asObservable(),de,ce,R.pipe((0,p.q)(1),(0,W.O)(null)),Ne.pipe((0,W.O)(void 0))]).pipe((0,fr.M)(Ee),(0,l.z)(function(Pe){var Ut=Pe[0],Kt=Ut[0],rn=Ut[1],mn=Ut[2],en=Ut[3],Nt=Pe[1],zt,$t,Pn=(zt=Kt.position.pending)!==null&&zt!==void 0?zt:Kt.position.last,Bn=Uu(T,Pn,o,Nt,rn,mn,u),Qn=Bn.neededSegments,er=null;if(te.index.isInitialized()){if(Qn.length>0&&!Ie.isLoaded&&Ie.segment!==null){var cr=Qn[0].priority;er={segment:Ie.segment,priority:cr}}}else if(Ie.segment===null)ve.Z.warn("Stream: Uninitialized index without an initialization segment");else if(Ie.isLoaded)ve.Z.warn("Stream: Uninitialized index with an already loaded initialization segment");else{var Un=($t=Kt.position.pending)!==null&&$t!==void 0?$t:Kt.position.last;er={segment:Ie.segment,priority:Bu(N.start,Un)}}if(en===null)De.setValue({initSegment:er,segmentQueue:Qn});else{if(en.urgent)return ve.Z.debug("Stream: Urgent switch, terminate now.",Ae),De.setValue({initSegment:null,segmentQueue:[]}),De.finish(),(0,f.of)(Dn.Z.streamTerminating());var zn=Qn[0],Sr=ze.getRequestedInitSegment(),Ar=ze.getRequestedMediaSegment(),xr=Ar===null||zn===void 0||Ar.id!==zn.segment.id?[]:[zn],Xn=Sr===null?null:er;if(De.setValue({initSegment:Xn,segmentQueue:xr}),xr.length===0&&Xn===null)return ve.Z.debug("Stream: No request left, terminate",Ae),De.finish(),(0,f.of)(Dn.Z.streamTerminating())}var Mr=(0,f.of)({type:"stream-status",value:{period:N,position:Kt.position.last,bufferType:Ae,imminentDiscontinuity:Bn.imminentDiscontinuity,hasFinishedLoading:Bn.hasFinishedLoading,neededSegments:Bn.neededSegments}}),Lr=fe.E,Yi=vt.Z.getCurrent(),ci=Yi.UPTO_CURRENT_POSITION_CLEANUP;if(Bn.isBufferFull){var ua=Math.max(0,Pn-ci);if(ua>0){var Ai=new bn.ZP;Lr=Ge(Ai,function(){return u.removeBuffer(0,ua,Ai.signal)}).pipe((0,Jt.l)())}}return Bn.shouldRefreshManifest?(0,Y.z)((0,f.of)(Dn.Z.needsManifestRefresh()),Mr,Lr):(0,Y.z)(Mr,Lr)}),Tr(function(Pe){return Pe.type!=="stream-terminating"},!0));return(0,ie.T)(It,st,nt).pipe((0,$.B)());function Tt(Pe){switch(Pe.type){case"retry":return(0,Y.z)((0,f.of)({type:"warning",value:Pe.value.error}),(0,M.P)(function(){var rn=Pe.value.segment,mn=te.index;if(mn.isSegmentStillAvailable(rn)===!1)Ne.next();else if(mn.canBeOutOfSyncError(Pe.value.error,rn))return(0,f.of)(Dn.Z.manifestMightBeOufOfSync());return fe.E}));case"parsed-init":case"parsed-media":return Ve(Pe);case"end-of-segment":{var Ut=Pe.value.segment,Kt=new bn.ZP;return Ge(Kt,function(){return u.endOfSegment((0,jt.Z)({segment:Ut},T),Kt.signal)}).pipe((0,Jt.l)())}case"end-of-queue":return Ne.next(),fe.E;default:(0,Kn.Z)(Pe)}}function Ve(Pe){if(Pe.segmentType==="init"){pt()(function(){Ne.next()}),Ie.segmentData=Pe.initializationData,Ie.isLoaded=!0;var Ut=te.getAllEncryptionData(),Kt=!gt&&Ut.length>0?f.of.apply(void 0,Ut.map(function(er){return Dn.Z.encryptionDataEncountered(er,T)})):fe.E,rn=nm({playbackObserver:o,content:T,segment:Pe.segment,segmentData:Pe.initializationData,segmentBuffer:u});return(0,ie.T)(Kt,rn)}else{var mn=Pe.inbandEvents,en=Pe.needsManifestRefresh,Nt=Pe.protectionDataUpdate,zt=Nt&&!gt?f.of.apply(void 0,te.getAllEncryptionData().map(function(er){return Dn.Z.encryptionDataEncountered(er,T)})):fe.E,$t=en===!0?(0,f.of)(Dn.Z.needsManifestRefresh()):fe.E,Pn=mn!==void 0&&mn.length>0?(0,f.of)({type:"inband-events",value:mn}):fe.E,Bn=Ie.segmentData,Qn=rm({playbackObserver:o,content:T,initSegmentData:Bn,parsedSegment:Pe,segment:Pe.segment,segmentBuffer:u});return(0,Y.z)(zt,$t,Pn,Qn)}}}var am=im;function um(s,T,d,o,u,v){var R=s.manifest,N=s.adaptation,G=(0,Xt.ZP)([]);Ee(),R.addEventListener("decipherabilityUpdate",Ee);var te=v.register(Ae),de=T(s,d,G,o,v),ce=de.estimates,pe=de.callbacks;return{abrCallbacks:pe,estimateRef:ce};function Ee(){var Ie=N.getPlayableRepresentations();if(Ie.length===0){var Ne=new et.Z("NO_PLAYABLE_REPRESENTATION","No Representation in the chosen "+N.type+" Adaptation can be played");Ae(),u(Ne);return}var De=G.getValue();De.length===Ie.length&&De.every(function($e,ze){return $e.id===Ie[ze].id})||G.setValue(Ie)}function Ae(){R.removeEventListener("decipherabilityUpdate",Ee),G.finish(),typeof te<"u"&&te()}}function sm(s){var T=s.playbackObserver,d=s.content,o=s.options,u=s.representationEstimator,v=s.segmentBuffer,R=s.segmentFetcherCreator,N=s.wantedBufferAhead,G=s.maxVideoBufferSize,te=o.manualBitrateSwitchingMode==="direct",de=d.manifest,ce=d.period,pe=d.adaptation,Ee={},Ae=(0,Xt.$l)(null),Ie=new r.x,Ne=new bn.ZP,De=um(d,u,Ae,T,function(Pe){Ie.error(Pe)},Ne.signal),$e=De.estimateRef,ze=De.abrCallbacks,gt=R.createSegmentFetcher(pe.type,{onRequestBegin:ze.requestBegin,onRequestEnd:ze.requestEnd,onProgress:ze.requestProgress,onMetrics:ze.metrics}),nt=(0,Xt.$l)(null),rt=$e.asObservable().pipe((0,ge.b)(function(Pe){nt.setValue(Pe)}),(0,pn.Z)(),(0,$.B)()),st=rt.pipe((0,P.h)(function(Pe){var Ut=Pe.bitrate;return Ut!=null}),A(function(Pe,Ut){return Pe.bitrate===Ut.bitrate}),(0,S.U)(function(Pe){var Ut=Pe.bitrate;return ve.Z.debug("Stream: new "+pe.type+" bitrate estimate",Ut),Dn.Z.bitrateEstimationChange(pe.type,Ut)})),It=rt.pipe(xt(function(Pe,Ut){return Tt(Pe,Ut===0)}));return(0,ie.T)(Ie,It,st,new c.y(function(){return function(){return Ne.cancel()}}));function Tt(Pe,Ut){var Kt=Pe.representation;if(te&&Pe.manual&&!Ut){var rn=vt.Z.getCurrent(),mn=rn.DELTA_POSITION_AFTER_RELOAD;return Wr(ce,pe.type,T,mn.bitrateSwitch)}var en=nt.asObservable().pipe((0,P.h)(function($t){return $t===null||$t.representation.id!==Kt.id||$t.manual&&!Pe.manual}),(0,p.q)(1),(0,S.U)(function($t){return $t===null?(ve.Z.info("Stream: urgent Representation termination",pe.type),{urgent:!0}):$t.urgent?(ve.Z.info("Stream: urgent Representation switch",pe.type),{urgent:!0}):(ve.Z.info("Stream: slow Representation switch",pe.type),{urgent:!1})})),Nt=o.enableFastSwitching?nt.asObservable().pipe((0,S.U)(function($t){return $t===null?void 0:$t.knownStableBitrate}),A()):(0,f.of)(0),zt=(0,f.of)(Dn.Z.representationChange(pe.type,ce,Kt));return(0,Y.z)(zt,Ve(Kt,en,Nt)).pipe((0,ge.b)(function($t){$t.type==="added-segment"&&ze.addedSegment($t.value),$t.type==="representationChange"&&Ae.setValue($t.value.representation)}),(0,l.z)(function($t){if($t.type==="stream-terminating"){var Pn=nt.getValue();return Pn===null?fe.E:Tt(Pn,!1)}return(0,f.of)($t)}))}function Ve(Pe,Ut,Kt){return(0,M.P)(function(){var rn=Ee[Pe.id],mn=rn??1;Ee[Pe.id]=mn;var en=N.asObservable().pipe((0,S.U)(function(zt){return zt*mn})),Nt=pe.type==="video"?G.asObservable():(0,f.of)(1/0);return ve.Z.info("Stream: changing representation",pe.type,Pe.id,Pe.bitrate),am({playbackObserver:T,content:{representation:Pe,adaptation:pe,period:ce,manifest:de},segmentBuffer:v,segmentFetcher:gt,terminate$:Ut,options:{bufferGoal$:en,maxBufferSize$:Nt,drmSystemId:o.drmSystemId,fastSwitchThreshold$:Kt}}).pipe((0,Xr.K)(function(zt){var $t=(0,mt.Z)(zt,{defaultCode:"NONE",defaultReason:"Unknown `RepresentationStream` error"});if($t.code==="BUFFER_FULL_ERROR"){var Pn=N.getValue(),Bn=mn;if(Bn<=.25||Pn*Bn<=2)throw $t;return Ee[Pe.id]=Bn-.25,Ve(Pe,Ut,Kt)}throw $t}))})}}var om=sm;function Gf(s,T,d,o){var u=o.period,v=!1,R=T.asObservable(),N=s.getReference().asObservable();return ae([N,R]).pipe((0,l.z)(function(G){var te=G[0],de=G[1],ce=te.position.last;return u.end!==void 0&&ce+de>=u.end&&(ve.Z.debug('Stream: full "empty" AdaptationStream',d),v=!0),(0,f.of)({type:"stream-status",value:{period:u,bufferType:d,position:ce,imminentDiscontinuity:null,hasFinishedLoading:v,neededSegments:[],shouldRefreshManifest:!1}})}))}var $f=a(9252);function lm(s,T){var d=s.split(";"),o=d[0],u=d.slice(1),v=T.split(";"),R=v[0],N=v.slice(1);if(o!==R)return!1;var G=(0,Ln.Z)(u,function(pe){return(0,$f.Z)(pe,"codecs=")}),te=(0,Ln.Z)(N,function(pe){return(0,$f.Z)(pe,"codecs=")});if(G===void 0||te===void 0)return!1;var de=G.substring(7),ce=te.substring(7);return de.split(".")[0]===ce.split(".")[0]}var jf=lm;function dm(s,T,d,o,u){if(s.codec!==void 0&&u.onCodecSwitch==="reload"&&!fm(d,s.codec))return{type:"needs-reload",value:void 0};var v=s.getBufferedRanges();if(v.length===0)return{type:"continue",value:void 0};var R=(0,hn.JN)(v),N=T.start,G=T.end==null?1/0:T.end,te=(0,hn.tn)(R,[{start:N,end:G}]);if(te.length===0)return{type:"continue",value:void 0};s.synchronizeInventory();var de=s.getInventory();if(!de.some(function(Ve){return Ve.infos.period.id===T.id&&Ve.infos.adaptation.id!==d.id}))return{type:"continue",value:void 0};var ce=cm(de,T,d),pe=(0,hn.uH)(te,ce);if(pe.length===0)return{type:"continue",value:void 0};var Ee=o.currentTime,Ae=u.audioTrackSwitchingMode,Ie=d.type==="video"||d.type==="audio"&&Ae==="reload";if(Ie&&(0,hn.Ti)({start:N,end:G},Ee)&&(o.readyState>1||!d.getPlayableRepresentations().some(function(Ve){var Pe;return jf(Ve.getMimeTypeString(),(Pe=s.codec)!==null&&Pe!==void 0?Pe:"")}))&&!(0,hn.A1)(ce,Ee))return{type:"needs-reload",value:void 0};var Ne=d.type==="audio"&&Ae==="direct",De=[],$e=vm(de,T);$e!==null&&($e.bufferedEnd===void 0||T.start-$e.bufferedEnd<1)&&De.push({start:0,end:T.start+1});var ze=d.type,gt=vt.Z.getCurrent(),nt=gt.ADAPTATION_SWITCH_BUFFER_PADDINGS,rt=nt[ze].before;rt==null&&(rt=0);var st=nt[ze].after;if(st==null&&(st=0),Ne||De.push({start:Ee-rt,end:Ee+st}),T.end!==void 0){var It=hm(de,T);It!==null&&(It.bufferedStart===void 0||It.bufferedStart-T.end<1)&&De.push({start:T.end-1,end:Number.MAX_VALUE})}var Tt=(0,hn.uH)(pe,De);return Tt.length===0?{type:"continue",value:void 0}:Ne?{type:"flush-buffer",value:Tt}:{type:"clean-buffer",value:Tt}}function fm(s,T){return s.getPlayableRepresentations().some(function(d){return jf(d.getMimeTypeString(),T)})}function cm(s,T,d){return s.reduce(function(o,u){if(u.infos.period.id!==T.id||u.infos.adaptation.id!==d.id)return o;var v=u.bufferedStart,R=u.bufferedEnd;return v===void 0||R===void 0||o.push({start:v,end:R}),o},[])}function vm(s,T){for(var d=0;d<s.length;d++)if(s[d].infos.period.start>=T.start)return d>0?s[d-1]:null;return s.length>0?s[s.length-1]:null}function hm(s,T){for(var d=0;d<s.length;d++)if(s[d].infos.period.start>T.start)return s[d];return null}function pm(s){var T=s.bufferType,d=s.content,o=s.garbageCollectors,u=s.playbackObserver,v=s.representationEstimator,R=s.segmentFetcherCreator,N=s.segmentBuffersStore,G=s.options,te=s.wantedBufferAhead,de=s.maxVideoBufferSize,ce=d.period,pe=new Li.t(1);return pe.pipe((0,X.w)(function(Ae,Ie){var Ne=vt.Z.getCurrent(),De=Ne.DELTA_POSITION_AFTER_RELOAD,$e=Ie===0?0:T==="audio"?De.trackSwitch.audio:T==="video"?De.trackSwitch.video:De.trackSwitch.other;if(Ae===null){ve.Z.info("Stream: Set no "+T+" Adaptation. P:",ce.start);var ze=N.getStatus(T),gt;if(ze.type==="initialized"){if(ve.Z.info("Stream: Clearing previous "+T+" SegmentBuffer"),we.isNative(T))return Wr(ce,T,u,0);var nt=new bn.ZP;gt=Ge(nt,function(){return ce.end===void 0?ze.value.removeBuffer(ce.start,1/0,nt.signal):ce.end<=ce.start?Promise.resolve():ze.value.removeBuffer(ce.start,ce.end,nt.signal)})}else ze.type==="uninitialized"&&N.disableSegmentBuffer(T),gt=(0,f.of)(null);return(0,Y.z)(gt.pipe((0,S.U)(function(){return Dn.Z.adaptationChange(T,null,ce)})),Gf(u,te,T,{period:ce}))}if(we.isNative(T)&&N.getStatus(T).type==="disabled")return Wr(ce,T,u,$e);ve.Z.info("Stream: Updating "+T+" adaptation","A: "+Ae.id,"P: "+ce.start);var rt=(0,M.P)(function(){var st=u.getReadyState(),It=mm(N,T,Ae,G),Tt={currentTime:u.getCurrentTime(),readyState:st},Ve=dm(It,ce,Ae,Tt,G);if(Ve.type==="needs-reload")return Wr(ce,T,u,$e);var Pe=Ve.type==="flush-buffer"?(0,f.of)(Dn.Z.needsBufferFlush()):fe.E,Ut=Ve.type==="clean-buffer"||Ve.type==="flush-buffer"?Y.z.apply(void 0,Ve.value.map(function(en){var Nt=en.start,zt=en.end,$t=new bn.ZP;return Ge($t,function(){return It.removeBuffer(Nt,zt,$t.signal)})})).pipe((0,Jt.l)()):fe.E,Kt=o.get(It),rn=Ee(Ae,It),mn=new bn.ZP;return Ge(mn,function(){return N.waitForUsableBuffers(mn.signal)}).pipe((0,l.z)(function(){return(0,Y.z)(Ut,Pe,(0,ie.T)(rn,Kt))}))});return(0,Y.z)((0,f.of)(Dn.Z.adaptationChange(T,Ae,ce)),rt)}),(0,W.O)(Dn.Z.periodStreamReady(T,ce,pe)));function Ee(Ae,Ie){var Ne=d.manifest,De=ym(u,Ie);return om({content:{manifest:Ne,period:ce,adaptation:Ae},options:G,playbackObserver:De,representationEstimator:v,segmentBuffer:Ie,segmentFetcherCreator:R,wantedBufferAhead:te,maxVideoBufferSize:de}).pipe((0,Xr.K)(function($e){if(!we.isNative(T)){ve.Z.error("Stream: "+T+" Stream crashed. Aborting it.",$e instanceof Error?$e:""),N.disposeSegmentBuffer(T);var ze=(0,mt.Z)($e,{defaultCode:"NONE",defaultReason:"Unknown `AdaptationStream` error"});return(0,Y.z)((0,f.of)(Dn.Z.warning(ze)),Gf(u,te,T,{period:ce}))}throw ve.Z.error("Stream: "+T+" Stream crashed. Stopping playback.",$e instanceof Error?$e:""),$e}))}}function mm(s,T,d,o){var u=s.getStatus(T);if(u.type==="initialized")return ve.Z.info("Stream: Reusing a previous SegmentBuffer for the type",T),u.value;var v=gm(d),R=T==="text"?o.textTrackOptions:void 0;return s.createSegmentBuffer(T,v,R)}function gm(s){var T=s.getPlayableRepresentations();if(T.length===0){var d=new et.Z("NO_PLAYABLE_REPRESENTATION","No Representation in the chosen "+s.type+" Adaptation can be played");throw d}return T[0].getMimeTypeString()}function ym(s,T){return s.deriveReadOnlyObserver(function(o,u){var v=(0,Xt.ZP)(R());return o.onUpdate(N,{clearSignal:u,emitCurrentValue:!1}),u.register(function(){v.finish()}),v;function R(){var G=o.getValue(),te=T.getBufferedRanges(),de=(0,hn.L7)(te,G.position.last);return(0,jt.Z)({},G,{bufferGap:de})}function N(){v.setValue(R())}})}var _m=pm,Qf=a(3074);function Em(s){var T=s.length;return ie.T.apply(void 0,s).pipe((0,P.h)(function(d){var o=d.type;return o==="periodStreamCleared"||o==="adaptationChange"||o==="representationChange"}),(0,Qf.R)(function(d,o){switch(o.type){case"periodStreamCleared":{var u=o.value,v=u.period,R=u.type,N=d[v.id];N!==void 0&&N.buffers.has(R)&&(N.buffers.delete(R),N.buffers.size===0&&delete d[v.id])}break;case"adaptationChange":if(o.value.adaptation!==null)return d;case"representationChange":{var G=o.value,te=G.period,de=G.type,ce=d[te.id];if(ce===void 0){var pe=new Set;pe.add(de),d[te.id]={period:te,buffers:pe}}else ce.buffers.has(de)||ce.buffers.add(de)}break}return d},{}),(0,S.U)(function(d){for(var o=Object.keys(d),u=[],v=0;v<o.length;v++){var R=d[o[v]];R!==void 0&&R.buffers.size===T&&u.push(R.period)}return u.reduce(function(N,G){return N===null||G.start<N.start?G:N},null)}),A(function(d,o){return d===null&&o===null||d!==null&&o!==null&&d.id===o.id}))}function Tm(){for(var s=arguments.length,T=new Array(s),d=0;d<s;d++)T[d]=arguments[d];var o=T.map(function(u){return u.pipe((0,P.h)(function(v){return v.type==="complete-stream"||v.type==="stream-status"&&!v.value.hasFinishedLoading}),(0,S.U)(function(v){return v.type==="complete-stream"}),(0,W.O)(!1),A())});return ae(o).pipe((0,S.U)(function(u){return u.every(function(v){return v})}),A())}function Yf(s,T){if(T.length===0)return[];s.synchronizeInventory();for(var d=[],o=s.getInventory(),u=function(G){var te=o[G],de=T.some(function(Ne){return te.infos.period.id===Ne.period.id&&te.infos.adaptation.id===Ne.adaptation.id&&te.infos.representation.id===Ne.representation.id});if(de){var ce=te.bufferedStart,pe=te.bufferedEnd;if(ce===void 0||pe===void 0){ve.Z.warn("SO: No buffered start or end found from a segment.");var Ee=s.getBufferedRanges(),Ae=Ee.length;return Ae===0?{v:[]}:{v:[{start:Ee.start(0),end:Ee.end(Ae-1)}]}}var Ie=d[d.length-1];Ie!==void 0&&Ie.end===ce?Ie.end=pe:d.push({start:ce,end:pe})}},v=0;v<o.length;v++){var R=u(v);if(typeof R=="object")return R.v}return d}function Sm(s,T,d,o,u,v){var R=s.manifest,N=s.initialPeriod,G=v.maxBufferAhead,te=v.maxBufferBehind,de=v.wantedBufferAhead,ce=v.maxVideoBufferSize,pe=vt.Z.getCurrent(),Ee=pe.MAXIMUM_MAX_BUFFER_AHEAD,Ae=pe.MAXIMUM_MAX_BUFFER_BEHIND,Ie=new Tn(function(rt){var st=rt.bufferType,It=Ae[st]!=null?Ae[st]:1/0,Tt=Ee[st]!=null?Ee[st]:1/0;return new c.y(function(){var Ve=new bn.ZP;return Rn({segmentBuffer:rt,playbackObserver:T,maxBufferBehind:(0,Xt.lR)(te,function(Pe){return Math.min(Pe,It)},Ve.signal),maxBufferAhead:(0,Xt.lR)(G,function(Pe){return Math.min(Pe,Tt)},Ve.signal)},Ve.signal),function(){Ve.cancel()}})}),Ne=o.getBufferTypes().map(function(rt){return gt(rt,N).pipe((0,pn.Z)(),(0,$.B)())}),De=Em(Ne).pipe((0,P.h)(function(rt){return rt!==null}),(0,S.U)(function(rt){return ve.Z.info("Stream: New active period",rt.start),Dn.Z.activePeriodChanged(rt)})),$e=(0,Dt.R)(R,"manifestUpdate").pipe((0,S.U)(function(){return R.isLastPeriodKnown}),(0,W.O)(R.isLastPeriodKnown),A()),ze=ae([Tm.apply(void 0,Ne),$e]).pipe((0,S.U)(function(rt){var st=rt[0],It=rt[1];return st&&It}),A(),(0,S.U)(function(rt){return rt?Dn.Z.endOfStream():Dn.Z.resumeStream()}));return ie.T.apply(void 0,Ne.concat([De,ze]));function gt(rt,st){var It=new _n(function(Nt,zt){return Nt.start-zt.start}),Tt=new r.x,Ve=!1;function Pe(Nt){return nt(rt,Nt,Tt).pipe((0,S.U)(function(zt){switch(zt.type){case"waiting-media-source-reload":var $t=It.head();if($t===void 0||$t.id!==zt.value.period.id)return Dn.Z.lockedStream(zt.value.bufferType,zt.value.period);var Pn=zt.value,Bn=Pn.position,Qn=Pn.autoPlay;return Dn.Z.needsMediaSourceReload(Bn,Qn);case"periodStreamReady":Ve=!0,It.add(zt.value.period);break;case"periodStreamCleared":It.removeElement(zt.value.period);break}return zt}),(0,$.B)())}function Ut(Nt){var zt=It.head(),$t=It.last();return zt==null||$t==null?!0:zt.start>Nt||($t.end==null?1/0:$t.end)<Nt}var Kt=T.getReference().asObservable(),rn=Kt.pipe((0,On.Z)(function(Nt){var zt=Nt.position,$t,Pn,Bn=($t=zt.pending)!==null&&$t!==void 0?$t:zt.last;if(!Ve||!Ut(Bn))return null;var Qn=(Pn=R.getPeriodForTime(Bn))!==null&&Pn!==void 0?Pn:R.getNextPeriod(Bn);return Qn===void 0?null:(ve.Z.info("SO: Current position out of the bounds of the active periods,re-creating Streams.",rt,Bn),Ve=!1,Tt.next(),Qn)},null),(0,l.z)(function(Nt){if(Nt==null)throw new et.Z("MEDIA_TIME_NOT_FOUND","The wanted position is not found in the Manifest.");return Pe(Nt)})),mn=(0,Dt.R)(R,"decipherabilityUpdate").pipe((0,l.z)(en));return(0,ie.T)(rn,mn,Pe(st));function en(Nt){var zt=o.getStatus(rt),$t=Nt.filter(function(zn){return zn.adaptation.type===rt});if($t.length===0||zt.type!=="initialized")return fe.E;var Pn=zt.value,Bn=$t.filter(function(zn){return zn.representation.decipherable===void 0}),Qn=$t.filter(function(zn){return zn.representation.decipherable===!1}),er=Yf(Pn,Qn),Un=Yf(Pn,Bn);Ve=!1,Tt.next();var cr=[].concat(er,Un).map(function(zn){var Sr=zn.start,Ar=zn.end;if(Sr>=Ar)return fe.E;var xr=new bn.ZP;return Ge(xr,function(){return Pn.removeBuffer(Sr,Ar,xr.signal)}).pipe((0,Jt.l)())});return Y.z.apply(void 0,cr.concat([yn().pipe((0,Jt.l)()),T.getReference().asObservable().pipe((0,p.q)(1),(0,l.z)(function(zn){var Sr,Ar=(0,M.P)(function(){var Xn,Mr=(Xn=zn.position.pending)!==null&&Xn!==void 0?Xn:zn.position.last,Lr=R.getPeriodForTime(Mr);if(Lr==null)throw new et.Z("MEDIA_TIME_NOT_FOUND","The wanted position is not found in the Manifest.");return Pe(Lr)});if(Xf(zn,er)){var xr=!((Sr=zn.paused.pending)!==null&&Sr!==void 0?Sr:T.getIsPaused());return(0,Y.z)((0,f.of)(Dn.Z.needsDecipherabilityFlush(zn.position.last,xr,zn.duration)),Ar)}else if(Xf(zn,Un))return(0,Y.z)((0,f.of)(Dn.Z.needsBufferFlush()),Ar);return Ar}))]))}}function nt(rt,st,It){ve.Z.info("SO: Creating new Stream for",rt,st.start);var Tt=new r.x,Ve=new r.x,Pe=T.getReference().asObservable().pipe((0,P.h)(function(Nt){var zt=Nt.position,$t;return st.end!=null&&(($t=zt.pending)!==null&&$t!==void 0?$t:zt.last)>=st.end})),Ut=Tt.pipe(xt(function(Nt){return nt(rt,Nt,Ve)})),Kt=It.pipe((0,p.q)(1),(0,ge.b)(function(){Tt.complete(),Ve.next(),Ve.complete()}),(0,$.B)()),rn=(0,ie.T)(Pe,Kt),mn=_m({bufferType:rt,content:{manifest:R,period:st},garbageCollectors:Ie,maxVideoBufferSize:ce,segmentFetcherCreator:u,segmentBuffersStore:o,options:v,playbackObserver:T,representationEstimator:d,wantedBufferAhead:de}).pipe((0,l.z)(function(Nt){if(Nt.type==="stream-status")if(Nt.value.hasFinishedLoading){var zt=R.getPeriodAfter(st);if(zt===null)return(0,Y.z)((0,f.of)(Nt),(0,f.of)(Dn.Z.streamComplete(rt)));Tt.next(zt)}else Ve.next();return(0,f.of)(Nt)}),(0,$.B)()),en=(0,Y.z)(mn.pipe((0,g.R)(rn)),(0,f.of)(Dn.Z.periodStreamCleared(rt,st)).pipe((0,ge.b)(function(){ve.Z.info("SO: Destroying Stream for",rt,st.start)})));return(0,ie.T)(en,Ut,Kt.pipe((0,Jt.l)()))}}function Xf(s,T){if(T.length===0)return!1;var d=s.position.last;return s.speed>=0?T[T.length-1].end>=d-5:T[0].start<=d+5}var Am=Sm,wm=Am;function bm(s,T,d){var o=new Mm(s),u=d.getReference().asObservable().pipe((0,On.Z)(function(G){var te=G.position,de,ce=(de=te.pending)!==null&&de!==void 0?de:te.last;if(ce<s.getMinimumSafePosition()){var pe=new et.Z("MEDIA_TIME_BEFORE_MANIFEST","The current position is behind the earliest time announced in the Manifest.");return ln.Z.warning(pe)}else if(ce>o.getMaximumAvailablePosition()){var Ee=new et.Z("MEDIA_TIME_AFTER_MANIFEST","The current position is after the latest time announced in the Manifest.");return ln.Z.warning(Ee)}return null},null)),v=(0,Xt.ZP)(void 0),R=(0,Dt.R)(s,"manifestUpdate").pipe((0,W.O)(null),(0,ge.b)(function(){var G=s.isDynamic?o.getEndingPosition():o.getMaximumAvailablePosition();v.setValue(G)}),(0,Jt.l)()),N=T.asObservable().pipe((0,ge.b)(function(G){if(!(G===null||!s.isLastPeriodKnown)){var te=s.periods[s.periods.length-1];if(G.value.period.id===(te==null?void 0:te.id)&&(G.value.type==="audio"||G.value.type==="video")){G.value.type==="audio"?o.updateLastAudioAdaptation(G.value.adaptation):o.updateLastVideoAdaptation(G.value.adaptation);var de=s.isDynamic?o.getMaximumAvailablePosition():o.getEndingPosition();v.setValue(de)}}}),(0,Jt.l)());return(0,ie.T)(R,N,u,v.asObservable().pipe(be(function(G){return G===void 0}),A(),(0,S.U)(function(G){return{type:"contentDurationUpdate",value:G}})))}var Mm=function(){function s(d){this._manifest=d,this._lastAudioAdaptation=void 0,this._lastVideoAdaptation=void 0}var T=s.prototype;return T.updateLastAudioAdaptation=function(o){this._lastAudioAdaptation=o},T.updateLastVideoAdaptation=function(o){this._lastVideoAdaptation=o},T.getMaximumAvailablePosition=function(){var o;if(this._manifest.isDynamic)return(o=this._manifest.getLivePosition())!==null&&o!==void 0?o:this._manifest.getMaximumSafePosition();if(this._lastVideoAdaptation===void 0||this._lastAudioAdaptation===void 0)return this._manifest.getMaximumSafePosition();if(this._lastAudioAdaptation===null){if(this._lastVideoAdaptation===null)return this._manifest.getMaximumSafePosition();var u=zs(this._lastVideoAdaptation);return typeof u!="number"?this._manifest.getMaximumSafePosition():u}else if(this._lastVideoAdaptation===null){var v=zs(this._lastAudioAdaptation);return typeof v!="number"?this._manifest.getMaximumSafePosition():v}else{var R=zs(this._lastAudioAdaptation),N=zs(this._lastVideoAdaptation);return typeof R!="number"||typeof N!="number"?this._manifest.getMaximumSafePosition():Math.min(R,N)}},T.getEndingPosition=function(){var o,u;if(!this._manifest.isDynamic)return this.getMaximumAvailablePosition();if(!(this._lastVideoAdaptation===void 0||this._lastAudioAdaptation===void 0)){if(this._lastAudioAdaptation===null)return this._lastVideoAdaptation===null?void 0:(o=Ks(this._lastVideoAdaptation))!==null&&o!==void 0?o:void 0;if(this._lastVideoAdaptation===null)return(u=Ks(this._lastAudioAdaptation))!==null&&u!==void 0?u:void 0;var v=Ks(this._lastAudioAdaptation),R=Ks(this._lastVideoAdaptation);return typeof v!="number"||typeof R!="number"?void 0:Math.min(v,R)}},s}();function zs(s){for(var T=s.representations,d=null,o,u=0;u<T.length;u++)if(T[u].index!==o){o=T[u].index;var v=T[u].index.getLastAvailablePosition();if(v===void 0)return;v!==null&&(d=(0,Ue.Z)(d)?v:Math.min(d,v))}return d}function Ks(s){for(var T=s.representations,d=null,o,u=0;u<T.length;u++)if(T[u].index!==o){o=T[u].index;var v=T[u].index.getEnd();if(v===void 0)return;v!==null&&(d=(0,Ue.Z)(d)?v:Math.min(d,v))}return d}function Rm(s,T,d){var o=d.autoPlay,u=d.initialPlayPerformed,v=d.initialSeekPerformed,R=d.speed,N=d.startTime;return T.deriveReadOnlyObserver(function(te,de){var ce=(0,Xt.ZP)(pe());return R.onUpdate(Ee,{clearSignal:de,emitCurrentValue:!1}),te.onUpdate(Ee,{clearSignal:de,emitCurrentValue:!1}),de.register(function(){ce.finish()}),ce;function pe(){var Ae=te.getValue(),Ie=R.getValue(),Ne;if(!v.getValue())Ne=N;else if(!s.isDynamic||s.isLastPeriodKnown){var De=s.periods[s.periods.length-1];De!==void 0&&De.end!==void 0&&Ae.position>De.end&&(Ne=De.end-1)}return{maximumPosition:s.getMaximumSafePosition(),position:{last:Ae.position,pending:Ne},duration:Ae.duration,paused:{last:Ae.paused,pending:u.getValue()||!o===Ae.paused?void 0:!o},readyState:Ae.readyState,speed:Ie}}function Ee(){ce.setValue(pe())}})}var Im=a(5039),Cm=Array.isArray;function km(s){return s.length===1&&Cm(s[0])?s[0]:s}function Pm(){for(var s=[],T=0;T<arguments.length;T++)s[T]=arguments[T];return s=km(s),s.length===1?(0,Ze.Xf)(s[0]):new c.y(Om(s))}function Om(s){return function(T){for(var d=[],o=function(v){d.push((0,Ze.Xf)(s[v]).subscribe((0,y.x)(T,function(R){if(d){for(var N=0;N<d.length;N++)N!==v&&d[N].unsubscribe();d=null}T.next(R)})))},u=0;d&&!T.closed&&u<s.length;u++)o(u)}}var Dm=a(5987);function xm(s){return s<=0?function(){return fe.E}:(0,b.e)(function(T,d){var o=[];T.subscribe((0,y.x)(d,function(u){o.push(u),s<o.length&&o.shift()},function(){var u,v;try{for(var R=(0,Dm.XA)(o),N=R.next();!N.done;N=R.next()){var G=N.value;d.next(G)}}catch(te){u={error:te}}finally{try{N&&!N.done&&(v=R.return)&&v.call(R)}finally{if(u)throw u.error}}d.complete()},void 0,function(){o=null}))})}var Lm=Be.gg,Nm=Be.ym,Zm=Be._E;function Bm(s){for(var T=[],d=0;d<s.length;d++){var o=s[d];o.updating&&T.push(o)}return T}function Jf(s){return(0,M.P)(function(){if(ve.Z.debug("Init: Trying to call endOfStream"),s.readyState!=="open")return ve.Z.debug("Init: MediaSource not open, cancel endOfStream"),(0,f.of)(null);var T=s.sourceBuffers,d=Bm(T);if(d.length===0)return ve.Z.info("Init: Triggering end of stream"),s.endOfStream(),(0,f.of)(null);ve.Z.debug("Init: Waiting SourceBuffers to be updated before calling endOfStream.");var o=d.map(function(u){return Zm(u).pipe((0,p.q)(1))});return Pm(ie.T.apply(void 0,o).pipe(xm(1)),Lm(T).pipe((0,p.q)(1))).pipe((0,l.z)(function(){return Jf(s)}))})}function Um(s){return Nm(s).pipe((0,W.O)(null),(0,X.w)(function(){return Jf(s)}))}var Fm=a(7920),Ku=a(6625),qf=a(2401),zm=a(7991);function ec(s,T){return s===void 0&&(s=0),T===void 0&&(T=zm.z),s<0&&(s=0),(0,Ku.H)(s,s,T)}var Km=365*24*3600,Wm=function(){function s(d,o){var u=this;this._lastKnownDuration=(0,Xt.ZP)(void 0),this._subscription=Gm(o).pipe((0,X.w)(function(v){return v?ae([u._lastKnownDuration.asObservable(),(0,Dt.R)(d,"manifestUpdate").pipe((0,W.O)(null))]):fe.E}),(0,X.w)(function(v){var R=v[0];return Hm(o.sourceBuffers).pipe((0,X.w)(function(N){return N?fe.E:G();function G(){var te=Vm(o,d,R);return te==="success"?fe.E:(0,Ku.H)(2e3).pipe((0,l.z)(function(){return G()}))}}))})).subscribe()}var T=s.prototype;return T.updateKnownDuration=function(o){this._lastKnownDuration.setValue(o)},T.stop=function(){this._subscription.unsubscribe()},s}();function Vm(s,T,d){var o,u=d;if(u===void 0)if(T.isDynamic){var v=(o=T.getLivePosition())!==null&&o!==void 0?o:T.getMaximumSafePosition();u=Math.max(Math.pow(2,32),v+Km)}else u=T.getMaximumSafePosition();for(var R=0,N=0;N<s.sourceBuffers.length;N++){var G=s.sourceBuffers[N],te=G.buffered.length;te>0&&(R=Math.max(G.buffered.end(te-1)))}if(u===s.duration)return"success";if(R>u){if(R<s.duration)try{ve.Z.info("Init: Updating duration to what is currently buffered",R),s.duration=u}catch(Ee){return ve.Z.warn("Duration Updater: Can't update duration on the MediaSource.",Ee instanceof Error?Ee:""),"failed"}return"partial"}else{var de=s.duration;try{ve.Z.info("Init: Updating duration",u),s.duration=u}catch(Ee){return ve.Z.warn("Duration Updater: Can't update duration on the MediaSource.",Ee instanceof Error?Ee:""),"failed"}var ce=Math.abs(s.duration-u);if(ce>=.1){var pe=Math.abs(s.duration-de);return ce<pe?"partial":"failed"}return"success"}}function Hm(s){if(s.length===0)return(0,f.of)(!1);for(var T=[],d=function(v){var R=s[v];T.push((0,ie.T)((0,qf.R)(R,"updatestart").pipe((0,S.U)(function(){return!0})),(0,qf.R)(R,"update").pipe((0,S.U)(function(){return!1})),ec(500).pipe((0,S.U)(function(){return R.updating}))).pipe((0,W.O)(R.updating),A()))},o=0;o<s.length;o++)d(o);return ae(T).pipe((0,S.U)(function(u){return u.some(function(v){return v})}),A())}function Gm(s){return(0,ie.T)((0,Be.ym)(s).pipe((0,S.U)(function(){return!0})),(0,Be.ep)(s).pipe((0,S.U)(function(){return!1})),(0,Be.UG)(s).pipe((0,S.U)(function(){return!1}))).pipe((0,W.O)(s.readyState==="open"),A())}var $m=a(342);function jm(){return(0,b.e)(function(s,T){var d,o=!1;s.subscribe((0,y.x)(T,function(u){var v=d;d=u,o&&T.next([v,u]),o=!0}))})}function Qm(s,T){return s.id===T.id&&s.start===T.start&&s.end===T.end}var Ym=Qm;function Xm(s,T){for(var d=[],o=T.periods,u=0;u<o.length;u++){var v=o[u],R=v.streamEvents;R.forEach(function(N){for(var G=N.start,te=N.end,de=N.id,ce=N.data,pe=0;pe<s.length;pe++){var Ee=s[pe];if(Ym(Ee,{id:de,start:G,end:te})){d.push(Ee);return}}if(te===void 0){var Ae={start:G,id:de,data:ce,publicEvent:{start:G,data:ce}};d.push(Ae)}else{var Ie={start:G,end:te,id:de,data:ce,publicEvent:{start:G,end:te,data:ce}};d.push(Ie)}})}return d}var Jm=Xm;function pl(s){return s.end!==void 0}function qm(s,T,d){var o=new WeakMap,u=[],v=(0,Dt.R)(s,"manifestUpdate").pipe((0,W.O)(null),(0,Qf.R)(function(N){return Jm(N,s)},[]));function R(N,G,te){for(var de=G.currentTime,ce=te.isSeeking,pe=te.currentTime,Ee=[],Ae=[],Ie=0;Ie<N.length;Ie++){var Ne=N[Ie],De=Ne.start,$e=pl(Ne)?Ne.end:void 0,ze=o.has(Ne);ze?(De>pe||$e!==void 0&&pe>=$e)&&(pl(Ne)&&Ae.push(Ne.publicEvent),o.delete(Ne)):De<=pe&&$e!==void 0&&pe<$e?(Ee.push({type:"stream-event",value:Ne.publicEvent}),o.set(Ne,!0)):de<De&&pe>=($e??De)&&(ce?Ee.push({type:"stream-event-skip",value:Ne.publicEvent}):(Ee.push({type:"stream-event",value:Ne.publicEvent}),pl(Ne)&&Ae.push(Ne.publicEvent)))}return(0,Y.z)(Ee.length>0?f.of.apply(void 0,Ee):fe.E,Ae.length>0?f.of.apply(void 0,Ae).pipe((0,ge.b)(function(gt){typeof gt.onExit=="function"&&gt.onExit()}),(0,Jt.l)()):fe.E)}return v.pipe((0,ge.b)(function(N){return u=N}),(0,S.U)(function(N){return N.length>0}),A(),(0,X.w)(function(N){if(!N)return fe.E;var G=vt.Z.getCurrent(),te=G.STREAM_EVENT_EMITTER_POLL_INTERVAL;return ae([ec(te).pipe((0,W.O)(null)),d]).pipe((0,S.U)(function(de){de[0];var ce=de[1],pe=ce.seeking;return{isSeeking:pe,currentTime:T.currentTime}}),jm(),(0,l.z)(function(de){var ce=de[0],pe=de[1];return R(u,ce,pe)}))}))}var eg=qm,tg=eg;function ng(s){var T=s.mediaElement,d=s.manifest,o=s.speed,u=s.bufferOptions,v=s.representationEstimator,R=s.playbackObserver,N=s.segmentFetcherCreator;return function(te,de,ce){var pe,Ee=new Wm(d,te),Ae=(pe=d.getPeriodForTime(de))!==null&&pe!==void 0?pe:d.getNextPeriod(de);if(Ae===void 0){var Ie=new et.Z("MEDIA_STARTING_TIME_NOT_FOUND","Wanted starting time not found in the Manifest.");return(0,wn._)(function(){return Ie})}var Ne=new we(T,te),De=(0,Fm.Z)({mediaElement:T,playbackObserver:R,startTime:de,mustAutoPlay:ce}),$e=De.seekAndPlay$,ze=De.initialPlayPerformed,gt=De.initialSeekPerformed,nt=R.getReference().asObservable(),rt=ze.asObservable().pipe((0,P.h)(function(en){return en}),(0,l.z)(function(){return tg(d,T,nt)})),st=Rm(d,R,{autoPlay:ce,initialPlayPerformed:ze,initialSeekPerformed:gt,speed:o,startTime:de}),It=new r.x,Tt=new r.x,Ve=new r.x,Pe=(0,Xt.ZP)(null),Ut=wm({manifest:d,initialPeriod:Ae},st,v,Ne,N,u).pipe((0,l.z)(function(en){switch(en.type){case"end-of-stream":return ve.Z.debug("Init: end-of-stream order received."),Um(te).pipe((0,Jt.l)(),(0,g.R)(It));case"resume-stream":return ve.Z.debug("Init: resume-stream order received."),It.next(null),fe.E;case"stream-status":var Nt=en.value,zt=Nt.period,$t=Nt.bufferType,Pn=Nt.imminentDiscontinuity,Bn=Nt.position;return Tt.next({period:zt,bufferType:$t,discontinuity:Pn,position:Bn}),fe.E;case"locked-stream":return Ve.next(en.value),fe.E;case"adaptationChange":return Pe.setValue(en),(0,f.of)(en);default:return(0,f.of)(en)}})),Kt=bm(d,Pe,st).pipe((0,l.z)(function(en){return en.type==="contentDurationUpdate"?(ve.Z.debug("Init: Duration has to be updated.",en.value),Ee.updateKnownDuration(en.value),fe.E):(0,f.of)(en)})),rn=(0,$m.Z)(R,d,o,Ve,Tt),mn=$e.pipe((0,X.w)(function(en){return en.type==="warning"?(0,f.of)(en):(0,Im.Z)(nt,T,Ne,!1)}));return(0,ie.T)(mn,rn,Ut,Kt,rt).pipe((0,fn.x)(function(){Ee.stop(),Ne.disposeAll()}))}}function rg(s){var T=!1;return function(){for(var d=arguments.length,o=new Array(d),u=0;u<d;u++)o[u]=arguments[u];return new c.y(function(v){if(T){v.complete();return}T=!0;var R=s.apply(void 0,o).subscribe({next:function(G){v.next(G)},error:function(G){T=!1,v.error(G)},complete:function(){T=!1,v.complete()}});return function(){R.unsubscribe(),T=!1}})}}function ig(s){var T=s.initialManifest,d=s.manifestFetcher,o=s.minimumManifestUpdateInterval,u=s.scheduleRefresh$,v=rg(function(de,ce){return d.fetch(de).pipe((0,l.z)(function(pe){return pe.type==="warning"?(0,f.of)(pe):pe.parse(ce)}),(0,$.B)())}),R=T.manifest,N=0;return(0,M.P)(function(){return G(T)});function G(de){var ce=de.sendingTime,pe=de.parsingTime,Ee=de.updatingTime,Ae=pe!==void 0?pe+(Ee??0):void 0,Ie=vt.Z.getCurrent(),Ne=Ie.MAX_CONSECUTIVE_MANIFEST_PARSING_IN_UNSAFE_MODE,De=Ie.MIN_MANIFEST_PARSING_TIME_TO_ENTER_UNSAFE_MODE,$e=N>0?N<Ne:Ae!==void 0?Ae>=De:!1,ze=ce===void 0?0:performance.now()-ce,gt=Math.max(o-ze,0),nt=u.pipe((0,l.z)(function(Tt){var Ve=Tt.completeRefresh,Pe=Tt.delay,Ut=Tt.canUseUnsafeMode,Kt=Ut&&$e;return tc(Pe??0,o,ce).pipe((0,S.U)(function(){return{completeRefresh:Ve,unsafeMode:Kt}}))})),rt=R.expired===null?fe.E:(0,Ku.H)(gt).pipe((0,l.z)(function(){return R.expired===null?fe.E:(0,Q.D)(R.expired)}),(0,S.U)(function(){return{completeRefresh:!0,unsafeMode:$e}})),st=It();return(0,ie.T)(st,nt,rt).pipe((0,p.q)(1),(0,l.z)(function(Tt){var Ve=Tt.completeRefresh,Pe=Tt.unsafeMode;return te({completeRefresh:Ve,unsafeMode:Pe})}),(0,l.z)(function(Tt){return Tt.type==="warning"?(0,f.of)(Tt):G(Tt)}));function It(){if(R.lifetime===void 0||R.lifetime<0)return fe.E;var Tt=R.lifetime*1e3-ze,Ve;return Ae===void 0?Ve=Tt:R.lifetime<3&&Ae>=100?(Ve=Math.min(Math.max(3e3-ze,Math.max(Tt,0)+Ae),Tt*6),ve.Z.info("MUS: Manifest update rythm is too frequent. Postponing next request.",Tt,Ve)):Ae>=R.lifetime*1e3/10?(Ve=Math.min(Math.max(Tt,0)+Ae,Tt*6),ve.Z.info("MUS: Manifest took too long to parse. Postponing next request",Ve,Ve)):Ve=Tt,(0,Ku.H)(Math.max(Ve,gt)).pipe((0,S.U)(function(){return{completeRefresh:!1,unsafeMode:$e}}))}}function te(de){var ce=de.completeRefresh,pe=de.unsafeMode,Ee=R.updateUrl,Ae=ce||Ee===void 0,Ie=Ae?R.getUrl():Ee,Ne=R.clockOffset;return pe?(N+=1,ve.Z.info('Init: Refreshing the Manifest in "unsafeMode" for the '+String(N)+" consecutive time.")):N>0&&(ve.Z.info('Init: Not parsing the Manifest in "unsafeMode" anymore after '+String(N)+" consecutive times."),N=0),v(Ie,{externalClockOffset:Ne,previousManifest:R,unsafeMode:pe}).pipe((0,l.z)(function(De){if(De.type==="warning")return(0,f.of)(De);var $e=De.manifest,ze=De.sendingTime,gt=De.receivedTime,nt=De.parsingTime,rt=performance.now();if(Ae)R.replace($e);else try{R.update($e)}catch(Ve){var st=Ve instanceof Error?Ve.message:"unknown error";ve.Z.warn("MUS: Attempt to update Manifest failed: "+st,"Re-downloading the Manifest fully");var It=vt.Z.getCurrent(),Tt=It.FAILED_PARTIAL_UPDATE_MANIFEST_REFRESH_DELAY;return tc(Tt,o,ze).pipe((0,l.z)(function(){return te({completeRefresh:!0,unsafeMode:!1})}))}return(0,f.of)({type:"parsed",manifest:R,sendingTime:ze,receivedTime:gt,parsingTime:nt,updatingTime:performance.now()-rt})}))}}function tc(s,T,d){return(0,M.P)(function(){var o=d===void 0?0:performance.now()-d,u=Math.max(T-o,0);return(0,Ku.H)(Math.max(s-o,u))})}var ag=a(2447);function ug(s){var T=s.adaptiveOptions,d=s.autoPlay,o=s.bufferOptions,u=s.keySystems,v=s.lowLatencyMode,R=s.manifest$,N=s.manifestFetcher,G=s.mediaElement,te=s.minimumManifestUpdateInterval,de=s.playbackObserver,ce=s.segmentRequestOptions,pe=s.speed,Ee=s.startAt,Ae=s.transport,Ie=s.textTrackOptions,Ne=vn(T),De=new bn.ZP,$e=cn(G).pipe((0,I.d)({refCount:!0})),ze=new r.x,gt=(0,Cn.Z)(G,u,ze,$e).pipe((0,pn.Z)(),(0,$.B)()),nt=(0,ag.Z)(G),rt=gt.pipe((0,P.h)(function(It){return It.type==="decryption-ready"||It.type==="decryption-disabled"}),(0,S.U)(function(It){return It.value}),(0,p.q)(1)),st=ae([R,rt]).pipe((0,l.z)(function(It){var Tt=It[0],Ve=It[1],Pe=Ve.drmSystemId,Ut=Ve.mediaSource;if(Tt.type==="warning")return(0,f.of)(Tt);var Kt=Tt.manifest;ve.Z.debug("Init: Calculating initial time");var rn=dn(Kt,v,Ee);ve.Z.debug("Init: Initial time calculated:",rn);var mn={lowLatencyMode:v,requestTimeout:ce.requestTimeout,maxRetryRegular:ce.regularError,maxRetryOffline:ce.offlineError},en=new lt(Ae,mn,De.signal),Nt=ng({bufferOptions:(0,jt.Z)({textTrackOptions:Ie,drmSystemId:Pe},o),manifest:Kt,mediaElement:G,playbackObserver:de,representationEstimator:Ne,segmentFetcherCreator:en,speed:pe}),zt=Qn(Ut,rn,d),$t=new r.x,Pn=ig({initialManifest:Tt,manifestFetcher:N,minimumManifestUpdateInterval:te,scheduleRefresh$:$t}),Bn=(0,ie.T)((0,Dt.R)(Kt,"manifestUpdate").pipe((0,S.U)(function(){return ln.Z.manifestUpdate()})),(0,Dt.R)(Kt,"decipherabilityUpdate").pipe((0,S.U)(ln.Z.decipherabilityUpdate)));return(0,ie.T)(Bn,Pn,zt).pipe((0,W.O)(ln.Z.manifestReady(Kt)),(0,fn.x)(function(){$t.complete()}));function Qn(er,Un,cr){var zn=new r.x,Sr=Nt(er,Un,cr).pipe((0,On.Z)(function(Xn){switch(Xn.type){case"needs-manifest-refresh":return $t.next({completeRefresh:!1,canUseUnsafeMode:!0}),null;case"manifest-might-be-out-of-sync":var Mr=vt.Z.getCurrent(),Lr=Mr.OUT_OF_SYNC_MANIFEST_REFRESH_DELAY;return $t.next({completeRefresh:!0,canUseUnsafeMode:!1,delay:Lr}),null;case"needs-media-source-reload":return zn.next(Xn.value),null;case"needs-decipherability-flush":var Yi=Vi(G);if(Zt(Yi))return zn.next(Xn.value),null;var ci=Xn.value.position;return ci+.001<Xn.value.duration?de.setCurrentTime(G.currentTime+.001):de.setCurrentTime(ci),null;case"encryption-data-encountered":return ze.next(Xn.value),null;case"needs-buffer-flush":return de.setCurrentTime(G.currentTime+.001),null}return Xn},null)),Ar=Sr.pipe((0,g.R)(zn)),xr=zn.pipe((0,X.w)(function(Xn){return cn(G).pipe((0,l.z)(function(Mr){return Qn(Mr,Xn.position,Xn.autoPlay)}),(0,W.O)(ln.Z.reloadingMediaSource()))}));return(0,ie.T)(xr,Ar)}}));return(0,ie.T)(st,nt,gt.pipe((0,Jt.l)())).pipe((0,fn.x)(function(){De.cancel()}))}var sg=ug,nc=a(5553);function ml(s,T){var d=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(d)return(d=d.call(s)).next.bind(d);if(Array.isArray(s)||(d=og(s))||T&&s&&typeof s.length=="number"){d&&(s=d);var o=0;return function(){return o>=s.length?{done:!0}:{done:!1,value:s[o++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function og(s,T){if(s){if(typeof s=="string")return rc(s,T);var d=Object.prototype.toString.call(s).slice(8,-1);if(d==="Object"&&s.constructor&&(d=s.constructor.name),d==="Map"||d==="Set")return Array.from(s);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return rc(s,T)}}function rc(s,T){(T==null||T>s.length)&&(T=s.length);for(var d=0,o=new Array(T);d<T;d++)o[d]=s[d];return o}function lg(s){var T,d,o,u,v,R,N,G,te,de,ce,pe,Ee,Ae,Ie,Ne,De=vt.Z.getCurrent(),$e=De.DEFAULT_INITIAL_BITRATES,ze=De.DEFAULT_LIMIT_VIDEO_WIDTH,gt=De.DEFAULT_MIN_BITRATES,nt=De.DEFAULT_MAX_BITRATES,rt=De.DEFAULT_MAX_BUFFER_AHEAD,st=De.DEFAULT_MAX_BUFFER_BEHIND,It=De.DEFAULT_MAX_VIDEO_BUFFER_SIZE,Tt=De.DEFAULT_STOP_AT_END,Ve=De.DEFAULT_THROTTLE_WHEN_HIDDEN,Pe=De.DEFAULT_THROTTLE_VIDEO_BITRATE_WHEN_HIDDEN,Ut=De.DEFAULT_WANTED_BUFFER_AHEAD;if((0,Ue.Z)(s.maxBufferAhead))T=rt;else if(T=Number(s.maxBufferAhead),isNaN(T))throw new Error("Invalid maxBufferAhead parameter. Should be a number.");if((0,Ue.Z)(s.maxBufferBehind))d=st;else if(d=Number(s.maxBufferBehind),isNaN(d))throw new Error("Invalid maxBufferBehind parameter. Should be a number.");if((0,Ue.Z)(s.wantedBufferAhead))o=Ut;else if(o=Number(s.wantedBufferAhead),isNaN(o))throw new Error("Invalid wantedBufferAhead parameter. Should be a number.");if((0,Ue.Z)(s.maxVideoBufferSize))u=It;else if(u=Number(s.maxVideoBufferSize),isNaN(u))throw new Error("Invalid maxVideoBufferSize parameter. Should be a number.");var Kt=(0,Ue.Z)(s.limitVideoWidth)?ze:!!s.limitVideoWidth;if((0,Ue.Z)(s.throttleWhenHidden)?v=Ve:((0,Fn.Z)("`throttleWhenHidden` API is deprecated. Consider using `throttleVideoBitrateWhenHidden` instead."),v=!!s.throttleWhenHidden),v?R=!1:R=(0,Ue.Z)(s.throttleVideoBitrateWhenHidden)?Pe:!!s.throttleVideoBitrateWhenHidden,s.preferredTextTracks!==void 0?Array.isArray(s.preferredTextTracks)?G=s.preferredTextTracks:((0,Fn.Z)("Invalid `preferredTextTracks` option, it should be an Array"),G=[]):G=[],s.preferredAudioTracks!==void 0?Array.isArray(s.preferredAudioTracks)?N=s.preferredAudioTracks:((0,Fn.Z)("Invalid `preferredAudioTracks` option, it should be an Array"),N=[]):N=[],s.preferredVideoTracks!==void 0?Array.isArray(s.preferredVideoTracks)?te=s.preferredVideoTracks:((0,Fn.Z)("Invalid `preferredVideoTracks` option, it should be an Array"),te=[]):te=[],(0,Ue.Z)(s.videoElement))de=document.createElement("video");else if(s.videoElement instanceof HTMLMediaElement)de=s.videoElement;else throw new Error("Invalid videoElement parameter. Should be a HTMLMediaElement.");if((0,Ue.Z)(s.initialVideoBitrate))ce=$e.video;else if(ce=Number(s.initialVideoBitrate),isNaN(ce))throw new Error("Invalid initialVideoBitrate parameter. Should be a number.");if((0,Ue.Z)(s.initialAudioBitrate))pe=$e.audio;else if(pe=Number(s.initialAudioBitrate),isNaN(pe))throw new Error("Invalid initialAudioBitrate parameter. Should be a number.");if((0,Ue.Z)(s.minVideoBitrate))Ae=gt.video;else if(Ae=Number(s.minVideoBitrate),isNaN(Ae))throw new Error("Invalid maxVideoBitrate parameter. Should be a number.");if((0,Ue.Z)(s.minAudioBitrate))Ee=gt.audio;else if(Ee=Number(s.minAudioBitrate),isNaN(Ee))throw new Error("Invalid minAudioBitrate parameter. Should be a number.");if((0,Ue.Z)(s.maxVideoBitrate))Ne=nt.video;else{if(Ne=Number(s.maxVideoBitrate),isNaN(Ne))throw new Error("Invalid maxVideoBitrate parameter. Should be a number.");if(Ae>Ne)throw new Error('Invalid maxVideoBitrate parameter. Its value, "'+(Ne+'", is inferior to the set minVideoBitrate, "')+(Ae+'"'))}if((0,Ue.Z)(s.maxAudioBitrate))Ie=nt.audio;else{if(Ie=Number(s.maxAudioBitrate),isNaN(Ie))throw new Error("Invalid maxAudioBitrate parameter. Should be a number.");if(Ee>Ie)throw new Error('Invalid maxAudioBitrate parameter. Its value, "'+(Ie+'", is inferior to the set minAudioBitrate, "')+(Ee+'"'))}var rn=(0,Ue.Z)(s.stopAtEnd)?Tt:!!s.stopAtEnd;return{maxBufferAhead:T,maxBufferBehind:d,limitVideoWidth:Kt,videoElement:de,wantedBufferAhead:o,maxVideoBufferSize:u,throttleWhenHidden:v,throttleVideoBitrateWhenHidden:R,preferredAudioTracks:N,preferredTextTracks:G,preferredVideoTracks:te,initialAudioBitrate:pe,initialVideoBitrate:ce,minAudioBitrate:Ee,minVideoBitrate:Ae,maxAudioBitrate:Ie,maxVideoBitrate:Ne,stopAtEnd:rn}}function dg(s){var T,d,o,u;if(s===null||typeof s!="object"&&s!==void 0)throw new Error("API: reload - Invalid options format.");if((s==null?void 0:s.reloadAt)===null||typeof(s==null?void 0:s.reloadAt)!="object"&&(s==null?void 0:s.reloadAt)!==void 0)throw new Error("API: reload - Invalid 'reloadAt' option format.");if(typeof((T=s==null?void 0:s.reloadAt)===null||T===void 0?void 0:T.position)!="number"&&((d=s==null?void 0:s.reloadAt)===null||d===void 0?void 0:d.position)!==void 0)throw new Error("API: reload - Invalid 'reloadAt.position' option format.");if(typeof((o=s==null?void 0:s.reloadAt)===null||o===void 0?void 0:o.relative)!="number"&&((u=s==null?void 0:s.reloadAt)===null||u===void 0?void 0:u.relative)!==void 0)throw new Error("API: reload - Invalid 'reloadAt.relative' option format.")}function fg(s){var T,d,o,u,v,R,N,G,te,de,ce,pe,Ee,Ae=vt.Z.getCurrent(),Ie=Ae.DEFAULT_AUDIO_TRACK_SWITCHING_MODE,Ne=Ae.DEFAULT_AUTO_PLAY,De=Ae.DEFAULT_CODEC_SWITCHING_BEHAVIOR,$e=Ae.DEFAULT_ENABLE_FAST_SWITCHING,ze=Ae.DEFAULT_MANUAL_BITRATE_SWITCHING_MODE,gt=Ae.DEFAULT_SHOW_NATIVE_SUBTITLE,nt=Ae.DEFAULT_TEXT_TRACK_MODE;if((0,Ue.Z)(s))throw new Error("No option set on loadVideo");if(!(0,Ue.Z)(s.url))G=String(s.url);else if((0,Ue.Z)((T=s.transportOptions)===null||T===void 0?void 0:T.initialManifest)&&(0,Ue.Z)((d=s.transportOptions)===null||d===void 0?void 0:d.manifestLoader))throw new Error("Unable to load a content: no url set on loadVideo.\nPlease provide at least either an `url` argument, a `transportOptions.initialManifest` option or a `transportOptions.manifestLoader` option so the RxPlayer can load the content.");if((0,Ue.Z)(s.transport))throw new Error("No transport set on loadVideo");te=String(s.transport);var rt=(0,Ue.Z)(s.autoPlay)?Ne:!!s.autoPlay;if((0,Ue.Z)(s.keySystems))de=[];else{de=Array.isArray(s.keySystems)?s.keySystems:[s.keySystems];for(var st=ml(de),It;!(It=st()).done;){var Tt=It.value;if(typeof Tt.type!="string"||typeof Tt.getLicense!="function")throw new Error("Invalid key system given: Missing type string or getLicense callback")}}var Ve=s.lowLatencyMode===void 0?!1:!!s.lowLatencyMode,Pe=typeof s.transportOptions=="object"&&s.transportOptions!==null?s.transportOptions:{},Ut=(o=s.transportOptions)===null||o===void 0?void 0:o.initialManifest,Kt=(v=(u=s.transportOptions)===null||u===void 0?void 0:u.minimumManifestUpdateInterval)!==null&&v!==void 0?v:0,rn=(0,Ue.Z)(s.audioTrackSwitchingMode)?Ie:s.audioTrackSwitchingMode;(0,ne.Z)(["seamless","direct","reload"],rn)||(ve.Z.warn("The `audioTrackSwitchingMode` loadVideo option must match one of the following strategy name:\n- `seamless`\n- `direct`\n- `reload`\nIf badly set, "+Ie+" strategy will be used as default"),rn=Ie);var mn=(0,Ue.Z)(s.onCodecSwitch)?De:s.onCodecSwitch;(0,ne.Z)(["continue","reload"],mn)||(ve.Z.warn("The `onCodecSwitch` loadVideo option must match one of the following string:\n- `continue`\n- `reload`\nIf badly set, "+De+" will be used as default"),mn=De);var en=(0,jt.Z)({},Pe,{supplementaryImageTracks:[],supplementaryTextTracks:[],lowLatencyMode:Ve});if(delete en.initialManifest,delete en.minimumManifestUpdateInterval,s.supplementaryTextTracks!==void 0){(0,Fn.Z)("The `supplementaryTextTracks` loadVideo option is deprecated.\nPlease use the `TextTrackRenderer` tool instead.");for(var Nt=Array.isArray(s.supplementaryTextTracks)?s.supplementaryTextTracks:[s.supplementaryTextTracks],zt=ml(Nt),$t;!($t=zt()).done;){var Pn=$t.value;if(typeof Pn.language!="string"||typeof Pn.mimeType!="string"||typeof Pn.url!="string")throw new Error("Invalid supplementary text track given. Missing either language, mimetype or url")}en.supplementaryTextTracks=Nt}if(s.supplementaryImageTracks!==void 0){(0,Fn.Z)("The `supplementaryImageTracks` loadVideo option is deprecated.\nPlease use the `parseBifThumbnails` tool instead.");for(var Bn=Array.isArray(s.supplementaryImageTracks)?s.supplementaryImageTracks:[s.supplementaryImageTracks],Qn=ml(Bn),er;!(er=Qn()).done;){var Un=er.value;if(typeof Un.mimeType!="string"||typeof Un.url!="string")throw new Error("Invalid supplementary image track given. Missing either mimetype or url")}en.supplementaryImageTracks=Bn}if((0,Ue.Z)(s.textTrackMode))ce=nt;else{if(s.textTrackMode!=="native"&&s.textTrackMode!=="html")throw new Error("Invalid textTrackMode.");ce=s.textTrackMode}(0,Ue.Z)(s.defaultAudioTrack)||(0,Fn.Z)("The `defaultAudioTrack` loadVideo option is deprecated.\nPlease use the `preferredAudioTracks` constructor option or the`setPreferredAudioTracks` method instead");var cr=(0,nc.iH)(s.defaultAudioTrack);(0,Ue.Z)(s.defaultTextTrack)||(0,Fn.Z)("The `defaultTextTrack` loadVideo option is deprecated.\nPlease use the `preferredTextTracks` constructor option or the`setPreferredTextTracks` method instead");var zn=(0,nc.Y1)(s.defaultTextTrack),Sr=!gt;(0,Ue.Z)(s.hideNativeSubtitle)||((0,Fn.Z)("The `hideNativeSubtitle` loadVideo option is deprecated"),Sr=!!s.hideNativeSubtitle);var Ar=(R=s.manualBitrateSwitchingMode)!==null&&R!==void 0?R:ze,xr=(0,Ue.Z)(s.enableFastSwitching)?$e:s.enableFastSwitching;if(ce==="html"){if((0,Ue.Z)(s.textTrackElement))throw new Error('You have to provide a textTrackElement in "html" textTrackMode.');if(s.textTrackElement instanceof HTMLElement)pe=s.textTrackElement;else throw new Error("textTrackElement should be an HTMLElement.")}else(0,Ue.Z)(s.textTrackElement)||ve.Z.warn('API: You have set a textTrackElement without being in an "html" textTrackMode. It will be ignored.');if(!(0,Ue.Z)(s.startAt))if(s.startAt.wallClockTime instanceof Date){var Xn=s.startAt.wallClockTime.getTime()/1e3;Ee=(0,jt.Z)({},s.startAt,{wallClockTime:Xn})}else Ee=s.startAt;var Mr=(N=s.networkConfig)!==null&&N!==void 0?N:{};return{autoPlay:rt,defaultAudioTrack:cr,defaultTextTrack:zn,enableFastSwitching:xr,hideNativeSubtitle:Sr,keySystems:de,initialManifest:Ut,lowLatencyMode:Ve,manualBitrateSwitchingMode:Ar,audioTrackSwitchingMode:rn,minimumManifestUpdateInterval:Kt,networkConfig:Mr,onCodecSwitch:mn,startAt:Ee,textTrackElement:pe,textTrackMode:ce,transport:te,transportOptions:en,url:G}}var cg=["canplay","ended","play","pause","seeking","seeked","loadedmetadata","ratechange"],vg=function(){function s(d,o){this._internalSeeksIncoming=[],this._mediaElement=d,this._withMediaSource=o.withMediaSource,this._lowLatencyMode=o.lowLatencyMode,this._canceller=new bn.ZP,this._observationRef=this._createSharedReference()}var T=s.prototype;return T.stop=function(){this._canceller.cancel()},T.getCurrentTime=function(){return this._mediaElement.currentTime},T.getPlaybackRate=function(){return this._mediaElement.playbackRate},T.getIsPaused=function(){return this._mediaElement.paused},T.setCurrentTime=function(o){this._internalSeeksIncoming.push(o),this._mediaElement.currentTime=o},T.setPlaybackRate=function(o){this._mediaElement.playbackRate=o},T.getReadyState=function(){return this._mediaElement.readyState},T.getReference=function(){return this._observationRef},T.listen=function(o,u){var v;if(this._canceller.isUsed||((v=u==null?void 0:u.clearSignal)===null||v===void 0?void 0:v.isCancelled)===!0)return li.Z;this._observationRef.onUpdate(o,{clearSignal:u==null?void 0:u.clearSignal,emitCurrentValue:u==null?void 0:u.includeLastObservation})},T.deriveReadOnlyObserver=function(o){return uc(this,o,this._canceller.signal)},T._createSharedReference=function(){var o=this;if(this._observationRef!==void 0)return this._observationRef;var u,v=vt.Z.getCurrent(),R=v.SAMPLING_INTERVAL_MEDIASOURCE,N=v.SAMPLING_INTERVAL_LOW_LATENCY,G=v.SAMPLING_INTERVAL_NO_MEDIASOURCE,te=function($e){var ze=$e,gt;ze==="seeking"&&o._internalSeeksIncoming.length>0&&(ze="internal-seeking",gt=o._internalSeeksIncoming.shift());var nt=u??o._generateInitialObservation(),rt=ac(o._mediaElement,ze,o._withMediaSource),st=null;rt.seeking&&(typeof gt=="number"?st=gt:nt.pendingInternalSeek!==null&&$e!=="seeking"&&(st=nt.pendingInternalSeek));var It=pg(nt,rt,{lowLatencyMode:o._lowLatencyMode,withMediaSource:o._withMediaSource}),Tt=mg(nt,rt),Ve=(0,jt.Z)({},{rebuffering:It,freezing:Tt,pendingInternalSeek:st},rt);return ve.Z.hasLevel("DEBUG")&&ve.Z.debug("API: current media element state tick","event",Ve.event,"position",Ve.position,"seeking",Ve.seeking,"internalSeek",Ve.pendingInternalSeek,"rebuffering",Ve.rebuffering!==null,"freezing",Ve.freezing!==null,"ended",Ve.ended,"paused",Ve.paused,"playbackRate",Ve.playbackRate,"readyState",Ve.readyState),Ve},de=(0,Xt.ZP)(te("init")),ce=function($e){var ze=te($e);ve.Z.hasLevel("DEBUG")&&ve.Z.debug(`API: current playback timeline:
`+gg(ze.buffered,ze.position),`
`+$e),u=ze,de.setValue(ze)},pe=this._lowLatencyMode?N:this._withMediaSource?R:G,Ee=setInterval(Ie,pe),Ae=cg.map(function(De){o._mediaElement.addEventListener(De,$e);function $e(){Ne(),ce(De)}return function(){o._mediaElement.removeEventListener(De,$e)}});return this._canceller.signal.register(function(){clearInterval(Ee),Ae.forEach(function(De){return De()}),de.finish()}),de;function Ie(){ce("timeupdate")}function Ne(){clearInterval(Ee),Ee=setInterval(Ie,pe)}},T._generateInitialObservation=function(){return(0,jt.Z)(ac(this._mediaElement,"init",this._withMediaSource),{rebuffering:null,freezing:null,pendingInternalSeek:null})},s}();function ic(s,T){if(s===null)return 0;var d=T?"LOW_LATENCY":"DEFAULT",o=vt.Z.getCurrent(),u=o.RESUME_GAP_AFTER_SEEKING,v=o.RESUME_GAP_AFTER_NOT_ENOUGH_DATA,R=o.RESUME_GAP_AFTER_BUFFERING;switch(s.reason){case"seeking":return u[d];case"not-ready":return v[d];case"buffering":return R[d]}}function hg(s,T,d,o,u){var v=vt.Z.getCurrent(),R=v.REBUFFERING_GAP,N=u?"LOW_LATENCY":"DEFAULT";return T===void 0?d&&Math.abs(o-s)<=R[N]:T!==null&&o-T.end<=R[N]}function ac(s,T,d){var o=s.buffered,u=s.currentTime,v=s.duration,R=s.ended,N=s.paused,G=s.playbackRate,te=s.readyState,de=s.seeking,ce,pe;return!d&&o.length===0&&te>=3?(ce=void 0,pe=void 0):(ce=(0,hn.rx)(o,u),pe=ce!==null?ce.end-u:1/0),{bufferGap:pe,buffered:o,currentRange:ce,position:u,duration:v,ended:R,paused:N,playbackRate:G,readyState:te,seeking:de,event:T}}function pg(s,T,d){var o=d.withMediaSource,u=d.lowLatencyMode,v=vt.Z.getCurrent(),R=v.REBUFFERING_GAP,N=T.event,G=T.position,te=T.bufferGap,de=T.currentRange,ce=T.duration,pe=T.paused,Ee=T.readyState,Ae=T.ended,Ie=s.rebuffering,Ne=s.event,De=s.position,$e=hg(G,de,Ae,ce,u),ze=Ee>=1&&N!=="loadedmetadata"&&Ie===null&&!($e||Ae),gt=null,nt,rt,st=u?R.LOW_LATENCY:R.DEFAULT;if(o){if(ze)te===1/0?(nt=!0,gt=G):te===void 0?Ee<3&&(nt=!0,gt=void 0):te<=st&&(nt=!0,gt=G+te);else if(Ie!==null){var It=ic(Ie,u);nt!==!0&&Ie!==null&&Ee>1&&($e||Ae||te!==void 0&&isFinite(te)&&te>It)||te===void 0&&Ee>=3?rt=!0:te===void 0?gt=void 0:te===1/0?gt=G:te<=It&&(gt=G+te)}}else ze&&(!pe&&N==="timeupdate"&&Ne==="timeupdate"&&G===De||N==="seeking"&&(te===1/0||te===void 0&&Ee<3))?nt=!0:Ie!==null&&(N!=="seeking"&&G!==De||N==="canplay"||te===void 0&&Ee>=3||te!==void 0&&te<1/0&&(te>ic(Ie,u)||$e||Ae))&&(rt=!0);if(rt===!0)return null;if(nt===!0||Ie!==null){var Tt;return N==="seeking"||Ie!==null&&Ie.reason==="seeking"||T.seeking?Tt="seeking":Ee===1?Tt="not-ready":Tt="buffering",Ie!==null&&Ie.reason===Tt?{reason:Ie.reason,timestamp:Ie.timestamp,position:gt}:{reason:Tt,timestamp:performance.now(),position:gt}}return null}function mg(s,T){var d=vt.Z.getCurrent(),o=d.MINIMUM_BUFFER_AMOUNT_BEFORE_FREEZING;return s.freezing?T.ended||T.paused||T.readyState===0||T.playbackRate===0||s.position!==T.position?null:s.freezing:T.event==="timeupdate"&&T.bufferGap!==void 0&&T.bufferGap>o&&!T.ended&&!T.paused&&T.readyState>=1&&T.playbackRate!==0&&T.position===s.position?{timestamp:performance.now()}:null}function gg(s,T){for(var d="",o="",u=0;u<s.length;u++){var v=s.start(u),R=s.end(u),N=v.toFixed(2),G=R.toFixed(2),te=(R-v).toFixed(2),de=N+"|=="+te+"==|"+G;if(d+=de,o.length===0&&R>T){var ce=d.length-Math.floor(de.length/2);o=" ".repeat(ce)+("^"+T)}if(u<s.length-1){var pe=s.start(u+1),Ee=(pe-R).toFixed(2),Ae=" ~"+Ee+"~ ";if(d+=Ae,o.length===0&&T<pe){var Ie=d.length-Math.floor(Ae.length/2);o=" ".repeat(Ie)+("^"+T)}}}return o.length===0&&(o=" ".repeat(d.length)+("^"+T)),d+`
`+o}function uc(s,T,d){var o=T(s.getReference(),d);return{getCurrentTime:function(){return s.getCurrentTime()},getReadyState:function(){return s.getReadyState()},getPlaybackRate:function(){return s.getPlaybackRate()},getIsPaused:function(){return s.getIsPaused()},getReference:function(){return o},listen:function(v,R){var N;d.isCancelled||((N=R==null?void 0:R.clearSignal)===null||N===void 0?void 0:N.isCancelled)===!0||o.onUpdate(v,{clearSignal:R==null?void 0:R.clearSignal,emitCurrentValue:R==null?void 0:R.includeLastObservation})},deriveReadOnlyObserver:function(v){return uc(this,v,d)}}}var sc=a(7829);function oc(s){return s.map(function(T){return T===null?T:{normalized:T.language===void 0?void 0:(0,sc.ZP)(T.language),audioDescription:T.audioDescription,codec:T.codec}})}function lc(s){return s.map(function(T){return T===null?T:{normalized:(0,sc.ZP)(T.language),closedCaption:T.closedCaption}})}var yg=function(){function s(d){this._periods=new _n(function(o,u){return o.period.start-u.period.start}),this._audioChoiceMemory=new WeakMap,this._textChoiceMemory=new WeakMap,this._videoChoiceMemory=new WeakMap,this._preferredAudioTracks=[],this._preferredTextTracks=[],this._preferredVideoTracks=[],this.trickModeTrackEnabled=d.preferTrickModeTracks}var T=s.prototype;return T.setPreferredAudioTracks=function(o,u){this._preferredAudioTracks=o,u&&this._applyAudioPreferences()},T.setPreferredTextTracks=function(o,u){this._preferredTextTracks=o,u&&this._applyTextPreferences()},T.setPreferredVideoTracks=function(o,u){this._preferredVideoTracks=o,u&&this._applyVideoPreferences()},T.addPeriod=function(o,u,v){var R=Jr(this._periods,u),N=u.getSupportedAdaptations(o);if(R!==void 0)if(R[o]!==void 0){ve.Z.warn("TrackChoiceManager: "+o+" already added for period",u.start);return}else R[o]={adaptations:N,adaptation$:v};else{var G;this._periods.add((G={period:u},G[o]={adaptations:N,adaptation$:v},G))}},T.removePeriod=function(o,u){var v=Sg(this._periods,u);if(v===void 0){ve.Z.warn("TrackChoiceManager: "+o+" not found for period",u.start);return}var R=this._periods.get(v);if(R[o]===void 0){ve.Z.warn("TrackChoiceManager: "+o+" already removed for period",u.start);return}delete R[o],R.audio===void 0&&R.text===void 0&&R.video===void 0&&this._periods.removeElement(R)},T.resetPeriods=function(){for(;this._periods.length()>0;)this._periods.pop()},T.update=function(){this._resetChosenAudioTracks(),this._resetChosenTextTracks(),this._resetChosenVideoTracks()},T.setInitialAudioTrack=function(o){var u=Jr(this._periods,o),v=u!==void 0?u.audio:null;if((0,Ue.Z)(v)||u===void 0)throw new Error("TrackChoiceManager: Given Period not found.");var R=o.getSupportedAdaptations("audio"),N=this._audioChoiceMemory.get(o);if(N===null)v.adaptation$.next(null);else if(N===void 0||!(0,ne.Z)(R,N)){var G=this._preferredAudioTracks,te=oc(G),de=dc(R,te);this._audioChoiceMemory.set(o,de),v.adaptation$.next(de)}else v.adaptation$.next(N)},T.setInitialTextTrack=function(o){var u=Jr(this._periods,o),v=u!==void 0?u.text:null;if((0,Ue.Z)(v)||u===void 0)throw new Error("TrackChoiceManager: Given Period not found.");var R=o.getSupportedAdaptations("text"),N=this._textChoiceMemory.get(o);if(N===null)v.adaptation$.next(null);else if(N===void 0||!(0,ne.Z)(R,N)){var G=this._preferredTextTracks,te=lc(G),de=fc(R,te);this._textChoiceMemory.set(o,de),v.adaptation$.next(de)}else v.adaptation$.next(N)},T.setInitialVideoTrack=function(o){var u=Jr(this._periods,o),v=u!==void 0?u.video:null;if((0,Ue.Z)(v)||u===void 0)throw new Error("TrackChoiceManager: Given Period not found.");var R=o.getSupportedAdaptations("video"),N=this._videoChoiceMemory.get(o),G;if(N===null)G=null;else if(N!==void 0&&(0,ne.Z)(R,N.baseAdaptation))G=N.baseAdaptation;else{var te=this._preferredVideoTracks;G=cc(R,te)}if(G===null){this._videoChoiceMemory.set(o,null),v.adaptation$.next(null);return}var de=Vs(G,this.trickModeTrackEnabled);this._videoChoiceMemory.set(o,{baseAdaptation:G,adaptation:de}),v.adaptation$.next(de)},T.setAudioTrackByID=function(o,u){var v=Jr(this._periods,o),R=v!==void 0?v.audio:null;if((0,Ue.Z)(R))throw new Error("TrackChoiceManager: Given Period not found.");var N=(0,Ln.Z)(R.adaptations,function(te){var de=te.id;return de===u});if(N===void 0)throw new Error("Audio Track not found.");var G=this._audioChoiceMemory.get(o);G!==N&&(this._audioChoiceMemory.set(o,N),R.adaptation$.next(N))},T.setTextTrackByID=function(o,u){var v=Jr(this._periods,o),R=v!==void 0?v.text:null;if((0,Ue.Z)(R))throw new Error("TrackChoiceManager: Given Period not found.");var N=(0,Ln.Z)(R.adaptations,function(te){var de=te.id;return de===u});if(N===void 0)throw new Error("Text Track not found.");var G=this._textChoiceMemory.get(o);G!==N&&(this._textChoiceMemory.set(o,N),R.adaptation$.next(N))},T.setVideoTrackByID=function(o,u){var v=Jr(this._periods,o),R=v!==void 0?v.video:null;if((0,Ue.Z)(R))throw new Error("LanguageManager: Given Period not found.");var N=(0,Ln.Z)(R.adaptations,function(te){var de=te.id;return de===u});if(N===void 0)throw new Error("Video Track not found.");var G=Vs(N,this.trickModeTrackEnabled);this._videoChoiceMemory.set(o,{baseAdaptation:N,adaptation:G}),R.adaptation$.next(G)},T.disableTextTrack=function(o){var u=Jr(this._periods,o),v=u!==void 0?u.text:null;if((0,Ue.Z)(v))throw new Error("TrackChoiceManager: Given Period not found.");var R=this._textChoiceMemory.get(o);R!==null&&(this._textChoiceMemory.set(o,null),v.adaptation$.next(null))},T.disableVideoTrack=function(o){var u=Jr(this._periods,o),v=u==null?void 0:u.video;if(v===void 0)throw new Error("TrackManager: Given Period not found.");var R=this._videoChoiceMemory.get(o);R!==null&&(this._videoChoiceMemory.set(o,null),v.adaptation$.next(null))},T.disableVideoTrickModeTracks=function(){this.trickModeTrackEnabled=!1,this._resetChosenVideoTracks()},T.enableVideoTrickModeTracks=function(){this.trickModeTrackEnabled=!0,this._resetChosenVideoTracks()},T.isTrickModeEnabled=function(){return this.trickModeTrackEnabled},T.getChosenAudioTrack=function(o){var u=Jr(this._periods,o),v=u!==void 0?u.audio:null;if((0,Ue.Z)(v))return null;var R=this._audioChoiceMemory.get(o);if((0,Ue.Z)(R))return null;var N={language:(0,Sn.Z)(R.language,""),normalized:(0,Sn.Z)(R.normalizedLanguage,""),audioDescription:R.isAudioDescription===!0,id:R.id,representations:R.representations.map(vc),label:R.label};return R.isDub===!0&&(N.dub=!0),N},T.getChosenTextTrack=function(o){var u=Jr(this._periods,o),v=u!==void 0?u.text:null;if((0,Ue.Z)(v))return null;var R=this._textChoiceMemory.get(o);return(0,Ue.Z)(R)?null:{language:(0,Sn.Z)(R.language,""),normalized:(0,Sn.Z)(R.normalizedLanguage,""),closedCaption:R.isClosedCaption===!0,id:R.id,label:R.label}},T.getChosenVideoTrack=function(o){var u=Jr(this._periods,o),v=u!==void 0?u.video:null;if((0,Ue.Z)(v))return null;var R=this._videoChoiceMemory.get(o);if((0,Ue.Z)(R))return null;var N=R.adaptation,G=N.trickModeTracks!==void 0?N.trickModeTracks.map(function(de){var ce=de.representations.map(Ws),pe={id:de.id,representations:ce,isTrickModeTrack:!0};return de.isSignInterpreted===!0&&(pe.signInterpreted=!0),pe}):void 0,te={id:N.id,representations:N.representations.map(Ws),label:N.label};return N.isSignInterpreted===!0&&(te.signInterpreted=!0),N.isTrickModeTrack===!0&&(te.isTrickModeTrack=!0),G!==void 0&&(te.trickModeTracks=G),te},T.getAvailableAudioTracks=function(o){var u=Jr(this._periods,o),v=u!==void 0?u.audio:null;if((0,Ue.Z)(v))return[];var R=this._audioChoiceMemory.get(o),N=(0,Ue.Z)(R)?null:R.id;return v.adaptations.map(function(G){var te={language:(0,Sn.Z)(G.language,""),normalized:(0,Sn.Z)(G.normalizedLanguage,""),audioDescription:G.isAudioDescription===!0,id:G.id,active:N===null?!1:N===G.id,representations:G.representations.map(vc),label:G.label};return G.isDub===!0&&(te.dub=!0),te})},T.getAvailableTextTracks=function(o){var u=Jr(this._periods,o),v=u!==void 0?u.text:null;if((0,Ue.Z)(v))return[];var R=this._textChoiceMemory.get(o),N=(0,Ue.Z)(R)?null:R.id;return v.adaptations.map(function(G){return{language:(0,Sn.Z)(G.language,""),normalized:(0,Sn.Z)(G.normalizedLanguage,""),closedCaption:G.isClosedCaption===!0,id:G.id,active:N===null?!1:N===G.id,label:G.label}})},T.getAvailableVideoTracks=function(o){var u,v=Jr(this._periods,o),R=v!==void 0?v.video:null;if((0,Ue.Z)(R))return[];var N=this._videoChoiceMemory.get(o),G=N===void 0?void 0:(u=N==null?void 0:N.adaptation.id)!==null&&u!==void 0?u:void 0;return R.adaptations.map(function(te){var de=te.trickModeTracks!==void 0?te.trickModeTracks.map(function(pe){var Ee=G===null?!1:G===pe.id,Ae=pe.representations.map(Ws),Ie={id:pe.id,representations:Ae,isTrickModeTrack:!0,active:Ee};return pe.isSignInterpreted===!0&&(Ie.signInterpreted=!0),Ie}):void 0,ce={id:te.id,active:G===null?!1:G===te.id,representations:te.representations.map(Ws),label:te.label};return te.isSignInterpreted===!0&&(ce.signInterpreted=!0),de!==void 0&&(ce.trickModeTracks=de),ce})},T._applyAudioPreferences=function(){this._audioChoiceMemory=new WeakMap,this._resetChosenAudioTracks()},T._applyTextPreferences=function(){this._textChoiceMemory=new WeakMap,this._resetChosenTextTracks()},T._applyVideoPreferences=function(){this._videoChoiceMemory=new WeakMap,this._resetChosenVideoTracks()},T._resetChosenAudioTracks=function(){var o=this,u=this._preferredAudioTracks,v=oc(u),R=function N(G){if(!(G>=o._periods.length())){var te=o._periods.get(G);if((0,Ue.Z)(te.audio)){N(G+1);return}var de=te.period,ce=te.audio,pe=de.getSupportedAdaptations("audio"),Ee=o._audioChoiceMemory.get(de);if(Ee===null||Ee!==void 0&&(0,ne.Z)(pe,Ee)){N(G+1);return}var Ae=dc(pe,v);o._audioChoiceMemory.set(de,Ae),ce.adaptation$.next(Ae),N(0)}};R(0)},T._resetChosenTextTracks=function(){var o=this,u=this._preferredTextTracks,v=lc(u),R=function N(G){if(!(G>=o._periods.length())){var te=o._periods.get(G);if((0,Ue.Z)(te.text)){N(G+1);return}var de=te.period,ce=te.text,pe=de.getSupportedAdaptations("text"),Ee=o._textChoiceMemory.get(de);if(Ee===null||Ee!==void 0&&(0,ne.Z)(pe,Ee)){N(G+1);return}var Ae=fc(pe,v);o._textChoiceMemory.set(de,Ae),ce.adaptation$.next(Ae),N(0)}};R(0)},T._resetChosenVideoTracks=function(){var o=this,u=this._preferredVideoTracks,v=function R(N){if(!(N>=o._periods.length())){var G=o._periods.get(N);if((0,Ue.Z)(G.video)){R(N+1);return}var te=G.period,de=G.video,ce=te.getSupportedAdaptations("video"),pe=o._videoChoiceMemory.get(te);if(pe===null){R(N+1);return}else if(pe!==void 0&&(0,ne.Z)(ce,pe.baseAdaptation)){var Ee=Vs(pe.baseAdaptation,o.trickModeTrackEnabled);if(Ee.id===pe.adaptation.id){R(N+1);return}else return o._videoChoiceMemory.set(te,{baseAdaptation:pe.baseAdaptation,adaptation:Ee}),de.adaptation$.next(Ee),R(0)}var Ae=cc(ce,u);if(Ae===null)return o._videoChoiceMemory.set(te,null),de.adaptation$.next(null),R(0);var Ie=Vs(Ae,o.trickModeTrackEnabled);return o._videoChoiceMemory.set(te,{baseAdaptation:Ae,adaptation:Ie}),de.adaptation$.next(Ie),R(0)}};v(0)},s}();function _g(s){return function(d){var o;if(s.normalized!==void 0){var u=(o=d.normalizedLanguage)!==null&&o!==void 0?o:"";if(u!==s.normalized)return!1}if(s.audioDescription!==void 0){if(s.audioDescription){if(d.isAudioDescription!==!0)return!1}else if(d.isAudioDescription===!0)return!1}if(s.codec===void 0)return!0;var v=s.codec.test,R=function(G){return G.codec!==void 0&&v.test(G.codec)};return s.codec.all?d.representations.every(R):d.representations.some(R)}}function dc(s,T){if(s.length===0)return null;for(var d=0;d<T.length;d++){var o=T[d];if(o===null)return null;var u=_g(o),v=(0,Ln.Z)(s,u);if(v!==void 0)return v}return s[0]}function Eg(s){return function(d){return(0,Sn.Z)(d.normalizedLanguage,"")===s.normalized&&(s.closedCaption?d.isClosedCaption===!0:d.isClosedCaption!==!0)}}function fc(s,T){if(s.length===0)return null;for(var d=0;d<T.length;d++){var o=T[d];if(o===null)return null;var u=Eg(o),v=(0,Ln.Z)(s,u);if(v!==void 0)return v}return null}function Tg(s){return function(d){if(s.signInterpreted!==void 0&&s.signInterpreted!==d.isSignInterpreted)return!1;if(s.codec===void 0)return!0;var o=s.codec.test,u=function(R){return R.codec!==void 0&&o.test(R.codec)};return s.codec.all?d.representations.every(u):d.representations.some(u)}}function cc(s,T){if(s.length===0)return null;for(var d=0;d<T.length;d++){var o=T[d];if(o===null)return null;var u=Tg(o),v=(0,Ln.Z)(s,u);if(v!==void 0)return v}return s[0]}function Sg(s,T){for(var d=0;d<s.length();d++){var o=s.get(d);if(o.period.id===T.id)return d}}function Jr(s,T){for(var d=0;d<s.length();d++){var o=s.get(d);if(o.period.id===T.id)return o}}function Ws(s){var T=s.id,d=s.bitrate,o=s.frameRate,u=s.width,v=s.height,R=s.codec,N=s.hdrInfo;return{id:T,bitrate:d,frameRate:o,width:u,height:v,codec:R,hdrInfo:N}}function vc(s){var T=s.id,d=s.bitrate,o=s.codec;return{id:T,bitrate:d,codec:o}}function Vs(s,T){var d;return T&&((d=s.trickModeTracks)===null||d===void 0?void 0:d[0])!==void 0?s.trickModeTracks[0]:s}function Ag(s,T){return(0,M.P)(function(){if(s===null)return fe.E;var d=T.pipe((0,P.h)(function(u){return u.event==="seeking"}),(0,S.U)(function(){return"seeking"}));s.seeking&&(d=d.pipe((0,W.O)("seeking")));var o=d.pipe((0,X.w)(function(){return T.pipe((0,P.h)(function(u){return u.event==="seeked"}),(0,S.U)(function(){return"seeked"}),(0,p.q)(1))}));return(0,ie.T)(d,o)})}function wg(s,T){var d=vt.Z.getCurrent(),o=d.FORCED_ENDED_THRESHOLD;if(s.ended)return"ENDED";if(T!==null){var u=Math.abs(s.duration-s.currentTime);return o!=null&&u<o?"ENDED":T==="seeking"?"SEEKING":"BUFFERING"}return s.paused?"PAUSED":"PLAYING"}var bg=Be.XR,Mg=Be.w0,Rg=Be.it,Ig=Be.O0,Cg=Be.Q1,kg=Be.UA,hc=function(s){(0,_.Z)(T,s);function T(o){var u;o===void 0&&(o={}),u=s.call(this)||this;var v=lg(o),R=v.initialAudioBitrate,N=v.initialVideoBitrate,G=v.limitVideoWidth,te=v.minAudioBitrate,de=v.minVideoBitrate,ce=v.maxAudioBitrate,pe=v.maxBufferAhead,Ee=v.maxBufferBehind,Ae=v.maxVideoBitrate,Ie=v.preferredAudioTracks,Ne=v.preferredTextTracks,De=v.preferredVideoTracks,$e=v.throttleWhenHidden,ze=v.throttleVideoBitrateWhenHidden,gt=v.videoElement,nt=v.wantedBufferAhead,rt=v.maxVideoBufferSize,st=v.stopAtEnd,It=vt.Z.getCurrent(),Tt=It.DEFAULT_UNMUTED_VOLUME;gt.preload="auto",u.version="3.29.0",u.log=ve.Z,u.state="STOPPED",u.videoElement=gt;var Ve=new bn.ZP;return u._priv_destroy$=new r.x,u._priv_destroy$.pipe((0,p.q)(1)).subscribe(function(){Ve.cancel()}),u._priv_pictureInPictureRef=Mg(gt,Ve.signal),Cg(gt).pipe((0,g.R)(u._priv_destroy$)).subscribe(function(){return u.trigger("fullscreenChange",u.isFullscreen())}),kg(gt.textTracks).pipe((0,g.R)(u._priv_destroy$),(0,S.U)(function(Pe){for(var Ut=Pe.target,Kt=[],rn=0;rn<Ut.length;rn++){var mn=Ut[rn];Kt.push(mn)}return Kt}),A(function(Pe,Ut){if(Pe.length!==Ut.length)return!1;for(var Kt=0;Kt<Pe.length;Kt++)if(Pe[Kt]!==Ut[Kt])return!1;return!0})).subscribe(function(Pe){return u._priv_onNativeTextTracksNext(Pe)}),u._priv_speed=(0,Xt.ZP)(gt.playbackRate),u._priv_preferTrickModeTracks=!1,u._priv_contentLock=(0,Xt.ZP)(!1),u._priv_bufferOptions={wantedBufferAhead:(0,Xt.ZP)(nt),maxBufferAhead:(0,Xt.ZP)(pe),maxBufferBehind:(0,Xt.ZP)(Ee),maxVideoBufferSize:(0,Xt.ZP)(rt)},u._priv_bitrateInfos={lastBitrates:{audio:R,video:N},minAutoBitrates:{audio:(0,Xt.ZP)(te),video:(0,Xt.ZP)(de)},maxAutoBitrates:{audio:(0,Xt.ZP)(ce),video:(0,Xt.ZP)(Ae)},manualBitrates:{audio:(0,Xt.ZP)(-1),video:(0,Xt.ZP)(-1)}},u._priv_throttleWhenHidden=$e,u._priv_throttleVideoBitrateWhenHidden=ze,u._priv_limitVideoWidth=G,u._priv_mutedMemory=Tt,u._priv_trackChoiceManager=null,u._priv_mediaElementTrackChoiceManager=null,u._priv_currentError=null,u._priv_contentInfos=null,u._priv_contentEventsMemory={},u._priv_stopAtEnd=st,u._priv_setPlayerState("STOPPED"),u._priv_preferredAudioTracks=Ie,u._priv_preferredTextTracks=Ne,u._priv_preferredVideoTracks=De,u._priv_reloadingMetadata={},u}var d=T.prototype;return d.addEventListener=function(u,v){return s.prototype.addEventListener.call(this,u,v)},d.stop=function(){this._priv_contentInfos!==null&&this._priv_contentInfos.currentContentCanceller.cancel(),this._priv_cleanUpCurrentContentState(),this.state!=="STOPPED"&&this._priv_setPlayerState("STOPPED")},d.dispose=function(){this.stop(),this.videoElement!==null&&Oi(this.videoElement).catch(function(u){var v=u instanceof Error?u.message:"Unknown error";ve.Z.error("API: Could not dispose decryption resources: "+v)}),this._priv_destroy$.next(),this._priv_destroy$.complete(),this._priv_speed.finish(),this._priv_contentLock.finish(),this._priv_bufferOptions.wantedBufferAhead.finish(),this._priv_bufferOptions.maxVideoBufferSize.finish(),this._priv_bufferOptions.maxBufferAhead.finish(),this._priv_bufferOptions.maxBufferBehind.finish(),this._priv_bitrateInfos.manualBitrates.video.finish(),this._priv_bitrateInfos.manualBitrates.audio.finish(),this._priv_bitrateInfos.minAutoBitrates.video.finish(),this._priv_bitrateInfos.minAutoBitrates.audio.finish(),this._priv_bitrateInfos.maxAutoBitrates.video.finish(),this._priv_bitrateInfos.maxAutoBitrates.audio.finish(),this._priv_reloadingMetadata={},this.videoElement=null},d.loadVideo=function(u){var v=fg(u);ve.Z.info("API: Calling loadvideo",v.url,v.transport),this._priv_reloadingMetadata={options:v},this._priv_initializeContentPlayback(v)},d.reload=function(u){var v,R,N=this._priv_reloadingMetadata,G=N.options,te=N.manifest,de=N.reloadPosition,ce=N.reloadInPause;if(G===void 0)throw new Error("API: Can't reload without having previously loaded a content.");dg(u);var pe;if(((v=u==null?void 0:u.reloadAt)===null||v===void 0?void 0:v.position)!==void 0)pe={position:u.reloadAt.position};else if(((R=u==null?void 0:u.reloadAt)===null||R===void 0?void 0:R.relative)!==void 0){if(de===void 0)throw new Error("Can't reload to a relative position when previous content was not loaded.");pe={position:u.reloadAt.relative+de}}else de!==void 0&&(pe={position:de});var Ee;(u==null?void 0:u.autoPlay)!==void 0?Ee=u.autoPlay:ce!==void 0&&(Ee=!ce);var Ae=Object.assign(Object.assign({},G),{initialManifest:te});pe!==void 0&&(Ae.startAt=pe),Ee!==void 0&&(Ae.autoPlay=Ee),this._priv_initializeContentPlayback(Ae)},d._priv_initializeContentPlayback=function(u){var v=this,R,N,G,te=u.autoPlay,de=u.audioTrackSwitchingMode,ce=u.defaultAudioTrack,pe=u.defaultTextTrack,Ee=u.enableFastSwitching,Ae=u.initialManifest,Ie=u.keySystems,Ne=u.lowLatencyMode,De=u.manualBitrateSwitchingMode,$e=u.minimumManifestUpdateInterval,ze=u.networkConfig,gt=u.onCodecSwitch,nt=u.startAt,rt=u.transport,st=u.transportOptions,It=u.url;if(this.videoElement===null)throw new Error("the attached video element is disposed");var Tt=rt==="directfile",Ve=new bn.ZP,Pe=new c.y(function(sn){Ve.signal.register(function(){sn.next(),sn.complete()})}),Ut={url:It,currentContentCanceller:Ve,isDirectFile:Tt,segmentBuffersStore:null,thumbnails:null,manifest:null,currentPeriod:null,activeAdaptations:null,activeRepresentations:null,initialAudioTrack:ce,initialTextTrack:pe},Kt=this.videoElement,rn=new vg(Kt,{withMediaSource:!Tt,lowLatencyMode:Ne});Ve.signal.register(function(){rn.stop()});var mn;if(Tt){if(this.stop(),this._priv_currentError=null,St.Z.directfile===null)throw new Error("DirectFile feature not activated in your build.");this._priv_contentInfos=Ut,this._priv_mediaElementTrackChoiceManager=new St.Z.directfile.mediaElementTrackChoiceManager(this.videoElement);var Lr=ce===void 0?this._priv_preferredAudioTracks:[ce];this._priv_mediaElementTrackChoiceManager.setPreferredAudioTracks(Lr,!0);var Yi=pe===void 0?this._priv_preferredTextTracks:[pe];this._priv_mediaElementTrackChoiceManager.setPreferredTextTracks(Yi,!0),this._priv_mediaElementTrackChoiceManager.setPreferredVideoTracks(this._priv_preferredVideoTracks,!0),this.trigger("availableAudioTracksChange",this._priv_mediaElementTrackChoiceManager.getAvailableAudioTracks()),this.trigger("availableVideoTracksChange",this._priv_mediaElementTrackChoiceManager.getAvailableVideoTracks()),this.trigger("availableTextTracksChange",this._priv_mediaElementTrackChoiceManager.getAvailableTextTracks()),this.trigger("audioTrackChange",(R=this._priv_mediaElementTrackChoiceManager.getChosenAudioTrack())!==null&&R!==void 0?R:null),this.trigger("textTrackChange",(N=this._priv_mediaElementTrackChoiceManager.getChosenTextTrack())!==null&&N!==void 0?N:null),this.trigger("videoTrackChange",(G=this._priv_mediaElementTrackChoiceManager.getChosenVideoTrack())!==null&&G!==void 0?G:null),this._priv_mediaElementTrackChoiceManager.addEventListener("availableVideoTracksChange",function(sn){return v.trigger("availableVideoTracksChange",sn)}),this._priv_mediaElementTrackChoiceManager.addEventListener("availableAudioTracksChange",function(sn){return v.trigger("availableAudioTracksChange",sn)}),this._priv_mediaElementTrackChoiceManager.addEventListener("availableTextTracksChange",function(sn){return v.trigger("availableTextTracksChange",sn)}),this._priv_mediaElementTrackChoiceManager.addEventListener("audioTrackChange",function(sn){return v.trigger("audioTrackChange",sn)}),this._priv_mediaElementTrackChoiceManager.addEventListener("videoTrackChange",function(sn){return v.trigger("videoTrackChange",sn)}),this._priv_mediaElementTrackChoiceManager.addEventListener("textTrackChange",function(sn){return v.trigger("textTrackChange",sn)});var ci=St.Z.directfile.initDirectFile({autoPlay:te,keySystems:Ie,mediaElement:Kt,speed:this._priv_speed,playbackObserver:rn,startAt:nt,url:It}).pipe((0,g.R)(Pe));mn=O(ci,{connector:function(){return new r.x},resetOnDisconnect:!1})}else{var en=St.Z.transports[rt];if(typeof en!="function")throw this.stop(),this._priv_currentError=null,new Error('transport "'+rt+'" not supported');var Nt=en(st),zt=ze.offlineRetry,$t=ze.segmentRetry,Pn=ze.manifestRetry,Bn=ze.manifestRequestTimeout,Qn=ze.segmentRequestTimeout,er=new Wt(It,Nt,{lowLatencyMode:Ne,maxRetryRegular:Pn,maxRetryOffline:zt,requestTimeout:Bn}),Un;Ae instanceof tt.ZP?Un=(0,f.of)({type:"parsed",manifest:Ae}):Ae!==void 0?Un=er.parse(Ae,{previousManifest:null,unsafeMode:!1}):Un=er.fetch(It).pipe((0,l.z)(function(sn){return sn.type==="warning"?(0,f.of)(sn):sn.parse({previousManifest:null,unsafeMode:!1})})),Un=Un.pipe((0,g.R)(Pe),(0,I.d)()),Un.subscribe(),this.stop(),this._priv_currentError=null,this._priv_contentInfos=Ut;var cr=bt(),zn={throttle:{},throttleBitrate:{},limitWidth:{}};this._priv_throttleWhenHidden&&(cr?zn.throttle={video:(0,Xt.lR)(bg(Ve.signal),function(sn){return sn?1/0:0},Ve.signal)}:ve.Z.warn("API: Can't apply throttleWhenHidden because browser can't be trusted for visibility.")),this._priv_throttleVideoBitrateWhenHidden&&(cr?zn.throttleBitrate={video:(0,Xt.lR)(Rg(this._priv_pictureInPictureRef,Ve.signal),function(sn){return sn?1/0:0},Ve.signal)}:ve.Z.warn("API: Can't apply throttleVideoBitrateWhenHidden because browser can't be trusted for visibility.")),this._priv_limitVideoWidth&&(cr?zn.limitWidth={video:Ig(Kt,this._priv_pictureInPictureRef,Ve.signal)}:ve.Z.warn("API: Can't apply limitVideoWidth because browser can't be trusted for video size."));var Sr={initialBitrates:this._priv_bitrateInfos.lastBitrates,lowLatencyMode:Ne,manualBitrates:this._priv_bitrateInfos.manualBitrates,minAutoBitrates:this._priv_bitrateInfos.minAutoBitrates,maxAutoBitrates:this._priv_bitrateInfos.maxAutoBitrates,throttlers:zn},Ar=u.textTrackMode==="native"?{textTrackMode:"native",hideNativeSubtitle:u.hideNativeSubtitle}:{textTrackMode:"html",textTrackElement:u.textTrackElement},xr=(0,jt.Z)({audioTrackSwitchingMode:de,enableFastSwitching:Ee,manualBitrateSwitchingMode:De,onCodecSwitch:gt},this._priv_bufferOptions),Xn={regularError:$t,requestTimeout:Qn,offlineError:zt},Mr=sg({adaptiveOptions:Sr,autoPlay:te,bufferOptions:xr,playbackObserver:rn,keySystems:Ie,lowLatencyMode:Ne,manifest$:Un,manifestFetcher:er,mediaElement:Kt,minimumManifestUpdateInterval:$e,segmentRequestOptions:Xn,speed:this._priv_speed,startAt:nt,transport:Nt,textTrackOptions:Ar}).pipe((0,g.R)(Pe));mn=O(Mr,{connector:function(){return new r.x},resetOnDisconnect:!1})}var ua=mn.pipe((0,P.h)(function(sn){return sn.type==="stalled"||sn.type==="unstalled"}),(0,S.U)(function(sn){return sn.value}),A(function(sn,vi){return sn===null&&vi===null||sn!==null&&vi!==null&&sn===vi})),Ai=mn.pipe((0,P.h)(function(sn){return sn.type==="loaded"}),(0,$.B)()),Hs=mn.pipe((0,P.h)(function(sn){return sn.type==="reloading-media-source"}),(0,$.B)()),ru=rn.getReference().asObservable(),Wu=ru.pipe((0,P.h)(function(sn){return sn.event==="seeking"||sn.event==="ended"||sn.event==="play"||sn.event==="pause"})),ya=ae([ua.pipe((0,W.O)(null)),Wu.pipe((0,W.O)(null))]).pipe((0,g.R)(Pe),(0,S.U)(function(sn){var vi=sn[0];return wg(Kt,vi)})),iu=(0,Y.z)((0,f.of)("LOADING"),Ai.pipe((0,X.w)(function(sn,vi){var Vu=vi===0;return(0,ie.T)(Hs.pipe((0,S.U)(function(){return"RELOADING"})),Vu?(0,f.of)("LOADED"):fe.E,ya.pipe((0,g.R)(Hs),be(function(Lg){return Vu&&Lg==="PAUSED"})))}))).pipe(A()),wi;Pe.subscribe(function(){wi!==void 0&&wi.unsubscribe()});var Ni=function(vi){switch(vi){case"STOPPED":case"RELOADING":case"LOADING":break;case"ENDED":v._priv_reloadingMetadata.reloadInPause=!0,v._priv_reloadingMetadata.reloadPosition=rn.getReference().getValue().position;break;default:var Vu=rn.getReference().getValue();v._priv_reloadingMetadata.reloadInPause=Vu.paused,v._priv_reloadingMetadata.reloadPosition=Vu.position;break}};iu.pipe((0,ge.b)(function(sn){Ni(sn),v._priv_setPlayerState(sn),v.state==="ENDED"&&v._priv_stopAtEnd&&Ve.cancel()}),(0,S.U)(function(sn){return sn!=="RELOADING"&&sn!=="STOPPED"}),A(),(0,X.w)(function(sn){return sn?ru:fe.E}),(0,g.R)(Pe)).subscribe(function(sn){Ni(v.state),v._priv_triggerPositionUpdate(sn)}),Ai.pipe((0,X.w)(function(){return Ag(v.videoElement,ru)}),(0,g.R)(Pe)).subscribe(function(sn){ve.Z.info('API: Triggering "'+sn+'" event'),v.trigger(sn,null)}),mn.subscribe({next:function(vi){return v._priv_onPlaybackEvent(vi)},error:function(vi){return v._priv_onPlaybackError(vi)},complete:function(){Ut.currentContentCanceller.isUsed||(ve.Z.info("API: Previous playback finished. Stopping and cleaning-up..."),Ut.currentContentCanceller.cancel(),v._priv_cleanUpCurrentContentState(),v._priv_setPlayerState("STOPPED"))}}),this._priv_contentLock.asObservable().pipe((0,P.h)(function(sn){return!sn}),(0,p.q)(1),(0,g.R)(Pe)).subscribe(function(){wi=mn.connect()})},d.getError=function(){return this._priv_currentError},d.getManifest=function(){return(0,Fn.Z)("getManifest is deprecated. Please open an issue if you used this API."),this._priv_contentInfos===null?null:this._priv_contentInfos.manifest},d.getCurrentAdaptations=function(){if((0,Fn.Z)("getCurrentAdaptations is deprecated. Please open an issue if you used this API."),this._priv_contentInfos===null)return null;var u=this._priv_contentInfos,v=u.currentPeriod,R=u.activeAdaptations;return v===null||R===null||(0,Ue.Z)(R[v.id])?null:R[v.id]},d.getCurrentRepresentations=function(){return(0,Fn.Z)("getCurrentRepresentations is deprecated. Please open an issue if you used this API."),this._priv_getCurrentRepresentations()},d.getVideoElement=function(){return this.videoElement},d.getNativeTextTrack=function(){if((0,Fn.Z)("getNativeTextTrack is deprecated. Please open an issue if you used this API."),this.videoElement===null)throw new Error("Disposed player");var u=this.videoElement,v=u.textTracks;return v.length>0?u.textTracks[0]:null},d.getPlayerState=function(){return this.state},d.isLive=function(){if(this._priv_contentInfos===null)return!1;var u=this._priv_contentInfos,v=u.isDirectFile,R=u.manifest;return v||R===null?!1:R.isLive},d.areTrickModeTracksEnabled=function(){return this._priv_preferTrickModeTracks},d.getUrl=function(){if(this._priv_contentInfos!==null){var u=this._priv_contentInfos,v=u.isDirectFile,R=u.manifest,N=u.url;if(v)return N;if(R!==null)return R.getUrl()}},d.getVideoDuration=function(){if(this.videoElement===null)throw new Error("Disposed player");return this.videoElement.duration},d.getVideoBufferGap=function(){if(this.videoElement===null)throw new Error("Disposed player");var u=this.videoElement;return(0,hn.L7)(u.buffered,u.currentTime)},d.getVideoLoadedTime=function(){if(this.videoElement===null)throw new Error("Disposed player");var u=this.videoElement;return(0,hn.at)(u.buffered,u.currentTime)},d.getVideoPlayedTime=function(){if(this.videoElement===null)throw new Error("Disposed player");var u=this.videoElement;return(0,hn.DD)(u.buffered,u.currentTime)},d.getWallClockTime=function(){if(this.videoElement===null)throw new Error("Disposed player");if(this._priv_contentInfos===null)return this.videoElement.currentTime;var u=this._priv_contentInfos,v=u.isDirectFile,R=u.manifest;if(v){var N=Ke(this.videoElement);return(N??0)+this.videoElement.currentTime}if(R!==null){var G=this.videoElement.currentTime,te=R.availabilityStartTime!==void 0?R.availabilityStartTime:0;return G+te}return 0},d.getPosition=function(){if(this.videoElement===null)throw new Error("Disposed player");return this.videoElement.currentTime},d.getPlaybackRate=function(){return this._priv_speed.getValue()},d.setPlaybackRate=function(u,v){u!==this._priv_speed.getValue()&&this._priv_speed.setValue(u);var R=v==null?void 0:v.preferTrickModeTracks;typeof R=="boolean"&&(this._priv_preferTrickModeTracks=R,this._priv_trackChoiceManager!==null&&(R&&!this._priv_trackChoiceManager.isTrickModeEnabled()?this._priv_trackChoiceManager.enableVideoTrickModeTracks():!R&&this._priv_trackChoiceManager.isTrickModeEnabled()&&this._priv_trackChoiceManager.disableVideoTrickModeTracks()))},d.getAvailableVideoBitrates=function(){if(this._priv_contentInfos===null)return[];var u=this._priv_contentInfos,v=u.currentPeriod,R=u.activeAdaptations;if(v===null||R===null)return[];var N=R[v.id];return N===void 0||(0,Ue.Z)(N.video)?[]:N.video.getAvailableBitrates()},d.getAvailableAudioBitrates=function(){if(this._priv_contentInfos===null)return[];var u=this._priv_contentInfos,v=u.currentPeriod,R=u.activeAdaptations;if(v===null||R===null)return[];var N=R[v.id];return N===void 0||(0,Ue.Z)(N.audio)?[]:N.audio.getAvailableBitrates()},d.getManualAudioBitrate=function(){return this._priv_bitrateInfos.manualBitrates.audio.getValue()},d.getManualVideoBitrate=function(){return this._priv_bitrateInfos.manualBitrates.video.getValue()},d.getVideoBitrate=function(){var u=this._priv_getCurrentRepresentations();if(!(u===null||(0,Ue.Z)(u.video)))return u.video.bitrate},d.getAudioBitrate=function(){var u=this._priv_getCurrentRepresentations();if(!(u===null||(0,Ue.Z)(u.audio)))return u.audio.bitrate},d.getMinVideoBitrate=function(){return this._priv_bitrateInfos.minAutoBitrates.video.getValue()},d.getMinAudioBitrate=function(){return this._priv_bitrateInfos.minAutoBitrates.audio.getValue()},d.getMaxVideoBitrate=function(){return this._priv_bitrateInfos.maxAutoBitrates.video.getValue()},d.getMaxAudioBitrate=function(){return this._priv_bitrateInfos.maxAutoBitrates.audio.getValue()},d.play=function(){var u=this;if(this.videoElement===null)throw new Error("Disposed player");var v=this.videoElement.play();return(0,Ue.Z)(v)||typeof v.catch!="function"?Promise.resolve():v.catch(function(R){if(R.name==="NotAllowedError"){var N=new et.Z("MEDIA_ERR_PLAY_NOT_ALLOWED",R.toString());u.trigger("warning",N)}throw R})},d.pause=function(){if(this.videoElement===null)throw new Error("Disposed player");this.videoElement.pause()},d.seekTo=function(u){var v;if(this.videoElement===null)throw new Error("Disposed player");if(this._priv_contentInfos===null)throw new Error("player: no content loaded");var R=this._priv_contentInfos,N=R.isDirectFile,G=R.manifest;if(!N&&G===null)throw new Error("player: the content did not load yet");var te;if(typeof u=="number")te=u;else if(typeof u=="object"){var de=u,ce=this.videoElement.currentTime;if(!(0,Ue.Z)(de.relative))te=ce+de.relative;else if(!(0,Ue.Z)(de.position))te=de.position;else{if((0,Ue.Z)(de.wallClockTime))throw new Error('invalid time object. You must set one of the following properties: "relative", "position" or "wallClockTime"');if(G!==null)te=de.wallClockTime-((v=G.availabilityStartTime)!==null&&v!==void 0?v:0);else if(N&&this.videoElement!==null){var pe=Ke(this.videoElement);pe!==void 0&&(te=de.wallClockTime-pe)}te===void 0&&(te=de.wallClockTime)}}if(te===void 0)throw new Error("invalid time given");return this.videoElement.currentTime=te,te},d.isFullscreen=function(){return(0,Fn.Z)("isFullscreen is deprecated. Fullscreen management should now be managed by the application"),He()},d.setFullscreen=function(u){if(u===void 0&&(u=!0),(0,Fn.Z)("setFullscreen is deprecated. Fullscreen management should now be managed by the application"),this.videoElement===null)throw new Error("Disposed player");u?Ot(this.videoElement):kt()},d.exitFullscreen=function(){(0,Fn.Z)("exitFullscreen is deprecated. Fullscreen management should now be managed by the application"),kt()},d.getVolume=function(){if(this.videoElement===null)throw new Error("Disposed player");return this.videoElement.volume},d.setVolume=function(u){if(this.videoElement===null)throw new Error("Disposed player");var v=this.videoElement;u!==v.volume&&(v.volume=u,this.trigger("volumeChange",u))},d.isMute=function(){return this.getVolume()===0},d.mute=function(){this._priv_mutedMemory=this.getVolume(),this.setVolume(0)},d.unMute=function(){var u=vt.Z.getCurrent(),v=u.DEFAULT_UNMUTED_VOLUME,R=this.getVolume();R===0&&this.setVolume(this._priv_mutedMemory===0?v:this._priv_mutedMemory)},d.setVideoBitrate=function(u){this._priv_bitrateInfos.manualBitrates.video.setValue(u)},d.setAudioBitrate=function(u){this._priv_bitrateInfos.manualBitrates.audio.setValue(u)},d.setMinVideoBitrate=function(u){var v=this._priv_bitrateInfos.maxAutoBitrates.video.getValue();if(u>v)throw new Error("Invalid minimum video bitrate given. "+('Its value, "'+u+'" is superior the current maximum ')+('video birate, "'+v+'".'));this._priv_bitrateInfos.minAutoBitrates.video.setValue(u)},d.setMinAudioBitrate=function(u){var v=this._priv_bitrateInfos.maxAutoBitrates.audio.getValue();if(u>v)throw new Error("Invalid minimum audio bitrate given. "+('Its value, "'+u+'" is superior the current maximum ')+('audio birate, "'+v+'".'));this._priv_bitrateInfos.minAutoBitrates.audio.setValue(u)},d.setMaxVideoBitrate=function(u){var v=this._priv_bitrateInfos.minAutoBitrates.video.getValue();if(u<v)throw new Error("Invalid maximum video bitrate given. "+('Its value, "'+u+'" is inferior the current minimum ')+('video birate, "'+v+'".'));this._priv_bitrateInfos.maxAutoBitrates.video.setValue(u)},d.setMaxAudioBitrate=function(u){var v=this._priv_bitrateInfos.minAutoBitrates.audio.getValue();if(u<v)throw new Error("Invalid maximum audio bitrate given. "+('Its value, "'+u+'" is inferior the current minimum ')+('audio birate, "'+v+'".'));this._priv_bitrateInfos.maxAutoBitrates.audio.setValue(u)},d.setMaxBufferBehind=function(u){this._priv_bufferOptions.maxBufferBehind.setValue(u)},d.setMaxBufferAhead=function(u){this._priv_bufferOptions.maxBufferAhead.setValue(u)},d.setWantedBufferAhead=function(u){this._priv_bufferOptions.wantedBufferAhead.setValue(u)},d.setMaxVideoBufferSize=function(u){this._priv_bufferOptions.maxVideoBufferSize.setValue(u)},d.getMaxBufferBehind=function(){return this._priv_bufferOptions.maxBufferBehind.getValue()},d.getMaxBufferAhead=function(){return this._priv_bufferOptions.maxBufferAhead.getValue()},d.getWantedBufferAhead=function(){return this._priv_bufferOptions.wantedBufferAhead.getValue()},d.getMaxVideoBufferSize=function(){return this._priv_bufferOptions.maxVideoBufferSize.getValue()},d.getCurrentKeySystem=function(){if(this.videoElement===null)throw new Error("Disposed player");return Vi(this.videoElement)},d.getAvailableAudioTracks=function(){var u,v;if(this._priv_contentInfos===null)return[];var R=this._priv_contentInfos,N=R.currentPeriod,G=R.isDirectFile;return G?(v=(u=this._priv_mediaElementTrackChoiceManager)===null||u===void 0?void 0:u.getAvailableAudioTracks())!==null&&v!==void 0?v:[]:this._priv_trackChoiceManager===null||N===null?[]:this._priv_trackChoiceManager.getAvailableAudioTracks(N)},d.getAvailableTextTracks=function(){var u,v;if(this._priv_contentInfos===null)return[];var R=this._priv_contentInfos,N=R.currentPeriod,G=R.isDirectFile;return G?(v=(u=this._priv_mediaElementTrackChoiceManager)===null||u===void 0?void 0:u.getAvailableTextTracks())!==null&&v!==void 0?v:[]:this._priv_trackChoiceManager===null||N===null?[]:this._priv_trackChoiceManager.getAvailableTextTracks(N)},d.getAvailableVideoTracks=function(){var u,v;if(this._priv_contentInfos===null)return[];var R=this._priv_contentInfos,N=R.currentPeriod,G=R.isDirectFile;return G?(v=(u=this._priv_mediaElementTrackChoiceManager)===null||u===void 0?void 0:u.getAvailableVideoTracks())!==null&&v!==void 0?v:[]:this._priv_trackChoiceManager===null||N===null?[]:this._priv_trackChoiceManager.getAvailableVideoTracks(N)},d.getAudioTrack=function(){if(this._priv_contentInfos!==null){var u=this._priv_contentInfos,v=u.currentPeriod,R=u.isDirectFile;if(R)return this._priv_mediaElementTrackChoiceManager===null?void 0:this._priv_mediaElementTrackChoiceManager.getChosenAudioTrack();if(!(this._priv_trackChoiceManager===null||v===null))return this._priv_trackChoiceManager.getChosenAudioTrack(v)}},d.getTextTrack=function(){if(this._priv_contentInfos!==null){var u=this._priv_contentInfos,v=u.currentPeriod,R=u.isDirectFile;if(R)return this._priv_mediaElementTrackChoiceManager===null?void 0:this._priv_mediaElementTrackChoiceManager.getChosenTextTrack();if(!(this._priv_trackChoiceManager===null||v===null))return this._priv_trackChoiceManager.getChosenTextTrack(v)}},d.getVideoTrack=function(){if(this._priv_contentInfos!==null){var u=this._priv_contentInfos,v=u.currentPeriod,R=u.isDirectFile;if(R)return this._priv_mediaElementTrackChoiceManager===null?void 0:this._priv_mediaElementTrackChoiceManager.getChosenVideoTrack();if(!(this._priv_trackChoiceManager===null||v===null))return this._priv_trackChoiceManager.getChosenVideoTrack(v)}},d.setAudioTrack=function(u){var v;if(this._priv_contentInfos===null)throw new Error("No content loaded");var R=this._priv_contentInfos,N=R.currentPeriod,G=R.isDirectFile;if(G)try{(v=this._priv_mediaElementTrackChoiceManager)===null||v===void 0||v.setAudioTrackById(u);return}catch{throw new Error("player: unknown audio track")}if(this._priv_trackChoiceManager===null||N===null)throw new Error("No compatible content launched.");try{this._priv_trackChoiceManager.setAudioTrackByID(N,u)}catch{throw new Error("player: unknown audio track")}},d.setTextTrack=function(u){var v;if(this._priv_contentInfos===null)throw new Error("No content loaded");var R=this._priv_contentInfos,N=R.currentPeriod,G=R.isDirectFile;if(G)try{(v=this._priv_mediaElementTrackChoiceManager)===null||v===void 0||v.setTextTrackById(u);return}catch{throw new Error("player: unknown text track")}if(this._priv_trackChoiceManager===null||N===null)throw new Error("No compatible content launched.");try{this._priv_trackChoiceManager.setTextTrackByID(N,u)}catch{throw new Error("player: unknown text track")}},d.disableTextTrack=function(){var u;if(this._priv_contentInfos!==null){var v=this._priv_contentInfos,R=v.currentPeriod,N=v.isDirectFile;if(N){(u=this._priv_mediaElementTrackChoiceManager)===null||u===void 0||u.disableTextTrack();return}if(!(this._priv_trackChoiceManager===null||R===null))return this._priv_trackChoiceManager.disableTextTrack(R)}},d.setVideoTrack=function(u){var v;if(this._priv_contentInfos===null)throw new Error("No content loaded");var R=this._priv_contentInfos,N=R.currentPeriod,G=R.isDirectFile;if(G)try{(v=this._priv_mediaElementTrackChoiceManager)===null||v===void 0||v.setVideoTrackById(u);return}catch{throw new Error("player: unknown video track")}if(this._priv_trackChoiceManager===null||N===null)throw new Error("No compatible content launched.");try{this._priv_trackChoiceManager.setVideoTrackByID(N,u)}catch{throw new Error("player: unknown video track")}},d.disableVideoTrack=function(){if(this._priv_contentInfos!==null){var u=this._priv_contentInfos,v=u.currentPeriod,R=u.isDirectFile;if(R&&this._priv_mediaElementTrackChoiceManager!==null)return this._priv_mediaElementTrackChoiceManager.disableVideoTrack();if(!(this._priv_trackChoiceManager===null||v===null))return this._priv_trackChoiceManager.disableVideoTrack(v)}},d.getPreferredAudioTracks=function(){return this._priv_preferredAudioTracks},d.getPreferredTextTracks=function(){return this._priv_preferredTextTracks},d.getPreferredVideoTracks=function(){return this._priv_preferredVideoTracks},d.setPreferredAudioTracks=function(u,v){if(v===void 0&&(v=!1),!Array.isArray(u))throw new Error("Invalid `setPreferredAudioTracks` argument. Should have been an Array.");this._priv_preferredAudioTracks=u,this._priv_trackChoiceManager!==null?this._priv_trackChoiceManager.setPreferredAudioTracks(u,v):this._priv_mediaElementTrackChoiceManager!==null&&this._priv_mediaElementTrackChoiceManager.setPreferredAudioTracks(u,v)},d.setPreferredTextTracks=function(u,v){if(v===void 0&&(v=!1),!Array.isArray(u))throw new Error("Invalid `setPreferredTextTracks` argument. Should have been an Array.");this._priv_preferredTextTracks=u,this._priv_trackChoiceManager!==null?this._priv_trackChoiceManager.setPreferredTextTracks(u,v):this._priv_mediaElementTrackChoiceManager!==null&&this._priv_mediaElementTrackChoiceManager.setPreferredTextTracks(u,v)},d.setPreferredVideoTracks=function(u,v){if(v===void 0&&(v=!1),!Array.isArray(u))throw new Error("Invalid `setPreferredVideoTracks` argument. Should have been an Array.");this._priv_preferredVideoTracks=u,this._priv_trackChoiceManager!==null?this._priv_trackChoiceManager.setPreferredVideoTracks(u,v):this._priv_mediaElementTrackChoiceManager!==null&&this._priv_mediaElementTrackChoiceManager.setPreferredVideoTracks(u,v)},d.getImageTrackData=function(){return(0,Fn.Z)("`getImageTrackData` is deprecated.Please use the `parseBifThumbnails` tool instead."),this._priv_contentInfos===null?null:this._priv_contentInfos.thumbnails},d.getMinimumPosition=function(){if(this._priv_contentInfos===null)return null;if(this._priv_contentInfos.isDirectFile)return 0;var u=this._priv_contentInfos.manifest;return u!==null?u.getMinimumSafePosition():null},d.getMaximumPosition=function(){if(this._priv_contentInfos===null)return null;var u=this._priv_contentInfos,v=u.isDirectFile,R=u.manifest;if(v){if(this.videoElement===null)throw new Error("Disposed player");return this.videoElement.duration}return R!==null?!R.isDynamic&&this.videoElement!==null?this.videoElement.duration:R.getMaximumSafePosition():null},d.__priv_getSegmentBufferContent=function(u){if(this._priv_contentInfos===null||this._priv_contentInfos.segmentBuffersStore===null)return null;var v=this._priv_contentInfos.segmentBuffersStore.getStatus(u);return v.type==="initialized"?v.value.getInventory():null},d._priv_cleanUpCurrentContentState=function(){var u=this,v;ve.Z.debug("Locking `contentLock` to clean-up the current content."),this._priv_contentLock.setValue(!0),this._priv_contentInfos=null,this._priv_trackChoiceManager=null,(v=this._priv_mediaElementTrackChoiceManager)===null||v===void 0||v.dispose(),this._priv_mediaElementTrackChoiceManager=null,this._priv_contentEventsMemory={};var R=function(){u.videoElement!==null&&(ve.Z.debug("Unlocking `contentLock`. Next content can begin."),u._priv_contentLock.setValue(!1))};(0,Ue.Z)(this.videoElement)?R():xi(this.videoElement).then(function(){ve.Z.debug("API: DRM session cleaned-up with success!"),R()},function(N){ve.Z.error("API: An error arised when trying to clean-up the DRM session:"+(N instanceof Error?N.toString():"Unknown Error")),R()})},d._priv_onPlaybackEvent=function(u){switch(u.type){case"inband-events":var v=u.value;this.trigger("inbandEvents",v);return;case"stream-event":this.trigger("streamEvent",u.value);break;case"stream-event-skip":this.trigger("streamEventSkip",u.value);break;case"activePeriodChanged":this._priv_onActivePeriodChanged(u.value);break;case"periodStreamReady":this._priv_onPeriodStreamReady(u.value);break;case"periodStreamCleared":this._priv_onPeriodStreamCleared(u.value);break;case"reloading-media-source":this._priv_onReloadingMediaSource();break;case"representationChange":this._priv_onRepresentationChange(u.value);break;case"adaptationChange":this._priv_onAdaptationChange(u.value);break;case"bitrateEstimationChange":this._priv_onBitrateEstimationChange(u.value);break;case"manifestReady":this._priv_onManifestReady(u.value);break;case"warning":this._priv_onPlaybackWarning(u.value);break;case"loaded":if(this._priv_contentInfos===null){ve.Z.error("API: Loaded event while no content is loaded");return}this._priv_contentInfos.segmentBuffersStore=u.value.segmentBuffersStore;break;case"decipherabilityUpdate":this.trigger("decipherabilityUpdate",u.value);break;case"added-segment":if(this._priv_contentInfos===null){ve.Z.error("API: Added segment while no content is loaded");return}var R=u.value,N=R.content,G=R.segmentData;if(N.adaptation.type==="image"&&!(0,Ue.Z)(G)&&G.type==="bif"){var te=G.data;this._priv_contentInfos.thumbnails=te,this.trigger("imageTrackUpdate",{data:this._priv_contentInfos.thumbnails})}}},d._priv_onPlaybackError=function(u){var v=(0,mt.Z)(u,{defaultCode:"NONE",defaultReason:"An unknown error stopped content playback."});v.fatal=!0,this._priv_contentInfos!==null&&this._priv_contentInfos.currentContentCanceller.cancel(),this._priv_cleanUpCurrentContentState(),this._priv_currentError=v,ve.Z.error("API: The player stopped because of an error",u instanceof Error?u:""),this._priv_setPlayerState("STOPPED"),this._priv_currentError===v&&this.trigger("error",v)},d._priv_onPlaybackWarning=function(u){var v=(0,mt.Z)(u,{defaultCode:"NONE",defaultReason:"An unknown error happened."});ve.Z.warn("API: Sending warning:",v),this.trigger("warning",v)},d._priv_onManifestReady=function(u){var v=this,R=u.manifest,N=this._priv_contentInfos;if(N===null){ve.Z.error("API: The manifest is loaded but no content is.");return}N.manifest=R,this._priv_reloadingMetadata.manifest=R;var G=N.initialAudioTrack,te=N.initialTextTrack;this._priv_trackChoiceManager=new yg({preferTrickModeTracks:this._priv_preferTrickModeTracks});var de=G===void 0?this._priv_preferredAudioTracks:[G];this._priv_trackChoiceManager.setPreferredAudioTracks(de,!0);var ce=te===void 0?this._priv_preferredTextTracks:[te];this._priv_trackChoiceManager.setPreferredTextTracks(ce,!0),this._priv_trackChoiceManager.setPreferredVideoTracks(this._priv_preferredVideoTracks,!0),R.addEventListener("manifestUpdate",function(){v._priv_trackChoiceManager!==null&&v._priv_trackChoiceManager.update()},N.currentContentCanceller.signal)},d._priv_onActivePeriodChanged=function(u){var v=u.period,R,N,G,te,de,ce;if(this._priv_contentInfos===null){ve.Z.error("API: The active period changed but no content is loaded");return}if(this._priv_contentInfos.currentPeriod=v,this._priv_contentEventsMemory.periodChange!==v&&(this._priv_contentEventsMemory.periodChange=v,this.trigger("periodChange",v)),this.trigger("availableAudioTracksChange",this.getAvailableAudioTracks()),this.trigger("availableTextTracksChange",this.getAvailableTextTracks()),this.trigger("availableVideoTracksChange",this.getAvailableVideoTracks()),this._priv_trackChoiceManager!==null){var pe=this._priv_trackChoiceManager.getChosenAudioTrack(v),Ee=this._priv_trackChoiceManager.getChosenTextTrack(v),Ae=this._priv_trackChoiceManager.getChosenVideoTrack(v);this.trigger("audioTrackChange",pe),this.trigger("textTrackChange",Ee),this.trigger("videoTrackChange",Ae)}else this.trigger("audioTrackChange",null),this.trigger("textTrackChange",null),this.trigger("videoTrackChange",null);this._priv_triggerAvailableBitratesChangeEvent("availableAudioBitratesChange",this.getAvailableAudioBitrates()),this._priv_triggerAvailableBitratesChangeEvent("availableVideoBitratesChange",this.getAvailableVideoBitrates());var Ie=(G=(N=(R=this._priv_getCurrentRepresentations())===null||R===void 0?void 0:R.audio)===null||N===void 0?void 0:N.bitrate)!==null&&G!==void 0?G:-1;this._priv_triggerCurrentBitrateChangeEvent("audioBitrateChange",Ie);var Ne=(ce=(de=(te=this._priv_getCurrentRepresentations())===null||te===void 0?void 0:te.video)===null||de===void 0?void 0:de.bitrate)!==null&&ce!==void 0?ce:-1;this._priv_triggerCurrentBitrateChangeEvent("videoBitrateChange",Ne)},d._priv_onPeriodStreamReady=function(u){var v=u.type,R=u.period,N=u.adaptation$;switch(v){case"video":this._priv_trackChoiceManager===null?(ve.Z.error("API: TrackChoiceManager not instanciated for a new video period"),N.next(null)):(this._priv_trackChoiceManager.addPeriod(v,R,N),this._priv_trackChoiceManager.setInitialVideoTrack(R));break;case"audio":this._priv_trackChoiceManager===null?(ve.Z.error("API: TrackChoiceManager not instanciated for a new "+v+" period"),N.next(null)):(this._priv_trackChoiceManager.addPeriod(v,R,N),this._priv_trackChoiceManager.setInitialAudioTrack(R));break;case"text":this._priv_trackChoiceManager===null?(ve.Z.error("API: TrackChoiceManager not instanciated for a new "+v+" period"),N.next(null)):(this._priv_trackChoiceManager.addPeriod(v,R,N),this._priv_trackChoiceManager.setInitialTextTrack(R));break;default:var G=R.adaptations[v];!(0,Ue.Z)(G)&&G.length>0?N.next(G[0]):N.next(null);break}},d._priv_onPeriodStreamCleared=function(u){var v=u.type,R=u.period;switch(v){case"audio":case"text":case"video":this._priv_trackChoiceManager!==null&&this._priv_trackChoiceManager.removePeriod(v,R);break}if(this._priv_contentInfos!==null){var N=this._priv_contentInfos,G=N.activeAdaptations,te=N.activeRepresentations;if(!(0,Ue.Z)(G)&&!(0,Ue.Z)(G[R.id])){var de=G[R.id];delete de[v],Object.keys(de).length===0&&delete G[R.id]}if(!(0,Ue.Z)(te)&&!(0,Ue.Z)(te[R.id])){var ce=te[R.id];delete ce[v],Object.keys(ce).length===0&&delete te[R.id]}}},d._priv_onReloadingMediaSource=function(){this._priv_contentInfos!==null&&(this._priv_contentInfos.segmentBuffersStore=null),this._priv_trackChoiceManager!==null&&this._priv_trackChoiceManager.resetPeriods()},d._priv_onAdaptationChange=function(u){var v=u.type,R=u.adaptation,N=u.period;if(this._priv_contentInfos===null){ve.Z.error("API: The adaptations changed but no content is loaded");return}this._priv_contentInfos.activeAdaptations===null&&(this._priv_contentInfos.activeAdaptations={});var G=this._priv_contentInfos,te=G.activeAdaptations,de=G.currentPeriod,ce=te[N.id];if((0,Ue.Z)(ce)){var pe;te[N.id]=(pe={},pe[v]=R,pe)}else ce[v]=R;if(this._priv_trackChoiceManager!==null&&de!==null&&!(0,Ue.Z)(N)&&N.id===de.id)switch(v){case"audio":var Ee=this._priv_trackChoiceManager.getChosenAudioTrack(de);this.trigger("audioTrackChange",Ee);var Ae=this.getAvailableAudioBitrates();this._priv_triggerAvailableBitratesChangeEvent("availableAudioBitratesChange",Ae);break;case"text":var Ie=this._priv_trackChoiceManager.getChosenTextTrack(de);this.trigger("textTrackChange",Ie);break;case"video":var Ne=this._priv_trackChoiceManager.getChosenVideoTrack(de);this.trigger("videoTrackChange",Ne);var De=this.getAvailableVideoBitrates();this._priv_triggerAvailableBitratesChangeEvent("availableVideoBitratesChange",De);break}},d._priv_onRepresentationChange=function(u){var v=u.type,R=u.period,N=u.representation,G;if(this._priv_contentInfos===null){ve.Z.error("API: The representations changed but no content is loaded");return}this._priv_contentInfos.activeRepresentations===null&&(this._priv_contentInfos.activeRepresentations={});var te=this._priv_contentInfos,de=te.activeRepresentations,ce=te.currentPeriod,pe=de[R.id];if((0,Ue.Z)(pe)){var Ee;de[R.id]=(Ee={},Ee[v]=N,Ee)}else pe[v]=N;var Ae=(G=N==null?void 0:N.bitrate)!==null&&G!==void 0?G:-1;!(0,Ue.Z)(R)&&ce!==null&&ce.id===R.id&&(v==="video"?this._priv_triggerCurrentBitrateChangeEvent("videoBitrateChange",Ae):v==="audio"&&this._priv_triggerCurrentBitrateChangeEvent("audioBitrateChange",Ae))},d._priv_onBitrateEstimationChange=function(u){var v=u.type,R=u.bitrate;R!==void 0&&(this._priv_bitrateInfos.lastBitrates[v]=R),this.trigger("bitrateEstimationChange",{type:v,bitrate:R})},d._priv_onNativeTextTracksNext=function(u){this.trigger("nativeTextTracksChange",u)},d._priv_setPlayerState=function(u){this.state!==u&&(this.state=u,ve.Z.info("API: playerStateChange event",u),this.trigger("playerStateChange",u))},d._priv_triggerPositionUpdate=function(u){var v;if(this._priv_contentInfos===null){ve.Z.warn("API: Cannot perform time update: no content loaded.");return}var R=this._priv_contentInfos,N=R.isDirectFile,G=R.manifest;if(!(!N&&G===null||(0,Ue.Z)(u))){var te=G!==null?G.getMaximumSafePosition():void 0,de={position:u.position,duration:u.duration,playbackRate:u.playbackRate,maximumBufferTime:te,bufferGap:u.bufferGap===void 0||!isFinite(u.bufferGap)?0:u.bufferGap};if(G!==null&&G.isLive&&u.position>0){var ce=(v=G.availabilityStartTime)!==null&&v!==void 0?v:0;de.wallClockTime=u.position+ce;var pe=G.getLivePosition();pe!==void 0&&(de.liveGap=pe-u.position)}else if(N&&this.videoElement!==null){var Ee=Ke(this.videoElement);Ee!==void 0&&(de.wallClockTime=Ee+u.position)}this.trigger("positionUpdate",de)}},d._priv_triggerAvailableBitratesChangeEvent=function(u,v){var R=this._priv_contentEventsMemory[u];(R===void 0||!(0,dt.Z)(v,R))&&(this._priv_contentEventsMemory[u]=v,this.trigger(u,v))},d._priv_triggerCurrentBitrateChangeEvent=function(u,v){v!==this._priv_contentEventsMemory[u]&&(this._priv_contentEventsMemory[u]=v,this.trigger(u,v))},d._priv_getCurrentRepresentations=function(){if(this._priv_contentInfos===null)return null;var u=this._priv_contentInfos,v=u.currentPeriod,R=u.activeRepresentations;return v===null||R===null||(0,Ue.Z)(R[v.id])?null:R[v.id]},(0,E.Z)(T,null,[{key:"ErrorTypes",get:function(){return ht.ZB}},{key:"ErrorCodes",get:function(){return ht.SM}},{key:"LogLevel",get:function(){return ve.Z.getLevel()},set:function(u){ve.Z.setLevel(u)}}]),T}(Dt.Z);hc.version="3.29.0";var Pg=hc,Og=Pg,Dr=a(7273);function Dg(){Dr.Z.ContentDecryptor=a(1266).ZP,Dr.Z.imageBuffer=a(7127).Z,Dr.Z.imageParser=a(3203).Z,Dr.Z.transports.smooth=a(2339).Z,Dr.Z.transports.dash=a(85).Z,Dr.Z.dashParsers.js=a(4541).Z,Dr.Z.nativeTextTracksBuffer=a(9059).Z,Dr.Z.nativeTextTracksParsers.vtt=a(9405).Z,Dr.Z.nativeTextTracksParsers.ttml=a(1570).Z,Dr.Z.nativeTextTracksParsers.sami=a(1812).Z,Dr.Z.nativeTextTracksParsers.srt=a(8057).Z,Dr.Z.htmlTextTracksBuffer=a(5192).Z,Dr.Z.htmlTextTracksParsers.sami=a(5734).Z,Dr.Z.htmlTextTracksParsers.ttml=a(7439).Z,Dr.Z.htmlTextTracksParsers.srt=a(8675).Z,Dr.Z.htmlTextTracksParsers.vtt=a(4099).Z;{var s=a(8969).Z,T=a(6796).Z;Dr.Z.directfile={initDirectFile:s,mediaElementTrackChoiceManager:T}}}Dg(),typeof __RX_PLAYER_DEBUG_MODE__=="boolean"&&__RX_PLAYER_DEBUG_MODE__&&ve.Z.setLevel("DEBUG");var xg=Og}(),m=m.default,m}()})})(nE);const rE=Nv(Gd);const iE=({handleClickPlayPause:e,videoElementRef:t})=>Rr("video",{ref:t,onClick:e}),aE="/assets/pause-2387eddd.svg",uE="/assets/play-filled-cdd09ac5.svg",sE="/assets/volume-ceaefbbe.svg",oE="/assets/stop-filled-fe75cc62.svg",lE="https://teamplayer.ddns.net:32783/",dE=async e=>{const t=`${lE}/scene/${e}`;return await fetch(t).then(i=>i.json()).catch(i=>console.error(i.message))},xv=e=>{const t=e<3600?14:11;return new Date(e*1e3).toISOString().slice(t,19)},Lv=e=>Rr("button",{...e,className:"button"}),Vl=30,Hl=100,fE=({player:e,handleClickPlayPause:t})=>{const[n,i]=tr.useState(1),[a,m]=tr.useState(0),[E,_]=tr.useState(!1),[r,p]=tr.useState(void 0),g=e.getVideoDuration()||0,{data:S}=eE(["movie"],()=>dE(a)),h=l=>{const I=Number(l.target.value)/Hl;i(I),e.setVolume(I)},b=l=>{const I=Number(l.target.value);m(I),e.seekTo(I)},y=()=>{e.stop()},A=()=>{const l=e.getPlayerState();p(l)};return uu(u0,{children:[Rr("input",{type:"range",id:"position",name:"position",min:0,max:g,value:a,onChange:b,className:"positionControl"}),uu("div",{className:"toolbar",children:[uu("div",{className:"buttonContainer",children:[Rr(Lv,{onClick:()=>{t(),A()},children:Rr("img",{src:r==="PLAYING"?uE:aE,alt:"play",width:Vl})}),Rr(Lv,{onClick:y,children:Rr("img",{src:oE,alt:"stop",width:Vl})}),Rr("span",{onMouseOver:()=>{_(!0)},onMouseLeave:()=>{_(!1)},children:`${xv(a)} / ${xv(g)}`}),E&&Rr("span",{children:`(${S==null?void 0:S.title})`})]}),uu("span",{className:"wrapper",children:[Rr("label",{htmlFor:"volume",children:Rr("img",{src:sE,alt:"volume",width:Vl})}),Rr("input",{type:"range",id:"volume",name:"volume",min:0,max:Hl,value:n*Hl,onChange:h})]})]})]})},cE={initialVideoBitrate:7e5,initialAudioBitrate:5e3,minVideoBitrate:1e5,minAudioBitrate:1e5,maxVideoBitrate:1e6,maxAudioBitrate:1e6},vE=()=>{const e=tr.useRef(null),t=new rE({...cE,videoElement:e.current});t.loadVideo({url:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",transport:"directfile",autoPlay:!1});const n=a=>{console.error("the content stopped with the following error",a)};tr.useEffect(()=>(t.addEventListener("error",n),()=>{t.removeEventListener("error",n)}),[]);const i=()=>{t.getPlayerState()==="PLAYING"?t.pause():t.play()};return uu("div",{className:"App",children:[Rr("h2",{children:"OnePlayer - Canal +"}),Rr(iE,{videoElementRef:e,handleClickPlayPause:i}),Rr(fE,{player:t,handleClickPlayPause:i})]})};const hE=new T0;Hd.createRoot(document.getElementById("root")).render(Rr(qg.StrictMode,{children:uu(F_,{client:hE,children:[Rr(vE,{}),Rr(tE,{initialIsOpen:!1})]})}));
